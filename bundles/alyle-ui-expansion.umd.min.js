!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("@alyle/ui"),require("rxjs"),require("@angular/common"),require("@angular/animations"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@alyle/ui/expansion",["exports","@angular/core","@alyle/ui","rxjs","@angular/common","@angular/animations","rxjs/operators"],n):n(((e=e||self).ly=e.ly||{},e.ly.expansion={}),e.ng.core,e.ly.core,e.rxjs,e.ng.common,e.ng.animations,e.rxjs.operators)}(this,function(e,n,t,o,i,a,s){"use strict";var l=function(e,n){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)};function r(e,n,t,o){var i,a=arguments.length,s=a<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,n,t,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(a<3?i(s):a>3?i(n,t,s):i(n,t))||s);return a>3&&s&&Object.defineProperty(n,t,s),s}function p(e,n){return function(t,o){n(t,o,e)}}function c(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)}var d=function(e){return{$priority:-.9,$name:"expansion","@global":{"{panelTitle},{panelDescription}":{display:"flex",marginAfter:"16px"},"{panel}:not({disabled})":{"{panelTitle}":{color:e.text["default"]},"{panelDescription}":{color:e.text.secondary}}},root:{"&":e.expansion?e.expansion.root:null},panel:{display:"block",overflow:"hidden",position:"relative","&:not({disabled}) {panelHeader}":{cursor:"pointer"}},panelHeader:{display:"flex",position:"relative",flexDirection:"row",alignItems:"center",padding:"0 24px",transition:"height "+e.animations.durations.entering+"ms "+e.animations.curves.standard,fontFamily:e.typography.fontFamily,fontSize:e.pxToRem(15),fontWeight:400,"{panel}:not({expanded}):not({disabled}) &:hover":{background:e.hover,"@media (hover: none)":{background:"none"}}},panelHeaderContent:{display:"flex",flex:1,flexDirection:"row",alignItems:"center",overflow:"hidden"},panelContent:{display:"flex",flexDirection:"column",overflow:"visible"},panelBody:{visibility:"hidden",padding:"0 24px 16px",transition:"visibility "+e.animations.durations.entering+"ms "+e.animations.curves.standard,fontFamily:e.typography.fontFamily,fontSize:e.pxToRem(14),fontWeight:400,lineHeight:e.pxToRem(20)},panelTitle:{flexGrow:1},panelDescription:{flexGrow:2},panelActionRow:{borderTop:"1px solid "+e.divider,display:"flex",flexDirection:"row",justifyContent:"flex-end",padding:"16px 8px 16px 24px"},expanded:{"{panelBody}":{visibility:"visible"}},disabled:{color:e.disabled.contrast}}},u=function(){function e(e,n,t){this._theme=e,this._renderer=n,this._el=t,this.classes=this._theme.addStyleSheet(d),this._hasToggle=!0,this._openCloseAllActions=new o.Subject}return Object.defineProperty(e.prototype,"appearance",{get:function(){return this._appearance},set:function(e){this._appearance=e,this._appearanceClass=this._theme.addStyle("lyAccordion.appearance:"+e,function(n){if(!n.expansion.appearance||!n.expansion.appearance[e])throw new Error("Value expansion.appearance['"+e+"'] not found in ThemeVariables");return n.expansion.appearance[e]},this._el.nativeElement,this._appearanceClass,-.9,d)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiple",{get:function(){return this._multiple},set:function(e){this._multiple=t.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasToggle",{get:function(){return this._hasToggle},set:function(e){this._hasToggle=t.toBoolean(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this._theme.variables.expansion;if(!e)throw t.getLyThemeVariableUndefinedError("expansion");this._renderer.addClass(this._el.nativeElement,this.classes.root),e.defaultConfig&&e.defaultConfig.appearance&&null==this.appearance&&(this.appearance=e.defaultConfig.appearance)},e.prototype.closeAll=function(){this._openCloseAll(!0)},e.prototype.openAll=function(){this._openCloseAll(!1)},e.prototype._openCloseAll=function(e){this.multiple&&this._openCloseAllActions.next(e)},r([n.Input(),c("design:type",String),c("design:paramtypes",[String])],e.prototype,"appearance",null),r([n.Input(),c("design:type",Boolean),c("design:paramtypes",[Boolean])],e.prototype,"multiple",null),r([n.Input(),c("design:type",Boolean),c("design:paramtypes",[Boolean])],e.prototype,"hasToggle",null),e=r([n.Directive({selector:"ly-accordion",exportAs:"lyAccordion"}),c("design:paramtypes",[t.LyTheme2,n.Renderer2,n.ElementRef])],e)}(),f={contentExpansion:a.trigger("contentExpansion",[a.state("collapsed, void",a.style({height:"0px",visibility:"hidden"})),a.state("expanded",a.style({height:"*",visibility:"visible"})),a.transition("expanded <=> collapsed, void => collapsed",a.animate("{{panelAnimationTiming}}"))])},y=function(){function e(e){this._template=e}return e=r([n.Directive({selector:"ng-template[lyExpansionPanelContent]"}),c("design:paramtypes",[n.TemplateRef])],e)}(),g=function(e){this._theme=e},h=t.mixinStyleUpdater(t.mixinBg(t.mixinColor(t.mixinElevation(t.mixinShadowColor(g))))),m=function(e){function i(t,i,a,l,r){var p=e.call(this,l)||this;return p._el=t,p._renderer=i,p._cd=a,p._accordion=r,p.classes=p._accordion.classes,p._panelAnimationTiming=p._theme.variables.animations.durations.entering+"ms "+p._theme.variables.animations.curves.standard,p._openCloseAllSubscription=o.Subscription.EMPTY,p._hasToggle=!!p._accordion.hasToggle,p.closed=new n.EventEmitter,p.opened=new n.EventEmitter,p.afterCollapse=new n.EventEmitter,p.afterExpand=new n.EventEmitter,p.destroyed=new n.EventEmitter,p._bodyAnimationDone=new o.Subject,i.addClass(t.nativeElement,p._accordion.classes.panel),p._openCloseAllSubscription=p._subscribeToOpenCloseAllActions(),p._bodyAnimationDone.pipe(s.distinctUntilChanged(function(e,n){return e.fromState===n.fromState&&e.toState===n.toState})).subscribe(function(e){"void"!==e.fromState&&("expanded"===e.toState?p.afterExpand.emit():"collapsed"===e.toState&&p.afterCollapse.emit())}),p}return function(e,n){function t(){this.constructor=e}l(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}(i,e),Object.defineProperty(i.prototype,"disabled",{get:function(){return this._disabled},set:function(e){var n=t.toBoolean(e);n!==this.disabled&&(this._disabled=n,n?this._renderer.addClass(this._el.nativeElement,this._accordion.classes.disabled):this._renderer.removeClass(this._el.nativeElement,this._accordion.classes.disabled))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"expanded",{get:function(){return this._expanded},set:function(e){var n=t.toBoolean(e);n===this.expanded||this.disabled||(n&&!this._accordion.multiple&&this._accordion._openCloseAllActions.next(!1),this._expanded=n,n?(this._renderer.addClass(this._el.nativeElement,this._accordion.classes.expanded),this.opened.emit()):(this._renderer.removeClass(this._el.nativeElement,this._accordion.classes.expanded),this.closed.emit()),this._cd.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hasToggle",{get:function(){return null==this._hasToggle?this._accordion.hasToggle:this._hasToggle},set:function(e){this._hasToggle=t.toBoolean(e)},enumerable:!0,configurable:!0}),i.prototype.ngOnChanges=function(){this.updateStyle(this._el)},i.prototype.ngOnInit=function(){var e=!1;null==this.bg&&(this.bg="paper",e=!0),null==this.color&&(this.color="text",e=!0),null==this.elevation&&(this.elevation=2,e=!0),e&&this.ngOnChanges()},i.prototype.ngAfterContentInit=function(){var e=this;this._lazyContent&&this.opened.pipe(s.startWith(null),s.filter(function(){return!!e.expanded&&!e._lazyContentRef}),s.first()).subscribe(function(){return e._lazyContentRef=e._lazyContent._template})},i.prototype.ngOnDestroy=function(){this._openCloseAllSubscription.unsubscribe()},i.prototype.close=function(){this.expanded=!1},i.prototype.open=function(){this.expanded=!0},i.prototype.toggle=function(){this.expanded=!this.expanded},i.prototype._getExpandedState=function(){return this.expanded?"expanded":"collapsed"},i.prototype._subscribeToOpenCloseAllActions=function(){var e=this;return this._accordion._openCloseAllActions.subscribe(function(n){e.expanded=n})},r([n.ContentChild(y,{"static":!1}),c("design:type",y)],i.prototype,"_lazyContent",void 0),r([n.Output(),c("design:type",n.EventEmitter)],i.prototype,"closed",void 0),r([n.Output(),c("design:type",n.EventEmitter)],i.prototype,"opened",void 0),r([n.Output(),c("design:type",n.EventEmitter)],i.prototype,"afterCollapse",void 0),r([n.Output(),c("design:type",n.EventEmitter)],i.prototype,"afterExpand",void 0),r([n.Output(),c("design:type",n.EventEmitter)],i.prototype,"destroyed",void 0),r([n.Input(),c("design:type",Boolean),c("design:paramtypes",[Boolean])],i.prototype,"disabled",null),r([n.Input(),c("design:type",Boolean),c("design:paramtypes",[Boolean])],i.prototype,"expanded",null),r([n.Input(),c("design:type",Boolean),c("design:paramtypes",[Boolean])],i.prototype,"hasToggle",null),i=r([n.Component({selector:"ly-expansion-panel",template:'<ng-content select="ly-expansion-panel-header"></ng-content>\n<div [className]="classes.panelContent"\n  [@contentExpansion]="{\n    value: _getExpandedState(),\n    params: {\n      panelAnimationTiming: _panelAnimationTiming\n    }\n  }"\n  (@contentExpansion.done)="_bodyAnimationDone.next($event)"\n>\n  <div [className]="classes.panelBody">\n    <ng-content></ng-content>\n    <ng-template [ngTransclude]="_lazyContentRef"></ng-template>\n  </div>\n  <ng-content select="ly-action-row"></ng-content>\n</div>',changeDetection:n.ChangeDetectionStrategy.OnPush,exportAs:"lyExpansionPanel",animations:[f.contentExpansion],inputs:["bg","color","elevation","shadowColor"]}),p(4,n.Inject(u)),c("design:paramtypes",[n.ElementRef,n.Renderer2,n.ChangeDetectorRef,t.LyTheme2,u])],i)}(h),x=function(){function e(e,n,t,o){this._accordion=t,this._expansionPanel=o,this.classes=this._accordion.classes,n.addClass(e.nativeElement,this._accordion.classes.panelHeader)}return e=r([n.Component({selector:"ly-expansion-panel-header",template:'<span [className]="classes.panelHeaderContent">\n  <ng-content select="ly-panel-title"></ng-content>\n  <ng-content select="ly-panel-description"></ng-content>\n  <ng-content></ng-content>\n</span>\n<ly-expansion-icon\n  *ngIf="!_expansionPanel.disabled && _expansionPanel.hasToggle"\n  [up]="_expansionPanel.expanded"\n></ly-expansion-icon>',host:{"(click)":"_expansionPanel.toggle()"}}),p(2,n.Inject(u)),p(3,n.Inject(m)),c("design:paramtypes",[n.ElementRef,n.Renderer2,u,m])],e)}(),_=function(){function e(e,n,t){n.addClass(e.nativeElement,t.classes.panelTitle)}return e=r([n.Directive({selector:"ly-panel-title"}),p(2,n.Inject(u)),c("design:paramtypes",[n.ElementRef,n.Renderer2,u])],e)}(),b=function(){function e(e,n,t){n.addClass(e.nativeElement,t.classes.panelDescription)}return e=r([n.Directive({selector:"ly-panel-description"}),p(2,n.Inject(u)),c("design:paramtypes",[n.ElementRef,n.Renderer2,u])],e)}(),v=function(){function e(e,n,t){n.addClass(e.nativeElement,t.classes.panelActionRow)}return e=r([n.Directive({selector:"ly-action-row"}),p(2,n.Inject(u)),c("design:paramtypes",[n.ElementRef,n.Renderer2,u])],e)}(),E=function(){function e(){}return e=r([n.NgModule({declarations:[u,m,x,y,_,b,v],imports:[i.CommonModule,t.LyExpansionIconModule,t.NgTranscludeModule],exports:[u,m,x,y,_,b,v]})],e)}();e.LyAccordion=u,e.LyButtonMixinBase=h,e.LyExpansionModule=E,e.LyExpansionPanel=m,e.LyExpansionPanelBase=g,e.LyExpansionPanelContent=y,e.LyExpansionPanelDescription=b,e.LyExpansionPanelHeader=x,e.LyExpansionPanelTitle=_,e.STYLES=d,e.ɵa=f,e.ɵb=v,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=alyle-ui-expansion.umd.min.js.map