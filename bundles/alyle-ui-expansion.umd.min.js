!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/common"),require("@alyle/ui"),require("@angular/animations"),require("rxjs"),require("rxjs/operators"),require("@angular/core")):"function"==typeof define&&define.amd?define("@alyle/ui/expansion",["exports","@angular/common","@alyle/ui","@angular/animations","rxjs","rxjs/operators","@angular/core"],n):n((e.ly=e.ly||{},e.ly.expansion={}),e.ng.common,e.ly.core,e.ng.animations,e.rxjs,e.rxjs.operators,e.ng.core)}(this,function(e,n,t,o,s,l,p){"use strict";var i=function(e){return{$priority:-.9,$name:"expansion","@global":{"{panelTitle},{panelDescription}":{display:"flex",marginAfter:"16px"},"{panel}:not({disabled})":{"{panelTitle}":{color:e.text["default"]},"{panelDescription}":{color:e.text.secondary}}},root:{"&":e.expansion?e.expansion.root:null},panel:{display:"block",overflow:"hidden",position:"relative","&:not({disabled}) {panelHeader}":{cursor:"pointer"}},panelHeader:{display:"flex",position:"relative",flexDirection:"row",alignItems:"center",padding:"0 24px",transition:"height "+e.animations.durations.entering+"ms "+e.animations.curves.standard,fontFamily:e.typography.fontFamily,fontSize:e.pxToRem(15),fontWeight:400,"{panel}:not({expanded}):not({disabled}) &:hover":{background:e.hover,"@media (hover: none)":{background:"none"}}},panelHeaderContent:{display:"flex",flex:1,flexDirection:"row",alignItems:"center",overflow:"hidden"},panelContent:{display:"flex",flexDirection:"column",overflow:"visible"},panelBody:{visibility:"hidden",padding:"0 24px 16px",transition:"visibility "+e.animations.durations.entering+"ms "+e.animations.curves.standard,fontFamily:e.typography.fontFamily,fontSize:e.pxToRem(14),fontWeight:400,lineHeight:e.pxToRem(20)},panelTitle:{flexGrow:1},panelDescription:{flexGrow:2},panelActionRow:{borderTop:"1px solid "+e.divider,display:"flex",flexDirection:"row",justifyContent:"flex-end",padding:"16px 8px 16px 24px"},expanded:{"{panelBody}":{visibility:"visible"}},disabled:{color:e.disabled.contrast}}},a=function(){function e(e,n,t){this._theme=e,this._renderer=n,this._el=t,this.classes=this._theme.addStyleSheet(i),this._hasToggle=!0,this._openCloseAllActions=new s.Subject}return Object.defineProperty(e.prototype,"appearance",{get:function(){return this._appearance},set:function(n){this._appearance=n,this._appearanceClass=this._theme.addStyle("lyAccordion.appearance:"+n,function(e){if(!e.expansion.appearance||!e.expansion.appearance[n])throw new Error("Value expansion.appearance['"+n+"'] not found in ThemeVariables");return e.expansion.appearance[n]},this._el.nativeElement,this._appearanceClass,-.9,i)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiple",{get:function(){return this._multiple},set:function(e){this._multiple=t.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasToggle",{get:function(){return this._hasToggle},set:function(e){this._hasToggle=t.toBoolean(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this._theme.variables.expansion;if(!e)throw t.getLyThemeVariableUndefinedError("expansion");this._renderer.addClass(this._el.nativeElement,this.classes.root),e.defaultConfig&&e.defaultConfig.appearance&&null==this.appearance&&(this.appearance=e.defaultConfig.appearance)},e.prototype.closeAll=function(){this._openCloseAll(!0)},e.prototype.openAll=function(){this._openCloseAll(!1)},e.prototype._openCloseAll=function(e){this.multiple&&this._openCloseAllActions.next(e)},e.decorators=[{type:p.Directive,args:[{selector:"ly-accordion",exportAs:"lyAccordion"}]}],e.ctorParameters=function(){return[{type:t.LyTheme2},{type:p.Renderer2},{type:p.ElementRef}]},e.propDecorators={appearance:[{type:p.Input}],multiple:[{type:p.Input}],hasToggle:[{type:p.Input}]},e}(),c=function(e,n){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)};var d={contentExpansion:o.trigger("contentExpansion",[o.state("collapsed, void",o.style({height:"0px",visibility:"hidden"})),o.state("expanded",o.style({height:"*",visibility:"visible"})),o.transition("expanded <=> collapsed, void => collapsed",o.animate("{{panelAnimationTiming}}"))])},u=function(){function e(e){this._template=e}return e.decorators=[{type:p.Directive,args:[{selector:"ng-template[lyExpansionPanelContent]"}]}],e.ctorParameters=function(){return[{type:p.TemplateRef}]},e}(),r=function b(e){this._theme=e},y=t.mixinStyleUpdater(t.mixinBg(t.mixinColor(t.mixinElevation(t.mixinShadowColor(r))))),f=function(r){function e(e,n,t,o,i){var a=r.call(this,o)||this;return a._el=e,a._renderer=n,a._cd=t,a._accordion=i,a.classes=a._accordion.classes,a._panelAnimationTiming=a._theme.variables.animations.durations.entering+"ms "+a._theme.variables.animations.curves.standard,a._openCloseAllSubscription=s.Subscription.EMPTY,a._hasToggle=!!a._accordion.hasToggle,a.closed=new p.EventEmitter,a.opened=new p.EventEmitter,a.afterCollapse=new p.EventEmitter,a.afterExpand=new p.EventEmitter,a.destroyed=new p.EventEmitter,a._bodyAnimationDone=new s.Subject,n.addClass(e.nativeElement,a._accordion.classes.panel),a._openCloseAllSubscription=a._subscribeToOpenCloseAllActions(),a._bodyAnimationDone.pipe(l.distinctUntilChanged(function(e,n){return e.fromState===n.fromState&&e.toState===n.toState})).subscribe(function(e){"void"!==e.fromState&&("expanded"===e.toState?a.afterExpand.emit():"collapsed"===e.toState&&a.afterCollapse.emit())}),a}return function o(e,n){function t(){this.constructor=e}c(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}(e,r),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){var n=t.toBoolean(e);n!==this.disabled&&((this._disabled=n)?this._renderer.addClass(this._el.nativeElement,this._accordion.classes.disabled):this._renderer.removeClass(this._el.nativeElement,this._accordion.classes.disabled))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expanded",{get:function(){return this._expanded},set:function(e){var n=t.toBoolean(e);n===this.expanded||this.disabled||(n&&!this._accordion.multiple&&this._accordion._openCloseAllActions.next(!1),(this._expanded=n)?(this._renderer.addClass(this._el.nativeElement,this._accordion.classes.expanded),this.opened.emit()):(this._renderer.removeClass(this._el.nativeElement,this._accordion.classes.expanded),this.closed.emit()),this._cd.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasToggle",{get:function(){return null==this._hasToggle?this._accordion.hasToggle:this._hasToggle},set:function(e){this._hasToggle=t.toBoolean(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(){this.updateStyle(this._el)},e.prototype.ngOnInit=function(){var e=!1;null==this.bg&&(this.bg="paper",e=!0),null==this.color&&(this.color="text",e=!0),null==this.elevation&&(this.elevation=2,e=!0),e&&this.ngOnChanges()},e.prototype.ngAfterContentInit=function(){var e=this;this._lazyContent&&this.opened.pipe(l.startWith(null),l.filter(function(){return!!e.expanded&&!e._lazyContentRef}),l.first()).subscribe(function(){return e._lazyContentRef=e._lazyContent._template})},e.prototype.ngOnDestroy=function(){this._openCloseAllSubscription.unsubscribe()},e.prototype.close=function(){this.expanded=!1},e.prototype.open=function(){this.expanded=!0},e.prototype.toggle=function(){this.expanded=!this.expanded},e.prototype._getExpandedState=function(){return this.expanded?"expanded":"collapsed"},e.prototype._subscribeToOpenCloseAllActions=function(){var n=this;return this._accordion._openCloseAllActions.subscribe(function(e){n.expanded=e})},e.decorators=[{type:p.Component,args:[{selector:"ly-expansion-panel",template:'<ng-content select="ly-expansion-panel-header"></ng-content>\n<div [className]="classes.panelContent"\n  [@contentExpansion]="{\n    value: _getExpandedState(),\n    params: {\n      panelAnimationTiming: _panelAnimationTiming\n    }\n  }"\n  (@contentExpansion.done)="_bodyAnimationDone.next($event)"\n>\n  <div [className]="classes.panelBody">\n    <ng-content></ng-content>\n    <ng-template [ngTransclude]="_lazyContentRef"></ng-template>\n  </div>\n  <ng-content select="ly-action-row"></ng-content>\n</div>',changeDetection:p.ChangeDetectionStrategy.OnPush,exportAs:"lyExpansionPanel",animations:[d.contentExpansion],inputs:["bg","color","elevation","shadowColor"]}]}],e.ctorParameters=function(){return[{type:p.ElementRef},{type:p.Renderer2},{type:p.ChangeDetectorRef},{type:t.LyTheme2},{type:a,decorators:[{type:p.Inject,args:[a]}]}]},e.propDecorators={_lazyContent:[{type:p.ContentChild,args:[u]}],closed:[{type:p.Output}],opened:[{type:p.Output}],afterCollapse:[{type:p.Output}],afterExpand:[{type:p.Output}],destroyed:[{type:p.Output}],disabled:[{type:p.Input}],expanded:[{type:p.Input}],hasToggle:[{type:p.Input}]},e}(y),h=function(){function e(e,n,t,o){this._accordion=t,this._expansionPanel=o,this.classes=this._accordion.classes,n.addClass(e.nativeElement,this._accordion.classes.panelHeader)}return e.decorators=[{type:p.Component,args:[{selector:"ly-expansion-panel-header",template:'<span [className]="classes.panelHeaderContent">\n  <ng-content select="ly-panel-title"></ng-content>\n  <ng-content select="ly-panel-description"></ng-content>\n  <ng-content></ng-content>\n</span>\n<ly-expansion-icon\n  *ngIf="!_expansionPanel.disabled && _expansionPanel.hasToggle"\n  [up]="_expansionPanel.expanded"\n></ly-expansion-icon>',host:{"(click)":"_expansionPanel.toggle()"}}]}],e.ctorParameters=function(){return[{type:p.ElementRef},{type:p.Renderer2},{type:a,decorators:[{type:p.Inject,args:[a]}]},{type:f,decorators:[{type:p.Inject,args:[f]}]}]},e}(),g=function(){function e(e,n,t){n.addClass(e.nativeElement,t.classes.panelTitle)}return e.decorators=[{type:p.Directive,args:[{selector:"ly-panel-title"}]}],e.ctorParameters=function(){return[{type:p.ElementRef},{type:p.Renderer2},{type:a,decorators:[{type:p.Inject,args:[a]}]}]},e}(),m=function(){function e(e,n,t){n.addClass(e.nativeElement,t.classes.panelDescription)}return e.decorators=[{type:p.Directive,args:[{selector:"ly-panel-description"}]}],e.ctorParameters=function(){return[{type:p.ElementRef},{type:p.Renderer2},{type:a,decorators:[{type:p.Inject,args:[a]}]}]},e}(),x=function(){function e(e,n,t){n.addClass(e.nativeElement,t.classes.panelActionRow)}return e.decorators=[{type:p.Directive,args:[{selector:"ly-action-row"}]}],e.ctorParameters=function(){return[{type:p.ElementRef},{type:p.Renderer2},{type:a,decorators:[{type:p.Inject,args:[a]}]}]},e}(),_=function(){function e(){}return e.decorators=[{type:p.NgModule,args:[{declarations:[a,f,h,u,g,m,x],imports:[n.CommonModule,t.LyExpansionIconModule,t.NgTranscludeModule],exports:[a,f,h,u,g,m,x]}]}],e}();e.STYLES=i,e.LyAccordion=a,e.LyExpansionModule=_,e.LyExpansionPanelBase=r,e.LyButtonMixinBase=y,e.LyExpansionPanel=f,e.LyExpansionPanelContent=u,e.LyExpansionPanelDescription=m,e.LyExpansionPanelHeader=h,e.LyExpansionPanelTitle=g,e.ɵa=d,e.ɵb=x,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=alyle-ui-expansion.umd.min.js.map