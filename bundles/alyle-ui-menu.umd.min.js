!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@alyle/ui"),require("@angular/animations"),require("@angular/forms"),require("@angular/common")):"function"==typeof define&&define.amd?define("@alyle/ui/menu",["exports","@angular/core","@alyle/ui","@angular/animations","@angular/forms","@angular/common"],t):t((e.ly=e.ly||{},e.ly.menu={}),e.ng.core,e.ly.core,e.ng.animations,e.ng.forms,e.ng.common)}(this,function(e,t,o,n,r,i){"use strict";var a=function(){return(a=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(o=i.next()).done;)a.push(o.value)}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i["return"])&&n.call(i)}finally{if(r)throw r.error}}return a}var u=o.YPosition.below,l=o.XPosition.after,c=function(e){return{container:a({background:e.background.primary["default"],borderRadius:"2px",boxShadow:o.shadowBuilder(4),display:"inline-block",paddingTop:"8px",paddingBottom:"8px",transformOrigin:"inherit",pointerEvents:"all"},e.menu.root)}},p=[n.trigger("menuEnter",[n.transition("void => in",[n.animate("125ms cubic-bezier(0, 0, 0.2, 1)",n.keyframes([n.style({opacity:0,transform:"scale(0.8)"}),n.style({opacity:1,transform:"scale(1)"})]))])]),n.trigger("menuLeave",[n.transition("* => void",n.animate("150ms linear",n.style({opacity:0})))])],m=function(){function e(e,t,n){this._theme=e,this._el=t,this._renderer=n,this.classes=this._theme.addStyleSheet(c,-1)}return e.prototype.endAnimation=function(e){"void"===e.toState&&this.ref.destroy()},e.prototype.ngOnInit=function(){this.placement||this.xPosition||this.yPosition||(this.xPosition=l,this.placement=u)},e.prototype.ngAfterViewInit=function(){this._updatePlacement()},e.prototype._updatePlacement=function(){var e=this._el.nativeElement,t=new o.Positioning(this.placement,this.xPosition,this.yPosition,this.ref._getHostElement(),e,this._theme.config);this._renderer.setStyle(e,"transform","translate3d("+t.x+"px, "+t.y+"px, 0)"),this._renderer.setStyle(e,"transform-origin",t.ox+" "+t.oy+" 0")},e.decorators=[{type:t.Component,args:[{selector:"ly-menu",animations:function n(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}(p),template:'<div [class]="classes.container" [@menuEnter]="\'in\'">\n  <ng-content></ng-content>\n</div>',exportAs:"lyMenu"}]}],e.ctorParameters=function(){return[{type:o.LyTheme2},{type:t.ElementRef},{type:t.Renderer2}]},e.propDecorators={ref:[{type:t.Input}],placement:[{type:t.Input}],xPosition:[{type:t.Input}],yPosition:[{type:t.Input}],menuLeave2:[{type:t.HostBinding,args:["@menuLeave"]}],endAnimation:[{type:t.HostListener,args:["@menuLeave.done",["$event"]]}]},e}(),y={display:"block",minHeight:"48px",borderRadius:0,width:"100%"},f=function(){function e(e,t,n){this._menu=e,n.addStyle("lyMenuItem",y,t.nativeElement,undefined,-1)}return e.prototype._click=function(){this._menu.ref&&this._menu.ref._menuRef.detach()},e.decorators=[{type:t.Directive,args:[{selector:"[ly-menu-item]"}]}],e.ctorParameters=function(){return[{type:m,decorators:[{type:t.Optional}]},{type:t.ElementRef},{type:o.LyTheme2}]},e.propDecorators={_click:[{type:t.HostListener,args:["click"]}]},e}(),d=function(){function e(e,t){this.elementRef=e,this.overlay=t}return e.prototype._targetPosition=function(){return this.elementRef.nativeElement.getBoundingClientRect()},e.prototype._handleClick=function(){if(this._menuRef)this._menuRef.detach();else{var e=this._targetPosition();this._menuRef=this.overlay.create(this.lyMenuTriggerFor,{$implicit:this},{styles:{top:e.top,left:e.left,right:null,bottom:null,pointerEvents:null},fnDestroy:this.detach.bind(this),host:this.elementRef.nativeElement,backdrop:!0})}},e.prototype.detach=function(){this._menuRef.detach()},e.prototype.destroy=function(){this._menuRef&&(this._menuRef.remove(),this._menuRef=null)},e.prototype.ngOnDestroy=function(){this._menuRef&&this._menuRef.detach()},e.prototype._getHostElement=function(){return this.elementRef.nativeElement},e.decorators=[{type:t.Directive,args:[{selector:"[lyMenuTriggerFor]",host:{"(click)":"_handleClick($event)"}}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:o.LyOverlay}]},e.propDecorators={lyMenuTriggerFor:[{type:t.Input}]},e}(),h=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[i.CommonModule,r.FormsModule,o.LyCommonModule,o.LyOverlayModule],exports:[m,f,d],declarations:[m,f,d]}]}],e}();e.LyMenu=m,e.LyMenuItem=f,e.LyMenuTriggerFor=d,e.LyMenuModule=h,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=alyle-ui-menu.umd.min.js.map