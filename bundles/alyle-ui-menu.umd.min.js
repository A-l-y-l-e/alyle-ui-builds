!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@alyle/ui"),require("@angular/animations"),require("@angular/forms"),require("@angular/common")):"function"==typeof define&&define.amd?define("@alyle/ui/menu",["exports","@angular/core","@alyle/ui","@angular/animations","@angular/forms","@angular/common"],t):t(((e=e||self).ly=e.ly||{},e.ly.menu={}),e.ng.core,e.ly.core,e.ng.animations,e.ng.forms,e.ng.common)}(this,(function(e,t,n,o,r,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function s(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s}function a(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}var l=n.YPosition.below,c=n.XPosition.after,p=function(e,t){var o=t.selectorsOf(p);return{$priority:-1,root:function(){return e.menu&&e.menu.root&&(e.menu.root instanceof n.StyleCollection?e.menu.root.setTransformer((function(e){return e(o)})).css:e.menu.root(o))},container:function(t){return t+"{background:"+e.background.primary.default+";border-radius:2px;box-shadow:"+n.shadowBuilder(4)+";display:block;padding-top:8px;padding-bottom:8px;transform-origin:inherit;pointer-events:all;overflow:auto;max-height:inherit;max-width:inherit;box-sizing:border-box;}"},item:function(e){return e+"{display:flex;min-height:48px;border-radius:0;width:100%;justify-content:flex-start;}"}}},h=p,m=[o.trigger("menuEnter",[o.transition("void => in",[o.animate("125ms cubic-bezier(0, 0, 0.2, 1)",o.keyframes([o.style({opacity:0,transform:"scale(0.8)"}),o.style({opacity:1,transform:"scale(1)"})]))])]),o.trigger("menuLeave",[o.transition("* => void",o.animate("150ms linear",o.style({opacity:0})))])],f=function(){function e(e,t,n){this._theme=e,this._el=t,this._renderer=n,this.classes=this._theme.renderStyleSheet(p),this._hasBackdrop=!0,this._renderer.addClass(this._el.nativeElement,this.classes.root)}return Object.defineProperty(e.prototype,"hasBackdrop",{get:function(){return this._hasBackdrop},set:function(e){this._hasBackdrop=n.toBoolean(e)},enumerable:!0,configurable:!0}),e.prototype.endAnimation=function(e){"void"===e.toState&&this.ref.destroy()},e.prototype.ngOnInit=function(){if(!this.ref)throw new Error("LyMenu: require @Input() ref");this.placement||this.xPosition||this.yPosition||(this.xPosition=c,this.placement=l)},e.prototype.ngAfterViewInit=function(){var e=this;this.ref._menuRef&&(this.ref._menuRef.onResizeScroll=this._updatePlacement.bind(this),this.ref._menuRef.updateBackdrop(this.hasBackdrop)),this._updatePlacement(),this.ref.menuOpened.emit(),Promise.resolve(null).then((function(){e.ref._setMenuOpenToTrue()}))},e.prototype._updatePlacement=function(){var e=this.ref._menuRef.containerElement,t=this._container.nativeElement;this._renderer.setStyle(t,"height","initial"),this._renderer.setStyle(t,"width","initial");var o=new n.Positioning(this.placement,this.xPosition,this.yPosition,this.ref._getHostElement(),e,this._theme.variables);this._renderer.setStyle(e,"transform","translate3d("+o.x+"px, "+o.y+"px, 0)"),this._renderer.setStyle(this._el.nativeElement,"transform-origin",o.ox+" "+o.oy+" 0"),this._renderer.setStyle(t,"height","initial"===o.height?"100%":o.height),this._renderer.setStyle(t,"width","initial"===o.width?"100%":o.width)},e.ctorParameters=function(){return[{type:n.LyTheme2},{type:t.ElementRef},{type:t.Renderer2}]},s([t.ViewChild("container",{static:!1})],e.prototype,"_container",void 0),s([t.Input()],e.prototype,"ref",void 0),s([t.Input()],e.prototype,"placement",void 0),s([t.Input()],e.prototype,"xPosition",void 0),s([t.Input()],e.prototype,"yPosition",void 0),s([t.Input()],e.prototype,"hasBackdrop",null),s([t.HostBinding("@menuLeave")],e.prototype,"menuLeave2",void 0),s([t.HostListener("@menuLeave.done",["$event"])],e.prototype,"endAnimation",null),e=s([t.Component({selector:"ly-menu",animations:a(m),template:'<div #container\n  [class]="classes.container"\n  [@menuEnter]="\'in\'">\n  <ng-content></ng-content>\n</div>',exportAs:"lyMenu"})],e)}(),d=function(){function e(e,t,n){this._menu=e,n.addClass(t.nativeElement,e.classes.item)}var n,o;return e.prototype._click=function(){this._menu.ref&&this._menu.ref._menuRef&&this._menu.ref.closeMenu()},e.ctorParameters=function(){return[{type:f,decorators:[{type:t.Optional}]},{type:t.ElementRef},{type:t.Renderer2}]},s([t.HostListener("click")],e.prototype,"_click",null),e=s([t.Directive({selector:"[ly-menu-item]"}),(n=0,o=t.Optional(),function(e,t){o(e,t,n)})],e)}(),y=function(){function e(e,n){this.elementRef=e,this.overlay=n,this._menuOpen=!1,this.menuOpened=new t.EventEmitter,this.menuClosed=new t.EventEmitter}return Object.defineProperty(e.prototype,"menuOpen",{get:function(){return this._menuOpen},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this._destroying||this.closeMenu()},e.prototype._handleClick=function(){this.toggleMenu()},e.prototype.openMenu=function(){this._menuRef||(this._menuRef=this.overlay.create(this.lyMenuTriggerFor,{$implicit:this},{styles:{top:0,left:0,pointerEvents:null},fnDestroy:this.detach.bind(this),hasBackdrop:!1}))},e.prototype.closeMenu=function(){this.detach()},e.prototype.toggleMenu=function(){this._menuRef?this.closeMenu():this.openMenu()},e.prototype.detach=function(){this._menuRef&&(this._destroying=!0,this._menuRef.detach())},e.prototype.destroy=function(){var e=this;this._menuRef&&(this.menuClosed.emit(null),this._menuRef.remove(),this._menuRef=null,this._destroying=!1,Promise.resolve(null).then((function(){return e._menuOpen=!1})))},e.prototype._getHostElement=function(){return this.elementRef.nativeElement},e.prototype._setMenuOpenToTrue=function(){this._menuOpen=!0},e.ctorParameters=function(){return[{type:t.ElementRef},{type:n.LyOverlay}]},s([t.Input()],e.prototype,"lyMenuTriggerFor",void 0),s([t.Output()],e.prototype,"menuOpened",void 0),s([t.Output()],e.prototype,"menuClosed",void 0),e=s([t.Directive({selector:"[lyMenuTriggerFor]",host:{"(click)":"_handleClick()"},exportAs:"lyMenuTriggerFor"})],e)}(),g=function(){function e(){}return e=s([t.NgModule({imports:[i.CommonModule,r.FormsModule,n.LyCommonModule,n.LyOverlayModule],exports:[f,d,y],declarations:[f,d,y]})],e)}();e.LyMenu=f,e.LyMenuItem=d,e.LyMenuModule=g,e.LyMenuTriggerFor=y,e.Éµ0=h,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=alyle-ui-menu.umd.min.js.map