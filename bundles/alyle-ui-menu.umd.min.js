!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/animations"),require("@alyle/ui"),require("@angular/forms"),require("@angular/common")):"function"==typeof define&&define.amd?define("@alyle/ui/menu",["exports","@angular/core","@angular/animations","@alyle/ui","@angular/forms","@angular/common"],t):t((e.alyle=e.alyle||{},e.alyle.ui=e.alyle.ui||{},e.alyle.ui.menu={}),e.ng.core,e.ng.animations,e.alyle.ui,e.ng.forms,e.ng.common)}(this,function(e,t,n,r,o,i){"use strict";var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=function(e){return{root:a({background:e.background.primary["default"],borderRadius:"2px",boxShadow:r.shadowBuilder(4),display:"inline-block",paddingTop:"8px",paddingBottom:"8px",transformOrigin:"left top 0px"},e.menu.root)}},u=function(){function e(e,t){this.theme=e,this._el=t,this.classes=this.theme.addStyleSheet(s,-1),this._el.nativeElement.classList.add(this.classes.root)}return e.prototype.endAnimation=function(e){"void"===e.toState&&this.ref.destroy()},e.decorators=[{type:t.Component,args:[{selector:"ly-menu",animations:[n.trigger("menuEnter",[n.transition(":enter",[n.animate("120ms cubic-bezier(0, 0, 0.2, 1)",n.keyframes([n.style({opacity:0,transform:"scale(0.8)"}),n.style({opacity:1,transform:"scale(1)"})]))])]),n.trigger("menuLeave",[n.transition("* => void",n.animate("100ms 25ms linear",n.style({opacity:0})))])],template:"<ng-content></ng-content>",exportAs:"lyMenu"}]}],e.ctorParameters=function(){return[{type:r.LyTheme2},{type:t.ElementRef}]},e.propDecorators={ref:[{type:t.Input}],menuEnter:[{type:t.HostBinding,args:["@menuEnter"]}],menuLeave2:[{type:t.HostBinding,args:["@menuLeave"]}],endAnimation:[{type:t.HostListener,args:["@menuLeave.done",["$event"]]}]},e}(),l={display:"block",minHeight:"48px",borderRadius:0,width:"100%"},c=function(){function e(e,t,n){this._menu=e,n.addStyle("lyMenuItem",l,t.nativeElement,undefined,-1)}return e.prototype._click=function(){this._menu.ref&&this._menu.ref._menuRef.detach()},e.decorators=[{type:t.Directive,args:[{selector:"[ly-menu-item]"}]}],e.ctorParameters=function(){return[{type:u,decorators:[{type:t.Optional}]},{type:t.ElementRef},{type:r.LyTheme2}]},e.propDecorators={_click:[{type:t.HostListener,args:["click"]}]},e}(),m=function(){function e(e,t){this.elementRef=e,this.overlay=t}return e.prototype.targetPosition=function(){return this.elementRef.nativeElement.getBoundingClientRect()},e.prototype._handleClick=function(){if(this._menuRef)this._menuRef.detach();else{var e=this.targetPosition();this._menuRef=this.overlay.create(this.lyMenuTriggerFor,{$implicit:this},{styles:{top:e.top,left:e.left,right:null,bottom:null},fnDestroy:this.detach.bind(this),host:this.elementRef.nativeElement,backdrop:!0})}},e.prototype.detach=function(){this._menuRef.detach()},e.prototype.destroy=function(){this._menuRef&&(this._menuRef.remove(),this._menuRef=null)},e.prototype.ngOnDestroy=function(){this._menuRef&&this._menuRef.detach()},e.decorators=[{type:t.Directive,args:[{selector:"[lyMenuTriggerFor]",host:{"(click)":"_handleClick($event)"}}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:r.LyOverlay}]},e.propDecorators={lyMenuTriggerFor:[{type:t.Input}]},e}(),y=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[i.CommonModule,o.FormsModule,r.LyCommonModule,r.LxDomModule,r.LyOverlayModule],exports:[u,c,m],declarations:[u,c,m]}]}],e}();e.LyMenu=u,e.LyMenuItem=c,e.LyMenuTriggerFor=m,e.LyMenuModule=y,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=alyle-ui-menu.umd.min.js.map