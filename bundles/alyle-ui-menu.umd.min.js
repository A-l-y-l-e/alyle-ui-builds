!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@alyle/ui"),require("@angular/animations"),require("@angular/forms"),require("@angular/common")):"function"==typeof define&&define.amd?define("@alyle/ui/menu",["exports","@angular/core","@alyle/ui","@angular/animations","@angular/forms","@angular/common"],t):t(((e=e||self).ly=e.ly||{},e.ly.menu={}),e.ng.core,e.ly.core,e.ng.animations,e.ng.forms,e.ng.common)}(this,function(e,t,n,i,r,o){"use strict";function s(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function a(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e}var c=n.YPosition.below,d=n.XPosition.after,p=function(e){return{$priority:-1,root:{"&":e.menu?e.menu.root:null},container:{background:e.background.primary["default"],borderRadius:"2px",boxShadow:n.shadowBuilder(4),display:"block",paddingTop:"8px",paddingBottom:"8px",transformOrigin:"inherit",pointerEvents:"all",overflow:"auto",maxHeight:"inherit",maxWidth:"inherit",boxSizing:"border-box"},item:{display:"flex",minHeight:"48px",borderRadius:0,width:"100%",justifyContent:"flex-start"}}},f=p,m=[i.trigger("menuEnter",[i.transition("void => in",[i.animate("125ms cubic-bezier(0, 0, 0.2, 1)",i.keyframes([i.style({opacity:0,transform:"scale(0.8)"}),i.style({opacity:1,transform:"scale(1)"})]))])]),i.trigger("menuLeave",[i.transition("* => void",i.animate("150ms linear",i.style({opacity:0})))])],y=function(){function e(e,t,n){this._theme=e,this._el=t,this._renderer=n,this.classes=this._theme.addStyleSheet(p),this._renderer.addClass(this._el.nativeElement,this.classes.root)}return e.prototype.endAnimation=function(e){"void"===e.toState&&this.ref.destroy()},e.prototype.ngOnInit=function(){if(!this.ref)throw new Error("LyMenu: require @Input() ref");this.placement||this.xPosition||this.yPosition||(this.xPosition=d,this.placement=c)},e.prototype.ngAfterViewInit=function(){this.ref._menuRef&&(this.ref._menuRef.onResizeScroll=this._updatePlacement.bind(this)),this._updatePlacement()},e.prototype._updatePlacement=function(){var e=this.ref._menuRef.containerElement,t=this._container.nativeElement;this._renderer.setStyle(t,"height","initial"),this._renderer.setStyle(t,"width","initial");var i=new n.Positioning(this.placement,this.xPosition,this.yPosition,this.ref._getHostElement(),e,this._theme.variables);this._renderer.setStyle(e,"transform","translate3d("+i.x+"px, "+i.y+"px, 0)"),this._renderer.setStyle(this._el.nativeElement,"transform-origin",i.ox+" "+i.oy+" 0"),this._renderer.setStyle(t,"height","initial"===i.height?"100%":i.height),this._renderer.setStyle(t,"width","initial"===i.width?"100%":i.width)},s([t.ViewChild("container",{"static":!1}),a("design:type",t.ElementRef)],e.prototype,"_container",void 0),s([t.Input(),a("design:type",Object)],e.prototype,"ref",void 0),s([t.Input(),a("design:type",String)],e.prototype,"placement",void 0),s([t.Input(),a("design:type",String)],e.prototype,"xPosition",void 0),s([t.Input(),a("design:type",String)],e.prototype,"yPosition",void 0),s([t.HostBinding("@menuLeave"),a("design:type",Object)],e.prototype,"menuLeave2",void 0),s([t.HostListener("@menuLeave.done",["$event"]),a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],e.prototype,"endAnimation",null),e=s([t.Component({selector:"ly-menu",animations:u(m),template:'<div #container\n  [class]="classes.container"\n  [@menuEnter]="\'in\'">\n  <ng-content></ng-content>\n</div>',exportAs:"lyMenu"}),a("design:paramtypes",[n.LyTheme2,t.ElementRef,t.Renderer2])],e)}(),h=function(){function e(e,t,n){this._menu=e,n.addClass(t.nativeElement,e.classes.item)}var n,i;return e.prototype._click=function(){this._menu.ref&&this._menu.ref._menuRef&&this._menu.ref._menuRef.detach()},s([t.HostListener("click"),a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],e.prototype,"_click",null),e=s([t.Directive({selector:"[ly-menu-item]"}),(n=0,i=t.Optional(),function(e,t){i(e,t,n)}),a("design:paramtypes",[y,t.ElementRef,t.Renderer2])],e)}(),g=function(){function e(e,t){this.elementRef=e,this.overlay=t}return e.prototype._targetPosition=function(){return this.elementRef.nativeElement.getBoundingClientRect()},e.prototype._handleClick=function(){this._menuRef?this._menuRef.detach():this._menuRef=this.overlay.create(this.lyMenuTriggerFor,{$implicit:this},{styles:{top:0,left:0,pointerEvents:null},fnDestroy:this.detach.bind(this)})},e.prototype.detach=function(){this._menuRef&&this._menuRef.detach()},e.prototype.destroy=function(){this._menuRef&&(this._menuRef.remove(),this._menuRef=undefined)},e.prototype.ngOnDestroy=function(){this._menuRef&&this._menuRef.detach()},e.prototype._getHostElement=function(){return this.elementRef.nativeElement},s([t.Input(),a("design:type",t.TemplateRef)],e.prototype,"lyMenuTriggerFor",void 0),e=s([t.Directive({selector:"[lyMenuTriggerFor]",host:{"(click)":"_handleClick($event)"}}),a("design:paramtypes",[t.ElementRef,n.LyOverlay])],e)}(),v=function(){function e(){}return e=s([t.NgModule({imports:[o.CommonModule,r.FormsModule,n.LyCommonModule,n.LyOverlayModule],exports:[y,h,g],declarations:[y,h,g]})],e)}();e.LyMenu=y,e.LyMenuItem=h,e.LyMenuModule=v,e.LyMenuTriggerFor=g,e.Éµ0=f,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=alyle-ui-menu.umd.min.js.map