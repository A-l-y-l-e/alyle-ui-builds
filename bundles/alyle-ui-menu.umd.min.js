!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("rxjs"),require("@angular/core"),require("@angular/platform-browser"),require("@angular/animations"),require("@alyle/ui"),require("@angular/forms"),require("@angular/common")):"function"==typeof define&&define.amd?define("@alyle/ui/menu",["exports","rxjs","@angular/core","@angular/platform-browser","@angular/animations","@alyle/ui","@angular/forms","@angular/common"],e):e((t.alyle=t.alyle||{},t.alyle.ui=t.alyle.ui||{},t.alyle.ui.menu={}),t.rxjs,t.ng.core,t.ng.platformBrowser,t.ng.animations,t.alyle.ui,t.ng.forms,t.ng.common)}(this,function(t,r,s,e,n,i,o,a){"use strict";var l=function u(){},c=function(){function t(t){this._viewContainerRef=t}return t.prototype.ngOnInit=function(){},t.prototype.tmpl=function(t){this._vcr.createEmbeddedView(t)},t.prototype.ngOnDestroy=function(){console.log("desst")},t.decorators=[{type:s.Component,args:[{selector:"ly-template-menu",template:"\n  <div #container></div>\n  ",styles:["\n    :host {\n      position: absolute;\n      display: block;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n    }\n  "]}]}],t.ctorParameters=function(){return[{type:s.ViewContainerRef}]},t.propDecorators={_vcr:[{type:s.ViewChild,args:["container",{read:s.ViewContainerRef}]}]},t}(),p=function(){function t(t,e,n,i,o){this.elementRef=t,this._viewContainerRef=e,this.domService=n,this.cd=i,this.sanitizer=o,this.isIni=!1,this.stateBg=!1,this.widthTarget=0,this.heightTarget=0,this.rootMenu={top:0,left:0},this.opened=!1,this._anchorOrigin={horizontal:"left",vertical:"top"},this._targetOrigin={horizontal:"left",vertical:"top"},this._targetPosition=new r.BehaviorSubject(null),this.open=new s.EventEmitter,this.close=new s.EventEmitter}return t.prototype.ngOnChanges=function(t){t._targetOrigin&&Promise.resolve(null).then(function(){})},t.prototype.updateTargetPosition=function(){var t="0%",e="0%";"middle"===this._targetOrigin.horizontal?e="-50%":"right"===this._targetOrigin.horizontal&&(e="-100%"),"center"===this._targetOrigin.vertical?t="-50%":"bottom"===this._targetOrigin.vertical&&(t="-100%");var n=this.sanitizer.bypassSecurityTrustStyle("translate3d("+e+", "+t+", 0) scale3d(1, 1, 1)");this._targetPosition.next(n)},t.prototype.target=function(t){var e=t;return{width:e.offsetWidth||0,height:e.offsetHeight||0,left:e.offsetWidth||0,top:0}},Object.defineProperty(t.prototype,"rootStylePosition",{get:function(){var t=0,e=0;return"center"===this._anchorOrigin.vertical?t=this.rootMenu.height/2:"bottom"===this._anchorOrigin.vertical&&(t=this.rootMenu.height),"middle"===this._anchorOrigin.horizontal?e=this.rootMenu.width/2:"right"===this._anchorOrigin.horizontal&&(e=this.rootMenu.width),{top:t,left:e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rootStyle",{get:function(){var t=this.rootMenu;return this._anchorOrigin,t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"targetOrigin",{get:function(){return("middle"===this._targetOrigin.horizontal?"center":this._targetOrigin.horizontal)+" "+this._targetOrigin.vertical+" 0"},enumerable:!0,configurable:!0}),t.prototype.toggleMenu=function(){!1===this.opened?this.showMenu():this.hiddeMenu()},t.prototype.showMenu=function(){this.menuAnimationsState="in",this.menuContentRef=this.domService.attach(this._viewContainerRef,c,this.templateRef),this.updateTargetPosition(),this.opened=!0,this.stateBg=!0,this.open.emit(null)},t.prototype.hiddeMenu=function(){this.close.emit(null),this.opened=!1,this.stateBg=!1,this._destroyMenu()},t.prototype._destroyMenu=function(){this.domService.destroyRef(this.menuContentRef,0)},t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){},t.prototype.ngOnDestroy=function(){i.Platform.isBrowser&&this._destroyMenu()},t.decorators=[{type:s.Component,args:[{selector:"ly-menu",styles:['.ly-menu{display:inline-block;position:fixed;padding:8px 0;max-height:248px;overflow:auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1000;opacity:0;min-width:84px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;-webkit-transform:scale3d(0,0,0);transform:scale3d(0,0,0);box-shadow:rgba(0,0,0,.15) 0 2px 6px,rgba(0,0,0,.15) 0 1px 4px;border-radius:2px;transition:opacity 275ms ease-in 0s,-webkit-transform 175ms cubic-bezier(.23,1,.32,1) 0s;transition:transform 175ms cubic-bezier(.23,1,.32,1) 0s,opacity 275ms ease-in 0s;transition:transform 175ms cubic-bezier(.23,1,.32,1) 0s,opacity 275ms ease-in 0s,-webkit-transform 175ms cubic-bezier(.23,1,.32,1) 0s;will-change:opacity,transform;font-family:Roboto,"Helvetica Neue",sans-serif}.ly-list-x{z-index:0;max-height:100%}.ly-menu /deep/ ly-menu{position:absolute}.ly-menu.ly-list{position:relative;-webkit-transform:scale3d(1,1,1);transform:scale3d(1,1,1);transition:all 0s linear 0s}:host.ly-list .ly-menu{position:relative;-webkit-transform:scale(1,1);transform:scale(1,1);transition:all 0s linear 0s;opacity:1}:host.ly-list .ly-background-menu{pointer-events:none}.ly-menu.ly-menu-opened{-webkit-transform:scale3d(1,1,1);transform:scale3d(1,1,1);opacity:1}.ly-background-menu{position:absolute;top:0;bottom:0;left:0;right:0;background:rgba(0,0,0,0);z-index:999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}.ly-background-on{pointer-events:all!important;pointer-events:auto!important}::ng-deep button[ly-menu-item]{display:block;min-height:48px;border-radius:0;width:100%}'],animations:[n.trigger("menu",[n.transition(":leave",n.animate("150ms 50ms linear",n.style({opacity:0}))),n.state("in",n.style({opacity:1})),n.transition(":enter",n.animate("100ms linear"))])],template:'\n  <ng-template>\n    <div #_menu [@menu]="menuAnimationsState"\n      class="ly-menu"\n      bg="menu:bg"\n      color="colorText"\n      [style.transform-origin]="targetOrigin"\n      [style.top.px]="rootStyle.top + rootStylePosition.top"\n      [style.left.px]="rootStyle.left + rootStylePosition.left"\n      [style.transform]="_targetPosition | async">\n      <div class="ly-menu-content">\n        <ng-content></ng-content>\n      </div>\n    </div>\n    <div\n    class="ly-background-menu ly-background-on"\n    (click)="hiddeMenu()"></div>\n  </ng-template>\n  ',exportAs:"lyMenu",preserveWhitespaces:!1}]}],t.ctorParameters=function(){return[{type:s.ElementRef},{type:s.ViewContainerRef},{type:i.DomService},{type:s.ChangeDetectorRef},{type:e.DomSanitizer}]},t.propDecorators={opened:[{type:s.Input}],_anchorOrigin:[{type:s.Input,args:["anchor-origin"]}],_targetOrigin:[{type:s.Input,args:["target-origin"]}],_menuElement:[{type:s.ViewChild,args:["_menu"]}],templateRef:[{type:s.ViewChild,args:[s.TemplateRef]}],open:[{type:s.Output}],close:[{type:s.Output}]},t}(),g=function(){function t(t){this.elementRef=t}return t.prototype.targetPosition=function(){var t=this.elementRef.nativeElement.getBoundingClientRect();return{width:t.width,height:t.height,left:t.left,top:t.top}},t.prototype._handleClick=function(t){this.lyMenuTriggerFor.rootMenu=this.targetPosition(),this.lyMenuTriggerFor.toggleMenu()},t.decorators=[{type:s.Directive,args:[{selector:"[lyMenuTriggerFor]",host:{"(click)":"_handleClick($event)"}}]}],t.ctorParameters=function(){return[{type:s.ElementRef}]},t.propDecorators={lyMenuTriggerFor:[{type:s.Input,args:["lyMenuTriggerFor"]}]},t}(),m=function(){function t(){}return t.decorators=[{type:s.NgModule,args:[{imports:[a.CommonModule,o.FormsModule,i.LyCommonModule,i.LxDomModule],exports:[p,g],declarations:[p,g,c]}]}],t}();t.Origin=l,t.LyTemplateMenu=c,t.LyMenu=p,t.LyMenuTriggerFor=g,t.LyMenuModule=m,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=alyle-ui-menu.umd.min.js.map