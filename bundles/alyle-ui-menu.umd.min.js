!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/animations"),require("@alyle/ui"),require("@angular/forms"),require("@angular/common"),require("@angular/core")):"function"==typeof define&&define.amd?define("@alyle/ui/menu",["exports","@angular/animations","@alyle/ui","@angular/forms","@angular/common","@angular/core"],t):t((e.ly=e.ly||{},e.ly.menu={}),e.ng.animations,e.ly.core,e.ng.forms,e.ng.common,e.ng.core)}(this,function(e,t,r,n,i,o){"use strict";function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}var a=r.YPosition.below,l=r.XPosition.after,u=function(e){return{$priority:-1,root:null,container:{background:e.background.primary["default"],borderRadius:"2px",boxShadow:r.shadowBuilder(4),display:"block",paddingTop:"8px",paddingBottom:"8px",transformOrigin:"inherit",pointerEvents:"all",overflow:"auto",maxHeight:"inherit",maxWidth:"inherit"},item:{display:"flex",minHeight:"48px",borderRadius:0,width:"100%",justifyContent:"flex-start"}}},c=[t.trigger("menuEnter",[t.transition("void => in",[t.animate("125ms cubic-bezier(0, 0, 0.2, 1)",t.keyframes([t.style({opacity:0,transform:"scale(0.8)"}),t.style({opacity:1,transform:"scale(1)"})]))])]),t.trigger("menuLeave",[t.transition("* => void",t.animate("150ms linear",t.style({opacity:0})))])],m=function(){function e(e,t,n){this._theme=e,this._el=t,this._renderer=n,this.classes=this._theme.addStyleSheet(u);var r=this._theme.variables.menu;r&&(r.root&&this._renderer.addClass(this._el.nativeElement,this._theme.style(r.root,-1,u)),this._renderer.addClass(this._el.nativeElement,this.classes.root))}return e.prototype.endAnimation=function(e){"void"===e.toState&&this.ref.destroy()},e.prototype.ngOnInit=function(){if(!this.ref)throw new Error("LyMenu: require @Input() ref");this.placement||this.xPosition||this.yPosition||(this.xPosition=l,this.placement=a)},e.prototype.ngAfterViewInit=function(){this.ref._menuRef&&(this.ref._menuRef.onResizeScroll=this._updatePlacement.bind(this)),this._updatePlacement()},e.prototype._updatePlacement=function(){var e=this.ref._menuRef.containerElement,t=this._container.nativeElement;this._renderer.setStyle(t,"height","initial"),this._renderer.setStyle(t,"width","initial");var n=new r.Positioning(this.placement,this.xPosition,this.yPosition,this.ref._getHostElement(),e,this._theme.variables);this._renderer.setStyle(e,"transform","translate3d("+n.x+"px, "+n.y+"px, 0)"),this._renderer.setStyle(this._el.nativeElement,"transform-origin",n.ox+" "+n.oy+" 0"),this._renderer.setStyle(t,"height",n.height),this._renderer.setStyle(t,"width",n.width)},e.decorators=[{type:o.Component,args:[{selector:"ly-menu",animations:function n(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}(c),template:'<div #container\n  [class]="classes.container"\n  [@menuEnter]="\'in\'">\n  <ng-content></ng-content>\n</div>',exportAs:"lyMenu"}]}],e.ctorParameters=function(){return[{type:r.LyTheme2},{type:o.ElementRef},{type:o.Renderer2}]},e.propDecorators={_container:[{type:o.ViewChild,args:["container"]}],ref:[{type:o.Input}],placement:[{type:o.Input}],xPosition:[{type:o.Input}],yPosition:[{type:o.Input}],menuLeave2:[{type:o.HostBinding,args:["@menuLeave"]}],endAnimation:[{type:o.HostListener,args:["@menuLeave.done",["$event"]]}]},e}(),h=function(){function e(e,t,n){this._menu=e,n.addClass(t.nativeElement,e.classes.item)}return e.prototype._click=function(){this._menu.ref&&this._menu.ref._menuRef&&this._menu.ref._menuRef.detach()},e.decorators=[{type:o.Directive,args:[{selector:"[ly-menu-item]"}]}],e.ctorParameters=function(){return[{type:m,decorators:[{type:o.Optional}]},{type:o.ElementRef},{type:o.Renderer2}]},e.propDecorators={_click:[{type:o.HostListener,args:["click"]}]},e}(),y=function(){function e(e,t){this.elementRef=e,this.overlay=t}return e.prototype._targetPosition=function(){return this.elementRef.nativeElement.getBoundingClientRect()},e.prototype._handleClick=function(){this._menuRef?this._menuRef.detach():this._menuRef=this.overlay.create(this.lyMenuTriggerFor,{$implicit:this},{styles:{top:0,left:0,pointerEvents:null},fnDestroy:this.detach.bind(this)})},e.prototype.detach=function(){this._menuRef&&this._menuRef.detach()},e.prototype.destroy=function(){this._menuRef&&(this._menuRef.remove(),this._menuRef=undefined)},e.prototype.ngOnDestroy=function(){this._menuRef&&this._menuRef.detach()},e.prototype._getHostElement=function(){return this.elementRef.nativeElement},e.decorators=[{type:o.Directive,args:[{selector:"[lyMenuTriggerFor]",host:{"(click)":"_handleClick($event)"}}]}],e.ctorParameters=function(){return[{type:o.ElementRef},{type:r.LyOverlay}]},e.propDecorators={lyMenuTriggerFor:[{type:o.Input}]},e}(),p=function(){function e(){}return e.decorators=[{type:o.NgModule,args:[{imports:[i.CommonModule,n.FormsModule,r.LyCommonModule,r.LyOverlayModule],exports:[m,h,y],declarations:[m,h,y]}]}],e}();e.LyMenu=m,e.LyMenuItem=h,e.LyMenuTriggerFor=y,e.LyMenuModule=p,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=alyle-ui-menu.umd.min.js.map