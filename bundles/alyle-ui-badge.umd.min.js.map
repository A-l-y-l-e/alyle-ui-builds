{"version":3,"sources":["ng://@alyle/ui/badge/badge.ts","ng://@alyle/ui/badge/badge.module.ts"],"names":["styles","theme","root","position","width","height","borderRadius","lineHeight","textAlign","overflow","whiteSpace","textOverflow","pointerEvents","zIndex","fontSize","pxToRem","fontFamily","typography","relative","LyBadge","_el","_theme","_renderer","_common","this","classes","addStyleSheet","_badgeElementRef","nativeElement","setAutoContrast","Object","defineProperty","prototype","_content","val","content","_createBadge","_position","_positionClass","addStyle","positionStyles","dir","getDirection","indexOf","transform","top","bottom","_bg","bg","_bgClass","backgroundColor","colorOf","color","ngOnInit","addClass","_elContainer","container","createElement","appendChild","textContent","Directive","args","selector","ElementRef","LyTheme2","Renderer2","LyCommon","decorators","type","Optional","Input","LyBadgeModule","NgModule","imports","CommonModule","LyCommonModule","exports","declarations"],"mappings":"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","sourcesContent":["import { Directive, Input, ElementRef, Optional, Renderer2, OnInit, OnChanges } from '@angular/core';\nimport { ThemeVariables, LyCommon, LyTheme2 } from '@alyle/ui';\n\nconst STYLE_PRIORITY = -2;\nconst DEFAULT_POSITION = 'end top';\nconst DEFAULT_BG = 'primary';\n\nconst styles = (theme: ThemeVariables) => ({\n  root: {\n    position: 'absolute',\n    width: '22px',\n    height: '22px',\n    borderRadius: '100%',\n    lineHeight: '22px',\n    textAlign: 'center',\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n    pointerEvents: 'none',\n    zIndex: 1,\n    fontSize: theme.pxToRem(12),\n    fontFamily: theme.typography.fontFamily\n  },\n  relative: {\n    position: 'relative'\n  }\n});\n@Directive({\n  selector: 'ly-badge, [lyBadge]'\n})\nexport class LyBadge implements OnInit {\n  /**\n   * Styles\n   * @ignore\n   */\n  classes = this._theme.addStyleSheet(styles, 'lyBadge', STYLE_PRIORITY);\n  private _content: string | number;\n  private _position: 'start top' | 'start bottom' | 'end top' | 'end bottom';\n  private _positionClass: string;\n  private _elContainer: any;\n  private _badgeElementRef: any;\n  private _bgClass: string;\n\n  /** The content for the badge */\n  @Input('lyBadge')\n  set content(val: string | number) {\n    if (val !== this.content) {\n      this._content = val;\n      this._createBadge();\n    }\n  }\n  get content(): string | number {\n    return this._content;\n  }\n\n  /** The position for the badge */\n  @Input('lyBadgePosition')\n  set position(val: 'start top' | 'start bottom' | 'end top' | 'end bottom') {\n    if (val !== this.position) {\n      this._position = val;\n      this._positionClass = this._theme.addStyle(`ly-badge.position:${val}`, (theme: ThemeVariables) => {\n        const positionStyles: {\n          top?: number\n          left?: number\n          right?: number\n          bottom?: number\n          transform?: string\n        } = {};\n        const dir = theme.getDirection(val.indexOf('start') !== -1 ? 'start' : 'end');\n        positionStyles[dir] = 0;\n        if (dir === 'left') {\n          positionStyles.transform = 'translateX(-50%)';\n        } else {\n          positionStyles.transform = 'translateX(50%)';\n        }\n        if (val.indexOf('top') !== -1) {\n          positionStyles.top = 0;\n          positionStyles.transform += 'translateY(-50%)';\n        } else if (val.indexOf('bottom') !== -1) {\n          positionStyles.bottom = 0;\n          positionStyles.transform += 'translateY(50%)';\n        }\n        return positionStyles;\n      },\n      this._badgeElementRef, this._positionClass, STYLE_PRIORITY);\n    }\n\n  }\n  get position() {\n    return this._position;\n  }\n\n  /** The color of the badge  */\n  @Input('lyBadgeBg')\n  get bg() {\n    return this._bg;\n  }\n  set bg(val: string) {\n    if (val !== this.bg) {\n      this._bg = val;\n      this._bgClass = this._theme.addStyle(`ly-badge.bg:${val}`, (theme: ThemeVariables) => ({\n        backgroundColor: theme.colorOf(val),\n        color: theme.colorOf(`${val}:contrast`)\n      }),\n      this._badgeElementRef, this._bgClass, STYLE_PRIORITY);\n    }\n  }\n  private _bg: string;\n\n  constructor(\n    private _el: ElementRef,\n    private _theme: LyTheme2,\n    private _renderer: Renderer2,\n    @Optional() _common: LyCommon\n  ) {\n    this._badgeElementRef = this._el.nativeElement;\n    if (_common) {\n      _common.setAutoContrast();\n    }\n  }\n\n  ngOnInit() {\n\n    /** Add root styles */\n    this._renderer.addClass(this._badgeElementRef, this.classes.root);\n\n    /** Set default position */\n    if (!this.position) {\n      this.position = DEFAULT_POSITION;\n    }\n\n    /** Set default bg */\n    if (this.content && !this.bg) {\n      this.bg = DEFAULT_BG;\n    }\n  }\n\n  private _createBadge() {\n    if (!this._elContainer) {\n      const container = this._elContainer = this._renderer.createElement('div');\n      this._renderer.appendChild(this._el.nativeElement, container);\n      this._badgeElementRef = container;\n\n      /** Add position relative */\n      this._renderer.addClass(this._el.nativeElement, this.classes.relative);\n    }\n    this._elContainer.textContent = `${this.content}`;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LyCommonModule } from '@alyle/ui';\nimport { LyBadge } from './badge';\n\n@NgModule({\n  imports: [CommonModule, LyCommonModule],\n  exports: [LyBadge, LyCommonModule],\n  declarations: [LyBadge]\n})\nexport class LyBadgeModule { }\n"]}