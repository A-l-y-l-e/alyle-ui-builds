!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/animations"),require("rxjs"),require("@angular/common"),require("@angular/core"),require("@alyle/ui")):"function"==typeof define&&define.amd?define("@alyle/ui/dialog",["exports","@angular/animations","rxjs","@angular/common","@angular/core","@alyle/ui"],t):t((e.ly=e.ly||{},e.ly.dialog={}),e.ng.animations,e.rxjs,e.ng.common,e.ng.core,e.ly.core)}(this,function(e,t,a,n,c,p){"use strict";var d=function(){return(d=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},f=function(){function e(e){this._overlayRef=e}return Object.defineProperty(e.prototype,"afterOpened",{get:function(){return this._overlayRef.componentRef.instance._afterOpened.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"beforeClosed",{get:function(){return this._overlayRef.componentRef.instance._beforeClosed.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"afterClosed",{get:function(){return this._overlayRef.componentRef.instance._afterClosed.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e.prototype.close=function(e){var t=this._overlayRef.componentRef.instance;t._beforeClosed.next(e),t._beforeClosed.complete(),t._startClose(),this._result=e},e.decorators=[{type:c.Injectable}],e.ctorParameters=function(){return[{type:p.LyOverlayRef}]},e}(),h=function x(){this.maxHeight="calc(100vh - 64px)",this.maxWidth="calc(100vw - 64px)",this.hasBackdrop=!0},s=function(e){return{root:{display:"flex",position:"relative",backgroundColor:e.background.primary["default"],borderRadius:"4px",boxShadow:p.shadowBuilder(12),overflow:"auto","> :first-child":{display:"flex",flexDirection:"column",width:"100%"}}}},y=function(){function e(e,t,n,o,r,i){this._appRef=e,this._overlayRef=t,this._theme=n,this._el=o,this._cd=r,this._renderer=i,this.classes=this._theme.addStyleSheet(s,-2),this._afterOpened=new a.Subject,this._beforeClosed=new a.Subject,this._afterClosed=new a.Subject,this._state="enter",i.addClass(o.nativeElement,this.classes.root)}return e.prototype.ngOnInit=function(){this._componentFactoryOrTemplate instanceof c.TemplateRef?(this._embeddedViewRef=this.viewContainerRef.createEmbeddedView(this._componentFactoryOrTemplate),this._appRef.attachView(this._embeddedViewRef)):this._componentRef=this.viewContainerRef.createComponent(this._componentFactoryOrTemplate,undefined,this._newInjector);var e=this._newInjector.get(h).containerClass;e&&this._renderer.addClass(this._el.nativeElement,e)},e.prototype._init=function(e,t){this._componentFactoryOrTemplate=e,this._newInjector=t},e.prototype._startClose=function(){this._state="exit",this._cd.markForCheck()},e.prototype._onAnimationStart=function(e){"enter"===e.toState&&this._overlayRef.onResizeScroll()},e.prototype._onAnimationDone=function(e){if("exit"===e.toState){var t=this._newInjector.get(f);this._destroy(),this._overlayRef.destroy(),this._afterClosed.next(t.result),this._afterClosed.complete()}else"enter"===e.toState&&(this._afterOpened.next(),this._afterOpened.complete())},e.prototype._destroy=function(){this._componentRef?(this._appRef.detachView(this._componentRef.hostView),this._componentRef.destroy()):(this._appRef.detachView(this._embeddedViewRef),this._embeddedViewRef.detach(),this._embeddedViewRef.destroy())},e.prototype._getHostElement=function(){return this._el.nativeElement},e.decorators=[{type:c.Component,args:[{selector:"ly-dialog-container",template:"<ng-template></ng-template>",changeDetection:c.ChangeDetectionStrategy.OnPush,animations:[t.trigger("dialogContainer",[t.state("void, exit",t.style({opacity:0,transform:"scale(0.7)"})),t.state("enter",t.style({transform:"none"})),t.transition("* => enter",t.animate("150ms cubic-bezier(0, 0, 0.2, 1)",t.style({transform:"none",opacity:1}))),t.transition("* => void, * => exit",t.animate("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",t.style({opacity:0})))])],host:{"[@dialogContainer]":"_state","(@dialogContainer.start)":"_onAnimationStart($event)","(@dialogContainer.done)":"_onAnimationDone($event)"}}]}],e.ctorParameters=function(){return[{type:c.ApplicationRef},{type:p.LyOverlayRef},{type:p.LyTheme2},{type:c.ElementRef},{type:c.ChangeDetectorRef},{type:c.Renderer2}]},e.propDecorators={viewContainerRef:[{type:c.ViewChild,args:[c.TemplateRef,{read:c.ViewContainerRef}]}]},e}(),u=function(){function e(e,t){this._newInjector=e,this._parentInjector=t}return e.prototype.get=function(e,t,n){var o=this._newInjector.get(e,t);return o||this._parentInjector.get(e,t)},e}(),m=new c.InjectionToken("LyDialogData"),o=function(){function e(e,t,n,o){this._overlay=e,this._componentFactoryResolver=t,this._theme=n,this._injector=o}return e.prototype.open=function(e,t){var n;t=d({},new h,t),n=e instanceof c.TemplateRef?e:this._componentFactoryResolver.resolveComponentFactory(e);var o=this._overlay.create(y,null,{styles:{top:0,left:0},hasBackdrop:t.hasBackdrop,onResizeScroll:function(){var e=o.containerElement,t=window.innerWidth/2-e.offsetWidth/2,n=window.innerHeight/2-e.offsetHeight/2;e.style.transform="translate3d("+Math.round(t)+"px, "+Math.round(n)+"px, 0)"},backdropClass:t.backdropClass||this._theme.style(p.STYLES_BACKDROP_DARK),fnDestroy:function(){l.close()}}),r=o.componentRef.instance,i=r._getHostElement().style;i.width=_(t.width),i.maxWidth=_(t.maxWidth),i.minWidth=_(t.minWidth),i.height=_(t.height),i.maxHeight=_(t.maxHeight),i.minHeight=_(t.minHeight);var a=[{provide:f,useValue:new f(o.componentRef.injector.get(p.LyOverlayRef))},{provide:h,useValue:t}];null!=t.data&&a.push({provide:m,useValue:t.data});var s=new u(c.Injector.create(a,o.componentRef.injector),this._injector);r._init(n,s);var l=s.get(f);return l},e.decorators=[{type:c.Injectable}],e.ctorParameters=function(){return[{type:p.LyOverlay},{type:c.ComponentFactoryResolver},{type:p.LyTheme2},{type:c.Injector}]},e}();function _(e){return"number"==typeof e?e+"px":e||null}var r=function(e){return{display:"block",flex:"0 0 auto",margin:"20px 0 16px",padding:"0 24px",fontSize:"20px",lineHeight:"24px",fontWeight:500,fontFamily:e.typography.fontFamily}},i=function(){function e(e,t,n){this._renderer=e,this._el=t,this._theme=n}return e.prototype.ngOnInit=function(){this._renderer.addClass(this._el.nativeElement,this._theme.style(r,-2))},e.decorators=[{type:c.Directive,args:[{selector:"[ly-dialog-title], [lyDialogTitle]",exportAs:"lyDialogTitle"}]}],e.ctorParameters=function(){return[{type:c.Renderer2},{type:c.ElementRef},{type:p.LyTheme2}]},e}(),l={display:"block",overflowY:"auto",flex:"1 1 auto",padding:"0 24px 24px","-webkit-overflow-scrolling":"touch"},g=function(){function e(e,t,n){this._renderer=e,this._el=t,this._theme=n}return e.prototype.ngOnInit=function(){this._renderer.addClass(this._el.nativeElement,this._theme.style(l,-2))},e.decorators=[{type:c.Directive,args:[{selector:"ly-dialog-content, [ly-dialog-content], [lyDialogContent]",exportAs:"lyDialogContent"}]}],e.ctorParameters=function(){return[{type:c.Renderer2},{type:c.ElementRef},{type:p.LyTheme2}]},e}(),v={display:"flex",flex:"0 0 auto",padding:"8px",flexWrap:"wrap",minHeight:"52px",alignItems:"center"},R=function(){function e(e,t,n){this._renderer=e,this._el=t,this._theme=n}return e.prototype.ngOnInit=function(){this._renderer.addClass(this._el.nativeElement,this._theme.style(v,-2))},e.decorators=[{type:c.Directive,args:[{selector:"ly-dialog-actions, [ly-dialog-actions], [lyDialogActions]",exportAs:"lyDialogActions"}]}],e.ctorParameters=function(){return[{type:c.Renderer2},{type:c.ElementRef},{type:p.LyTheme2}]},e}(),b=function(){function e(){}return e.decorators=[{type:c.NgModule,args:[{entryComponents:[y],declarations:[y,i,g,R],imports:[n.CommonModule,p.LyCommonModule,p.LyOverlayModule],exports:[p.LyCommonModule,y,i,g,R],providers:[o]}]}],e}();e.LyDialog=o,e.LY_DIALOG_DATA=m,e.LyDialogRef=f,e.LyDialogModule=b,e.ɵd=R,e.ɵa=y,e.ɵc=g,e.ɵb=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=alyle-ui-dialog.umd.min.js.map