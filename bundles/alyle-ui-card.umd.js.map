{"version":3,"file":"alyle-ui-card.umd.js.map","sources":["ng://@alyle/ui/card/card.directive.ts","ng://@alyle/ui/card/card.module.ts"],"sourcesContent":["import { Directive, Renderer2, ElementRef, Input, OnInit, Optional } from '@angular/core';\nimport { LyTheme2, toBoolean, LyCommon, ThemeVariables } from '@alyle/ui';\n\nconst styles = (theme: ThemeVariables) => ({\n  root: {\n    display: 'block',\n    overflow: 'hidden',\n    borderRadius: '2px'\n  },\n  content: {\n    display: 'block',\n    padding: '16px 24px',\n    [theme.getBreakpoint('XSmall')]: {\n      padding: '16px 16px'\n    }\n  },\n  actions: {\n    display: 'block',\n    padding: '8px 12px',\n    [theme.getBreakpoint('XSmall')]: {\n      padding: '8px 4px'\n    }\n  },\n  actionsItem: {\n    margin: '0 4px'\n  }\n});\n\nconst DEFAULT_ASPECT_RATIO = '16:9';\n\nconst STYLE_PRIORITY = -1;\n\n@Directive({\n  selector: 'ly-card'\n})\nexport class LyCard implements OnInit {\n  /**\n   * styles\n   * @ignore\n   */\n  classes = this.theme.addStyleSheet(styles, STYLE_PRIORITY);\n  constructor(\n    private theme: LyTheme2,\n    private el: ElementRef,\n    private renderer: Renderer2,\n    @Optional() private common: LyCommon\n  ) { }\n\n  ngOnInit() {\n    this.common.setAutoContrast();\n    let requireOnChanges: boolean;\n    if (!this.common.bg) {\n      this.common.bg = 'background:primary';\n      requireOnChanges = true;\n    }\n    if (!this.common.elevation) {\n      this.common.elevation = 2;\n      requireOnChanges = true;\n    }\n    if (requireOnChanges) {\n      this.common.ngOnChanges();\n    }\n    this.renderer.addClass(this.el.nativeElement, this.classes.root);\n  }\n}\n\n@Directive({\n  selector: 'ly-card-content'\n})\nexport class LyCardContent implements OnInit {\n\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private card: LyCard\n  ) { }\n\n  ngOnInit() {\n    this.renderer.addClass(this.el.nativeElement, this.card.classes.content);\n  }\n}\n\n@Directive({\n  selector: 'ly-card-actions'\n})\nexport class LyCardActions implements OnInit {\n  @Input() disableActionSpacing: boolean;\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private card: LyCard\n  ) { }\n  ngOnInit() {\n    this.renderer.addClass(this.el.nativeElement, this.card.classes.actions);\n    if (!toBoolean(this.disableActionSpacing)) {\n      this.el.nativeElement.childNodes.forEach(element => {\n        this.renderer.addClass(element, this.card.classes.actionsItem);\n      });\n    }\n  }\n}\n\n@Directive({\n  selector: 'ly-card-media'\n})\nexport class LyCardMedia implements OnInit {\n  private _bgImg: string;\n  private _bgImgClass: string;\n\n  private _ratio: string;\n  private _ratioClass: string;\n\n  @Input()\n  set bgImg(val: string) {\n    if (val !== this.bgImg) {\n      this._bgImgClass = this._createBgImgClass(val, this._bgImgClass);\n    }\n  }\n  get bgImg() {\n    return this._bgImg;\n  }\n\n  /** Aspect ratio */\n  @Input()\n  set ratio(val: string) {\n    if (val !== this.ratio) {\n      this._createAspectRatioClass(val);\n    }\n  }\n  get ratio() {\n    return this._ratio;\n  }\n\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private theme: LyTheme2\n  ) {}\n\n  ngOnInit() {\n    if (!this.ratio) {\n      this.ratio = DEFAULT_ASPECT_RATIO;\n    }\n  }\n\n  private _createBgImgClass(val: string, instance: string) {\n    this._bgImg = val;\n    this.renderer.setStyle(this.el.nativeElement, `background-image`, `url(\"${val}\")`);\n    return this.theme.addStyle(\n      `lyCard-media:${val}`,\n      (\n        `display:block;` +\n        `background-size: cover;` +\n        `background-repeat: no-repeat;` +\n        `background-position: center;`\n      ),\n      this.el.nativeElement,\n      instance,\n      STYLE_PRIORITY\n    );\n  }\n\n  private _createAspectRatioClass(val: string) {\n    this._ratio = val;\n    this._ratioClass = this.theme.addStyle(\n      `lyCard-media-ar:${val}`, ({\n        '&:before': val.split(':').reduce((valorAnterior, valorActual) => {\n          return ({\n            paddingTop: `${+valorActual / +valorAnterior * 100}%`,\n            content: `\\'\\'`,\n            display: 'block'\n          }) as any;\n        })\n      }),\n      this.el.nativeElement,\n      this._ratioClass,\n      STYLE_PRIORITY\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LyCard, LyCardContent, LyCardActions, LyCardMedia } from './card.directive';\nimport { LyCommonModule } from '@alyle/ui';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  exports: [LyCard, LyCardContent, LyCardActions, LyCardMedia, LyCommonModule],\n  declarations: [LyCard, LyCardContent, LyCardActions, LyCardMedia]\n})\nexport class LyCardModule { }\n"],"names":["common","Directive","LyTheme2","ElementRef","Renderer2","LyCommon","Optional","toBoolean","Input","NgModule","CommonModule","LyCommonModule"],"mappings":"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"}
