{"version":3,"sources":["ng://@alyle/ui/button/button.service.ts","ng://@alyle/ui/button/button.ts","ng://@alyle/ui/button/button.module.ts"],"names":["LyButtonService","coreTheme","theme","this","root","setUpStyleSecondary","","rootStyle","outlined","setUpStyle","buttonContent","currentConfig","_a","typography","button","fontFamily","styleButton","fontWeight","pxToRem","fontSize","text","default","letterSpacing","textTransform","Injectable","args","providedIn","CoreTheme","LyTheme2","Size","small","medium","large","LyButton","elementRef","renderer","rippleStyles","buttonService","_ngZone","bgAndColor","setAutoContrast","Platform","isBrowser","el","nativeElement","_rippleContainer","Ripple","stylesData","prototype","val","classname","toBoolean","classes","updateClassName","_outlinedClassName","_rippleSensitive","value","_size","size","newClass","_createSizeClass","_sizeClass","updateClass","_disabled","key","raised","bg","_disabledClassName","disableStyle","bind","addClass","removeClass","ngOnInit","focused","focus","ngAfterViewInit","classList","add","style","config","disabled","ngOnDestroy","removeEvents","Component","selector","changeDetection","ChangeDetectionStrategy","OnPush","template","encapsulation","ViewEncapsulation","None","ElementRef","Renderer2","LyRippleService","NgZone","LyBgColorAndRaised","decorators","type","Optional","Input","ViewChild","LyButtonModule","NgModule","imports","CommonModule","LyRippleModule","LyCommonModule","exports","declarations"],"mappings":"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","sourcesContent":["import {\n  LyTheme2, CoreTheme\n} from '@alyle/ui';\nimport {\n  Injectable,\n} from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LyButtonService {\n  classes = {\n    root: this.coreTheme.setUpStyleSecondary(\n      'button', {\n        '': rootStyle\n      }),\n    outlined: this.coreTheme.setUpStyle(\n      'btntlnd',\n      {'': () => (\n        `border: 1px solid currentColor`\n      )}\n    ),\n    buttonContent: this.coreTheme.setUpStyle(\n      'buttonContent',\n      {'': () => (\n        `padding:0;` +\n        `display:flex;` +\n        `justify-content:inherit;` +\n        `align-items:inherit;` +\n        `align-content:inherit;` +\n        `width: 100%;` +\n        `height: 100%;` +\n        `box-sizing: border-box;`\n      )}\n    ),\n    currentConfig: this.theme.setUpStyleSecondary<any>(\n      'buttonConfig',\n      theme => {\n        const { button, fontFamily } = theme.typography;\n        let styleButton = (\n          `font-family:${button.fontFamily || fontFamily};` +\n          `font-weight:${button.fontWeight};` +\n          `font-size:${theme.pxToRem(button.fontSize)};` +\n          `color:${theme.text.default};`\n        );\n        if (theme.letterSpacing) {\n          styleButton += `letter-spacing:${theme.pxToRem(button.letterSpacing)};`;\n        }\n        if (button.textTransform) {\n          styleButton += `text-transform:${button.textTransform};`;\n        }\n        return styleButton;\n      }\n    )\n  };\n  constructor(\n    private coreTheme: CoreTheme,\n    private theme: LyTheme2\n  ) { }\n}\n\nfunction rootStyle() {\n  return '-webkit-tap-highlight-color:transparent;' +\n  'background-color:rgba(0, 0, 0, 0);' +\n  'border:0;' +\n  'padding:0 1em;' +\n  '-moz-appearance:none;' +\n  'margin:0;' +\n  'border-radius:3px;' +\n  'outline:none;' +\n  'font-weight:500;' +\n  'min-width:88px;' +\n  'box-sizing:border-box;' +\n  'position:relative;' +\n  `justify-content:center;` +\n  `align-items:center;` +\n  `align-content:center;` +\n  'display:inline-flex;' +\n  'cursor:pointer;' +\n  '-webkit-user-select:none;' +\n  '-moz-user-select:none;' +\n  '-ms-user-select:none;' +\n  'user-select:none;' +\n  'text-decoration-line:none;' +\n  '-webkit-text-decoration-line:none;' +\n  'transition:all 375ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;' +\n  `overflow: hidden;`;\n}\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  Input,\n  Optional,\n  Renderer2,\n  ViewChild,\n  NgZone,\n  OnDestroy,\n  OnInit,\n  ViewEncapsulation\n} from '@angular/core';\nimport {\n  Platform,\n  toBoolean,\n  LyTheme2,\n  LyBgColorAndRaised\n} from '@alyle/ui';\nimport { Ripple, LyRippleService } from '@alyle/ui/ripple';\nimport { LyButtonService } from './button.service';\nconst DEFAULT_SIZE = 'medium';\nconst Size = {\n  small: theme => (\n    `padding:0 8px;` +\n    `font-size:${theme.pxToRem(theme.typography.button.fontSize - 1)};` +\n    `min-height: 32px;`\n  ),\n  medium: theme => (\n    `padding:0 14px;` +\n    `font-size:${theme.pxToRem(theme.typography.button.fontSize)};` +\n    `min-height: 36px;`\n  ),\n  large: theme => (\n    `padding:0 21px;` +\n    `font-size:${theme.pxToRem(theme.typography.button.fontSize + 1)};` +\n    `min-height: 40px;`\n  ),\n};\n\n@Component({\n  selector: '[ly-button]',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: `\n  <span #content>\n    <ng-content></ng-content>\n  </span>\n  `,\n  encapsulation: ViewEncapsulation.None\n})\nexport class LyButton implements OnInit, AfterViewInit, OnDestroy {\n  public _disabled = false;\n  private _rippleSensitive = false;\n  private _disabledClassName: string;\n  private _outlinedClassName: string;\n  private _rippleContainer: Ripple;\n  private _size: string;\n  private _sizeClass: string;\n  @Input()\n  set outlined(val: boolean) {\n    const classname = toBoolean(val) === true ? this.buttonService.classes.outlined : '';\n    this.theme.updateClassName(this.elementRef.nativeElement, this.renderer, classname, this._outlinedClassName);\n    this._outlinedClassName = classname;\n  }\n  @Input('sensitive')\n  get rippleSensitive(): boolean {\n    return this._rippleSensitive;\n  }\n  set rippleSensitive(value: boolean) {\n    this._rippleSensitive = toBoolean(value);\n  }\n\n  @Input()\n  set size(val: string) {\n    if (val !== this.size) {\n      const newClass = this._createSizeClass(val);\n      this._sizeClass = this.theme.updateClass(this.elementRef.nativeElement, this.renderer, newClass, this._sizeClass);\n    }\n  }\n  get size() {\n    return this._size;\n  }\n\n  @ViewChild('content') buttonContent: ElementRef;\n\n  @Input()\n  set disabled(value: boolean) {\n    const key = this.bgAndColor && (this.bgAndColor.raised || this.bgAndColor.bg) ? 'r' : 'f';\n    this._disabledClassName = this.theme.setUpStyle(`btn${key}`, {'': this.disableStyle.bind(this)});\n    this._disabled = toBoolean(value);\n    if (this._disabled) {\n      this.renderer.addClass(this.elementRef.nativeElement, this._disabledClassName);\n    } else {\n      this.renderer.removeClass(this.elementRef.nativeElement, this._disabledClassName);\n    }\n  }\n  get disabled() {\n    return this._disabled;\n  }\n\n  constructor(\n    private elementRef: ElementRef,\n    private renderer: Renderer2,\n    private theme: LyTheme2,\n    public rippleStyles: LyRippleService,\n    private buttonService: LyButtonService,\n    _ngZone: NgZone,\n    @Optional() private bgAndColor: LyBgColorAndRaised\n  ) {\n    if (bgAndColor) {\n      bgAndColor.setAutoContrast();\n    }\n    if (Platform.isBrowser) {\n      const el = elementRef.nativeElement;\n      this._rippleContainer = new Ripple(_ngZone, rippleStyles.stylesData, el);\n    }\n  }\n\n  ngOnInit() {\n    this.renderer.addClass(this.elementRef.nativeElement, this.buttonService.classes.currentConfig);\n    this.renderer.addClass(this.elementRef.nativeElement, this.buttonService.classes.root);\n    if (!this.size) {\n      this.size = DEFAULT_SIZE;\n    }\n  }\n\n  public focused() {\n    this.elementRef.nativeElement.focus();\n  }\n\n  ngAfterViewInit() {\n    const classes = this.buttonService.classes;\n      (this.buttonContent.nativeElement as HTMLElement).classList.add(\n        classes.buttonContent\n      );\n  }\n\n  private disableStyle() {\n    let style =\n    `box-shadow: 0 0 0 rgba(0, 0, 0, 0) !important;` +\n    `cursor: default;` +\n    `color: ${this.theme.config.text.disabled} !important;` +\n    `pointer-events: none;`;\n    if (this.bgAndColor && (this.bgAndColor.raised || this.bgAndColor.bg)) {\n      style += `background-color: ${this.theme.config.button.disabled} !important;`;\n    }\n    return style;\n  }\n\n  private _createSizeClass(val: string): string {\n    this._size = val;\n    return this.theme.setUpStyleSecondary(`k-button-size:${this.size}`, Size[this.size]);\n  }\n\n  ngOnDestroy() {\n    if (Platform.isBrowser) {\n      this._rippleContainer.removeEvents();\n    }\n  }\n\n}\n","// App\nimport { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LyCommonModule } from '@alyle/ui';\nimport { LyButton } from './button';\nimport { LyRippleModule } from '@alyle/ui/ripple';\nimport { LyIconButton } from '@alyle/ui/icon-button';\n\n@NgModule({\n  imports: [CommonModule, LyRippleModule, LyCommonModule],\n  exports: [LyButton],\n  declarations: [LyButton]\n})\nexport class LyButtonModule {}\n"]}