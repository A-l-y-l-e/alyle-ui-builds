!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@alyle/ui")):"function"==typeof define&&define.amd?define("@alyle/ui/tooltip",["exports","@angular/core","@alyle/ui"],e):e((t.ly=t.ly||{},t.ly.tooltip={}),t.ng.core,t.ly.core)}(this,function(t,e,p){"use strict";var n=function(){return(n=Object.assign||function(t){for(var e,o=1,i=arguments.length;o<i;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},o=p.YPosition.below,h={root:n({},p.LY_COMMON_STYLES.fill)},i=function(){function t(t,e,o,i,n,l,r,s){var u=this;if(this._theme=t,this._overlay=e,this._el=o,this._renderer=i,this._cd=n,this.classes=this._theme.addStyleSheet(h,-2),this._listeners=new Map,this._scrollVal=0,this.lyTooltipShowDelay=0,this.lyTooltipHideDelay=0,p.Platform.isBrowser){var a=o.nativeElement;p.Platform.IOS||p.Platform.ANDROID?this._listeners.set("touchstart",function(){return u.show()}):this._listeners.set("mouseenter",function(){return u.show()}).set("mouseleave",function(){return u.hide()}),this._listeners.forEach(function(t,e){return a.addEventListener(e,t)}),this._scrollSub=s.scroll$.subscribe(function(){u._tooltipOverlay&&(u._scrollVal++,10<u._scrollVal&&(r.run(function(){return u.hide(0)}),u._scrollVal=0))}),l.listen(a).subscribe(function(t){"keyboard"===t?r.run(function(){return u.show()}):null==t&&r.run(function(){return u.hide()})})}}return Object.defineProperty(t.prototype,"tooltip",{get:function(){return this._tooltip},set:function(t){this._tooltip=t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.placement||this.xPosition||this.yPosition||(this.placement=o)},t.prototype.ngOnDestroy=function(){var o=this;this.hide(0),this._listeners.forEach(function(t,e){o._el.nativeElement.removeEventListener(e,t)}),this._scrollSub&&this._scrollSub.unsubscribe()},t.prototype.show=function(t){var i=this;t="number"==typeof t?t:this.lyTooltipShowDelay,this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._tooltipOverlay||!this.tooltip||this._showTimeoutId||(this._showTimeoutId=setTimeout(function(){var t=i._el.nativeElement.getBoundingClientRect(),e=i._tooltipOverlay=i._overlay.create(i.tooltip,undefined,{styles:{top:t.y,left:t.x},classes:[i._theme.addStyle("LyTooltip",function(t){var e;return n({borderRadius:"4px"},t.tooltip.root,((e={fontSize:"10px",padding:"6px 8px",opacity:0,transition:"opacity "+t.animations.curves.standard+" 300ms"})[t.getBreakpoint("XSmall")]={padding:"8px 16px",fontSize:"14px"},e))},null,null,-2)],host:i._el.nativeElement}),o=p.getPosition(i.placement,i.xPosition,i.yPosition,i._el.nativeElement,e.containerElement,i._theme.config,13);e.containerElement.style.transform="translate3d("+o.x+"px,"+o.y+"px,0)",i._theme.requestAnimationFrame(function(){i._theme.addStyle("lyTooltip:open",{opacity:1},e.containerElement,null,-2)}),i._showTimeoutId=null,i._markForCheck()},t))},t.prototype.hide=function(t){var e=this,o=this._tooltipOverlay;t="number"==typeof t?t:this.lyTooltipHideDelay,this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),o&&!this._hideTimeoutId&&(this._hideTimeoutId=setTimeout(function(){e._renderer.removeClass(o.containerElement,e._theme.addStyle("lyTooltip:open",null)),setTimeout(function(){return o.destroy()},300),e._tooltipOverlay=null,e._hideTimeoutId=null,e._markForCheck()},t))},t.prototype.toggle=function(){this._tooltipOverlay?this.hide():this.show()},t.prototype._markForCheck=function(){this._cd.markForCheck()},t.decorators=[{type:e.Directive,args:[{selector:"[lyTooltip]",exportAs:"lyTooltip"}]}],t.ctorParameters=function(){return[{type:p.LyTheme2},{type:p.LyOverlay},{type:e.ElementRef},{type:e.Renderer2},{type:e.ChangeDetectorRef},{type:p.LyFocusState},{type:e.NgZone},{type:p.WinScroll}]},t.propDecorators={tooltip:[{type:e.Input,args:["lyTooltip"]}],lyTooltipShowDelay:[{type:e.Input}],lyTooltipHideDelay:[{type:e.Input}],placement:[{type:e.Input,args:["lyTooltipPlacement"]}],xPosition:[{type:e.Input,args:["lyTooltipXPosition"]}],yPosition:[{type:e.Input,args:["lyTooltipYPosition"]}]},t}(),l=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[p.LyOverlayModule],declarations:[i],exports:[i]}]}],t}();t.LyTooltip=i,t.LyTooltipModule=l,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=alyle-ui-tooltip.umd.min.js.map