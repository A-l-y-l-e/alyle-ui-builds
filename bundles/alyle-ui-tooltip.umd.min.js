!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@alyle/ui")):"function"==typeof define&&define.amd?define("@alyle/ui/tooltip",["exports","@angular/core","@alyle/ui"],e):e(((t=t||self).ly=t.ly||{},t.ly.tooltip={}),t.ng.core,t.ly.core)}(this,(function(t,e,o){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function i(t,e,o,i){var n,r=arguments.length,l=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(l=(r<3?n(l):r>3?n(e,o,l):n(e,o))||l);return r>3&&l&&Object.defineProperty(e,o,l),l}var n=o.YPosition.below,r=function(t,e){var i=e.selectorsOf(r);return{$priority:-2,root:function(){return t.tooltip&&t.tooltip.root&&(t.tooltip.root instanceof o.StyleCollection?t.tooltip.root.setTransformer((function(t){return t(i)})).css:t.tooltip.root(i))}}},l=r,s=function(){function t(t,e,i,n,l,s,u,p){var a=this;if(this._theme=t,this._overlay=e,this._el=i,this._renderer=n,this._cd=l,this._focusState=s,this.classes=this._theme.renderStyleSheet(r),this._listeners=new Map,this._scrollVal=0,this.lyTooltipShowDelay=0,this.lyTooltipHideDelay=0,o.Platform.isBrowser){var c=i.nativeElement;o.Platform.IOS||o.Platform.ANDROID?this._listeners.set("touchstart",(function(){return a.show()})):this._listeners.set("mouseenter",(function(){return a.show()})).set("mouseleave",(function(){return a.hide()})),this._listeners.forEach((function(t,e){return c.addEventListener(e,t)})),this._scrollSub=p.scroll$.subscribe((function(){a._tooltipOverlay&&(a._scrollVal++,a._scrollVal>10&&(u.run((function(){return a.hide(0)})),a._scrollVal=0))})),s.listen(c).subscribe((function(t){"keyboard"===t?u.run((function(){return a.show()})):null==t&&u.run((function(){return a.hide()}))}))}}return Object.defineProperty(t.prototype,"tooltip",{get:function(){return this._tooltip},set:function(t){this._tooltip=t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.placement||this.xPosition||this.yPosition||(this.placement=n)},t.prototype.ngOnDestroy=function(){var t=this;this.hide(0),this._listeners.forEach((function(e,o){t._el.nativeElement.removeEventListener(o,e)})),this._scrollSub&&this._scrollSub.unsubscribe(),this._focusState.unlisten(this._el)},t.prototype.show=function(t){var e=this;if(t="number"==typeof t?t:this.lyTooltipShowDelay,this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),!this._tooltipOverlay&&this.tooltip&&!this._showTimeoutId){var o=this.tooltip;this._showTimeoutId=setTimeout((function(){var t=e._tooltipOverlay=e._overlay.create(o,void 0,{styles:{},onResizeScroll:e._updatePosition.bind(e),classes:[e.classes.root,e._theme.addStyle("LyTooltip",(function(t){var e;return(e={borderRadius:"4px",fontSize:"10px",padding:"6px 8px",opacity:0,transition:"opacity "+t.animations.curves.standard+" 300ms",left:0})[t.getBreakpoint("XSmall")]={padding:"8px 16px",fontSize:"14px"},e}),void 0,void 0,-2)],hasBackdrop:!1});e._updatePosition(),e._theme.requestAnimationFrame((function(){e._theme.addStyle("lyTooltip:open",{opacity:1},t.containerElement,void 0,-2)})),e._showTimeoutId=null,e._markForCheck()}),t)}},t.prototype.hide=function(t){var e=this,o=this._tooltipOverlay;t="number"==typeof t?t:this.lyTooltipHideDelay,this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),o&&!this._hideTimeoutId&&(this._hideTimeoutId=setTimeout((function(){e._renderer.removeClass(o.containerElement,e._theme.addStyle("lyTooltip:open",null)),setTimeout((function(){return o.destroy()}),300),e._tooltipOverlay=null,e._hideTimeoutId=null,e._markForCheck()}),t))},t.prototype.toggle=function(){this._tooltipOverlay?this.hide():this.show()},t.prototype._markForCheck=function(){this._cd.markForCheck()},t.prototype._updatePosition=function(){var t=this._tooltipOverlay;if(t){var e=new o.Positioning(this.placement,this.xPosition,this.yPosition,this._el.nativeElement,t.containerElement,this._theme.variables,13);t.containerElement.style.transform="translate3d("+e.x+"px,"+e.y+"px,0)"}},t.ctorParameters=function(){return[{type:o.LyTheme2},{type:o.LyOverlay},{type:e.ElementRef},{type:e.Renderer2},{type:e.ChangeDetectorRef},{type:o.LyFocusState},{type:e.NgZone},{type:o.WinScroll}]},i([e.Input("lyTooltip")],t.prototype,"tooltip",null),i([e.Input()],t.prototype,"lyTooltipShowDelay",void 0),i([e.Input()],t.prototype,"lyTooltipHideDelay",void 0),i([e.Input("lyTooltipPlacement")],t.prototype,"placement",void 0),i([e.Input("lyTooltipXPosition")],t.prototype,"xPosition",void 0),i([e.Input("lyTooltipYPosition")],t.prototype,"yPosition",void 0),t=i([e.Directive({selector:"[lyTooltip]",exportAs:"lyTooltip"})],t)}(),u=function(){function t(){}return t=i([e.NgModule({imports:[o.LyOverlayModule],declarations:[s],exports:[s]})],t)}();t.LyTooltip=s,t.LyTooltipModule=u,t.Éµ0=l,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=alyle-ui-tooltip.umd.min.js.map