!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@alyle/ui"),require("@angular/common/http"),require("@angular/common"),require("rxjs/operators"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("@alyle/ui/icon",["exports","@angular/core","@alyle/ui","@angular/common/http","@angular/common","rxjs/operators","@angular/platform-browser"],e):e(((t=t||self).ly=t.ly||{},t.ly.icon={}),t.ng.core,t.ly.core,t.ng.common.http,t.ng.common,t.rxjs.operators,t.ng.platformBrowser)}(this,(function(t,e,n,o,i,r,s){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function c(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}function l(t,e){return function(n,o){e(n,o,t)}}var u=-2,p={svg:{width:"inherit",height:"inherit",fill:"currentColor"}},f=function(){function t(t,e,n,o){this.http=t,this._sanitizer=e,this._document=n,this.theme=o,this._defaultClass="material-icons",this.svgMap=new Map,this._fontClasses=new Map,this.classes=this.theme.addStyleSheet(p,u),this.defaultSvgIcon='<svg viewBox="0 0 20 20"><circle cx="10" cy="10" r="10"></circle></svg>'}return Object.defineProperty(t.prototype,"defaultClass",{get:function(){return this._defaultClass},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultClassPrefix",{get:function(){return this._defaultClassPrefix},enumerable:!0,configurable:!0}),t.prototype.setSvg=function(t,n){var o=this;if(!this.svgMap.has(t)){var i=this._sanitizer.sanitize(e.SecurityContext.RESOURCE_URL,n),s={obs:this.http.get(i+".svg",{responseType:"text"}).pipe(r.share(),r.map((function(e){if(s.svg)return s.svg;var n=o._textToSvg(e);return o._cacheSvgIcon(n,t),n})))};this.svgMap.set(t,s)}},t.prototype.addSvgIconLiteral=function(t,n){if(!this.svgMap.has(t)){var o=this._sanitizer.sanitize(e.SecurityContext.HTML,n);if(!o)throw new Error("LyIconService: Failed sanitize '"+t+"'");var i=this._textToSvg(o);this.svgMap.set(t,{svg:i})}},t.prototype._textToSvg=function(t){var e=this._document.createElement("DIV");return e.innerHTML=t,e.querySelector("svg")},t.prototype._cacheSvgIcon=function(t,e){this.svgMap.get(e).svg||(this.svgMap.get(e).svg=t)},t.prototype.getSvg=function(t){if(!this.svgMap.has(t))throw new Error("LyIconService: Icon "+t+" not found");return this.svgMap.get(t)},t.prototype.setDefaultClass=function(t,e){this._defaultClass=t,this._defaultClassPrefix=e},t.prototype.registerFontClass=function(t){this._fontClasses.set(t.key,t)},t.prototype.getFontClass=function(t){return this._fontClasses.get(t)},t.ctorParameters=function(){return[{type:o.HttpClient},{type:s.DomSanitizer},{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:[i.DOCUMENT]}]},{type:n.LyTheme2}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(o.HttpClient),e.ɵɵinject(s.DomSanitizer),e.ɵɵinject(i.DOCUMENT,8),e.ɵɵinject(n.LyTheme2))},token:t,providedIn:"root"}),t=c([e.Injectable({providedIn:"root"}),l(2,e.Optional()),l(2,e.Inject(i.DOCUMENT))],t)}(),h=function(t){var e=n.keyframesUniqueId.next(),o=t.background,i=o.primary,r=o.secondary,s=o.tertiary,a=i.default.luminance(),c=a<.5?s:r,l=a<.5?r:s;return c=c.darken(.25*(a<.5?-1:1.1)),l=l.darken(.25*(a<.5?-1:1.1)),{$priority:-2,$global:function(t){return"@keyframes "+e+"{"+t+" 0%{background-position:200% 50%;}"+t+" 100%{background-position:-200% 50%;}}"},loading:function(t){return t+"{background:linear-gradient(270deg, "+c+", "+l+", "+l+", "+c+");background-size:400% 400%;animation:"+e+" 8s ease-in-out infinite;}"},defaultIcon:function(t){return t+"{border-radius:50px;}"}}},d=function(t){this._theme=t},y=n.mixinStyleUpdater(n.mixinBg(n.mixinColor(n.mixinRaised(n.mixinOutlined(n.mixinElevation(n.mixinShadowColor(d))))))),g=function(t){function o(e,n,o,i,r){var s=t.call(this,i)||this;return s.iconService=e,s._el=n,s._renderer=o,s._hostClass=r,s.classes=s._theme.addStyleSheet(h),s.setAutoContrast(),s}return function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(o,t),Object.defineProperty(o.prototype,"icon",{get:function(){return this._icon},set:function(t){this._icon=t,this._addDefaultIcon(),n.Platform.isBrowser&&this._prepareSvgIcon(this.iconService.getSvg(t))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"fontSet",{get:function(){return this._fontSet},set:function(t){this._fontSet=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"fontIcon",{get:function(){return this._fontIcon},set:function(t){this._fontIcon=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"hostElement",{get:function(){return this._el.nativeElement},enumerable:!0,configurable:!0}),o.prototype.ngOnChanges=function(){(this.fontSet||this.fontIcon)&&this._updateFontClass(),this.updateStyle(this._el)},o.prototype._isDefault=function(){return!(this.icon||this.fontSet)},o.prototype._prepareSvgIcon=function(t){var e=this;t.svg?this._appendChild(t.svg.cloneNode(!0)):t.obs.pipe(r.take(1)).subscribe((function(t){e._appendChild(t.cloneNode(!0))}))},o.prototype._appendChild=function(t){this._cleanIcon(),this._iconElement=t,this._renderer.addClass(t,this.iconService.classes.svg),this._renderer.appendChild(this._el.nativeElement,t)},o.prototype._addDefaultIcon=function(){this._hostClass.add(this.classes.defaultIcon),this._hostClass.add(this.classes.loading)},o.prototype._updateClass=function(){this._isDefault()&&this.iconService.defaultClass&&this._renderer.addClass(this._el.nativeElement,this.iconService.defaultClass)},o.prototype.ngOnInit=function(){this._updateClass(),this._theme.addStyle("lyIconRoot",(function(t){return"font-size:"+t.icon.fontSize+";width:1em;position:relative;height:1em;display:inline-flex;-webkit-box-sizing: content-box;-moz-box-sizing: content-box;box-sizing: content-box;"}),this._el.nativeElement,void 0,-2)},o.prototype.ngOnDestroy=function(){this._cleanIcon()},o.prototype._cleanIcon=function(){var t=this._iconElement;this._hostClass.remove(this.classes.defaultIcon),this._hostClass.remove(this.classes.loading),t&&(this._renderer.removeChild(this._el.nativeElement,t),this._iconElement=void 0)},o.prototype._updateFontClass=function(){var t=this._currentClass,e=this.fontSet,n=this.fontIcon,o=this._el.nativeElement,i=this.iconService.getFontClass(e);if(t&&this._renderer.removeClass(o,t),this._previousFontSet&&this._previousFontSet.class&&this._renderer.removeClass(o,this._previousFontSet.class),!i)throw new Error("Icon with key"+e+" not found");this._previousFontSet=i,this._currentClass=""+i.prefix+n,this._renderer.addClass(o,this._currentClass)},o.ctorParameters=function(){return[{type:f},{type:e.ElementRef},{type:e.Renderer2},{type:n.LyTheme2},{type:n.LyHostClass}]},c([e.Input()],o.prototype,"icon",null),c([e.Input()],o.prototype,"fontSet",null),c([e.Input()],o.prototype,"fontIcon",null),o=c([e.Directive({selector:"ly-icon",inputs:["bg","color","raised","outlined","elevation","shadowColor"],exportAs:"lyIcon",providers:[n.LyHostClass]})],o)}(y),v=function(){function t(){}return t=c([e.NgModule({declarations:[g],exports:[g,n.LyCommonModule]})],t)}();t.LyIcon=g,t.LyIconBase=d,t.LyIconMixinBase=y,t.LyIconModule=v,t.LyIconService=f,t.STYLES=h,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=alyle-ui-icon.umd.min.js.map