!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common/http"),require("@angular/common"),require("rxjs/operators"),require("@alyle/ui")):"function"==typeof define&&define.amd?define("@alyle/ui/icon",["exports","@angular/core","@angular/common/http","@angular/common","rxjs/operators","@alyle/ui"],t):t((e.alyle=e.alyle||{},e.alyle.ui=e.alyle.ui||{},e.alyle.ui.icon={}),e.ng.core,e.ng.common.http,e.ng.common,e.rxjs.operators,e.alyle.ui)}(this,function(e,n,r,o,i,s){"use strict";var t=function(){function e(e,t,n){this.http=e,this.document=t,this.coreTheme=n,this.svgMap=new Map,this.classes={svg:this.coreTheme.setUpStyle("_svg",{"":function(){return"width:inherit;height:inherit;fill:currentColor;"}})}}return e.prototype.setSvg=function(e,t){var n=this;this.svgMap.has(e)||(t+=".svg",this.svgMap.set(e,{obs:this.http.get(t,{responseType:"text"}).pipe(i.share(),i.map(function(e){return n.textToSvg(e)}))}))},e.prototype.textToSvg=function(e){var t=this.document.createElement("DIV");return t.innerHTML=e,t.querySelector("svg")},e.prototype.getSvg=function(e){return this.svgMap.get(e)},e.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:r.HttpClient},{type:undefined,decorators:[{type:n.Optional},{type:n.Inject,args:[o.DOCUMENT]}]},{type:s.CoreTheme}]},e.ngInjectableDef=n.defineInjectable({factory:function t(){return new e(n.inject(r.HttpClient),n.inject(o.DOCUMENT,8),n.inject(s.CoreTheme))},token:e,providedIn:"root"}),e}(),c=function(){function e(e,t,n,r){this.iconService=e,this.elementRef=t,this.renderer=n,this.theme=r,this._defaultClass="material-icons"}return Object.defineProperty(e.prototype,"classes",{get:function(){var e=this;return{root:this.theme.setUpStyle("root",{"":function(){return"font-size:"+e.theme.config.icon.fontSize+";width:1em;height:1em;display:inline-flex;"}})}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"src",{get:function(){return this._src},set:function(e){if(this._src=e,s.Platform.isBrowser){if(e){var t="_url:"+e;this.iconService.setSvg(t,e),this._prepareSvgIcon(this.iconService.getSvg(t))}}else this._appendDefaultSvgIcon()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return this._icon},set:function(e){this._icon=e,s.Platform.isBrowser?this._prepareSvgIcon(this.iconService.getSvg(e)):this._appendDefaultSvgIcon()},enumerable:!0,configurable:!0}),e.prototype._isDefault=function(){return!(this.src||this.icon)},e.prototype._prepareSvgIcon=function(e){var t=this;e.obs.pipe(i.take(1)).subscribe(function(e){t._cleanIcon(),t._appendChild(e)})},e.prototype._appendChild=function(e){this.renderer.addClass(e,this.iconService.classes.svg),this.renderer.appendChild(this.elementRef.nativeElement,e)},e.prototype._appendDefaultSvgIcon=function(){this._appendChild(this.iconService.textToSvg('<svg viewBox="0 0 20 20"><circle cx="10" cy="10" r="10"></circle></svg>'))},e.prototype._updateClass=function(){this._isDefault()&&this.renderer.addClass(this.elementRef.nativeElement,this._defaultClass)},e.prototype.ngOnInit=function(){this.renderer.addClass(this.elementRef.nativeElement,this.classes.root),this._updateClass()},e.prototype.ngOnChanges=function(e){this._updateClass()},e.prototype._cleanIcon=function(){var e=this.elementRef.nativeElement.querySelector("svg");e&&this.renderer.removeChild(this.elementRef,e)},e.decorators=[{type:n.Directive,args:[{selector:"ly-icon"}]}],e.ctorParameters=function(){return[{type:t},{type:n.ElementRef},{type:n.Renderer2},{type:s.LyTheme2}]},e.propDecorators={src:[{type:n.Input}],icon:[{type:n.Input}]},e}(),a=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[o.CommonModule],declarations:[c],exports:[c]}]}],e}();e.LyIconModule=a,e.LyIconService=t,e.Icon=c,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=alyle-ui-icon.umd.min.js.map