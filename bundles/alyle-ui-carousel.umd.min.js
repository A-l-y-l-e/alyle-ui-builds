!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@alyle/ui"),require("@angular/platform-browser"),require("@angular/common"),require("@alyle/ui/ripple")):"function"==typeof define&&define.amd?define("@alyle/ui/carousel",["exports","@angular/core","@alyle/ui","@angular/platform-browser","@angular/common","@alyle/ui/ripple"],t):t((e.alyle=e.alyle||{},e.alyle.ui=e.alyle.ui||{},e.alyle.ui.carousel={}),e.ng.core,e.alyle.ui,e.ng.platformBrowser,e.ng.common,e.alyle.ui.ripple)}(this,function(e,t,n,i,r,s){"use strict";var o=function(){function e(e){this.coreTheme=e}return e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:n.CoreTheme}]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e(t.inject(n.CoreTheme))},token:e,providedIn:"root"}),e}(),l={"default":0,inline:1};l[l["default"]]="default",l[l.inline]="inline";var a=function(){function e(e,t,n,i,r,s){this.elementRef=e,this.sanitizer=t,this.cd=n,this.theme=i,this.renderer=r,this.platformId=s,this.nullImg="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",this._intervalFn=null,this.mode=l["default"],this.interval=7e3,this.selectedIndex=0,this.classes={root:this.theme.core.setUpStyle("carousel",{"":function(){return"display: block;-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;position: relative;"}," .ly-carousel-actions":function(){return"position: absolute;top: 0;bottom: 0;margin:auto .25em;height:1em;width:1em;font-size:36px;cursor:pointer;color: #fff;background: rgba(0, 0, 0, 0.11);will-change: transform;"}," .ly-carousel-actions.right":function(){return"right: 0;-webkit-transform: rotate(180deg);transform: rotate(180deg);"}," svg":function(){return"display:block;fill:currentColor;"}}),slideContainer:this.theme.core.setUpStyle("k-carousel-slide",{"":function(){return"overflow: hidden;display: block;width: 100%;height: 100%;position: relative;"}}),slide:this.theme.core.setUpStyleSecondary("carousel-slide",{"":function(){return"display: flex;width: 100%;height: 100%;will-change: transform"}," > ly-carousel-item":function(){return"width: 100%;flex-shrink: 0;overflow: auto;position: relative;background-size: cover;background-position: center;background-repeat: no-repeat;"}," > ly-carousel-item > [lyCarouselImg]":function(){return"width: 100%;"}}),slideContent:this.theme.core.setUpStyleSecondary("carousel-slide-content",{"":function(){return"display: flex;"}}),slideAnim:this.theme.core.setUpStyleSecondary("slide-anim",{" > div":function(){return"transition: transform 750ms cubic-bezier(.1, 1, 0.5, 1);"}}),slideNoEvent:this.theme.core.setUpStyleSecondary("k-slide-no-event",{">div":function(){return"touch-action: initial !important;"}}),carouselIndicators:this.theme.core.setUpStyleSecondary("k-carousel-indicators",{"":function(){return"position: absolute;bottom: 0;left: 0;right: 0;margin: 0;box-sizing: border-box;display: flex;align-items: center;justify-content: center;height: 48px;"},">div":function(){return"display: inline-block;border-radius: 50%;cursor: pointer;position: relative;padding: .5em;outline: none"},">div > span":function(){return"transition: 300ms cubic-bezier(0.65, 0.05, 0.36, 1);width: 1em;height: 1em;transform: scale(.5);border-radius: 50%;will-change: transform;display: block;"},">div>span.active":function(){return"transform: scale(1);"}})},this.renderer.addClass(e.nativeElement,this.classes.root)}return Object.defineProperty(e.prototype,"slideEvent",{get:function(){return this._slideEvent},set:function(e){var t=n.toBoolean(e);(this._slideEvent=t)?this.renderer.removeClass(this.elementRef.nativeElement,this.classes.slideNoEvent):this.renderer.addClass(this.elementRef.nativeElement,this.classes.slideNoEvent)},enumerable:!0,configurable:!0}),e.prototype.onDragStart=function(e){var n=this;this.renderer.removeClass(this.slideContainer.nativeElement,this.classes.slideAnim),this.selectedElement=this.lyItems.find(function(e,t){return t===n.selectedIndex})._nativeElement},e.prototype.onDrag=function(e){var t=this.selectedElement.getBoundingClientRect();Math.abs(e.deltaX)<t.width&&this._onPan(e.deltaX)},e.prototype.onDragEnd=function(e){var t=this.selectedElement.getBoundingClientRect();if(this.renderer.addClass(this.slideContainer.nativeElement,this.classes.slideAnim),this.select(this.selectedIndex),Math.abs(e.deltaX)>t.width/2)e.deltaX<0?this.next():0<e.deltaX&&this.prev();else if(e.additionalEvent){var n=e.additionalEvent;"slideleft"===n?this.next():"slideright"===n&&this.prev()}},e.prototype.ngOnInit=function(){this.slideEvent||(this.slideEvent=!1),n.Platform.isBrowser&&this._resetInterval()},e.prototype._onPan=function(e){this._positionLeft=this.sanitizerStyle("translate(calc("+-100*this.selectedIndex+"% + "+e+"px), 0px)")},e.prototype.sanitizerStyle=function(e){return this.sanitizer.bypassSecurityTrustStyle(e)},e.prototype.ngOnDestroy=function(){n.Platform.isBrowser&&this.stop()},e.prototype._markForCheck=function(){this.cd.markForCheck()},e.prototype.ngAfterViewInit=function(){this.renderer.addClass(this.slideContainer.nativeElement,this.classes.slideContainer),n.Platform.isBrowser&&this.renderer.addClass(this.slideContainer.nativeElement,this.classes.slideAnim)},e.prototype.select=function(e,t){this.selectedIndex=e,this.mode===l["default"]&&(this._positionLeft="translate("+-100*e+"%, 0px)"),t||this._resetInterval()},e.prototype.prev=function(){var e=this.lyItems.length-1,t=this.selectedIndex-1;this.select(t<0?e:t)},e.prototype.next=function(e){var t=this.lyItems.length-1,n=this.selectedIndex+1;this.select(t<n?0:n,e)},e.prototype._resetInterval=function(){var e=this;this.stop(),this._intervalFn=setInterval(function(){e.next(!0),e.cd.markForCheck()},this.interval)},e.prototype.stop=function(){null!==this._intervalFn&&clearInterval(this._intervalFn)},e.decorators=[{type:t.Component,args:[{selector:"ly-carousel",template:'<div\n(slidestart)="slideEvent && onDragStart($event)"\n(slide)="slideEvent && onDrag($event)"\n(slideend)="slideEvent && onDragEnd($event)"\n#slideContainer\n>\n  <div [className]="classes.slide" [style.transform]="_positionLeft">\n    <ng-content></ng-content>\n  </div>\n  <div [className]="classes.carouselIndicators" *ngIf="lyItems.length !== 1">\n      <div tabindex="0"\n      (click)="select(i)"\n      role="button"\n      *ngFor="let item of lyItems; let i = index">\n      <span color="#000"\n      bg="background:primary"\n      [class.active]="selectedIndex==i"\n      [elevation]="6"></span>\n      </div>\n  </div>\n  <div class="ly-carousel-actions" (click)="prev()">\n    <svg viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></svg>\n  </div>\n  <div class="ly-carousel-actions right" (click)="next()">\n    <svg viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></svg>\n  </div>\n</div>',changeDetection:t.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,encapsulation:t.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:i.DomSanitizer},{type:t.ChangeDetectorRef},{type:n.LyTheme2},{type:t.Renderer2},{type:Object,decorators:[{type:t.Inject,args:[t.PLATFORM_ID]}]}]},e.propDecorators={slideContainer:[{type:t.ViewChild,args:["slideContainer"]}],lyItems:[{type:t.ContentChildren,args:[t.forwardRef(function(){return c})]}],mode:[{type:t.Input}],interval:[{type:t.Input}],selectedIndex:[{type:t.Input}],slideEvent:[{type:t.Input}]},e}(),c=function(){function e(e,t,n,i,r,s,o){this.carouselService=t,this.cd=n,this.platformId=i,this.theme=r,this.renderer=s,this._carousel=e,this._nativeElement=o.nativeElement}return Object.defineProperty(e.prototype,"srcImg",{set:function(e){var t=this.theme.setUpStyleSecondary("ly-carousel-img-"+e,{"":function(){return"background-image: url('"+e+"');"}});this.theme.updateClassName(this._nativeElement,this.renderer,t,this.className),this.className=t},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){},e.prototype.ngOnInit=function(){},e.decorators=[{type:t.Directive,args:[{selector:"ly-carousel-item"}]}],e.ctorParameters=function(){return[{type:a,decorators:[{type:t.Optional}]},{type:o},{type:t.ChangeDetectorRef},{type:Object,decorators:[{type:t.Inject,args:[t.PLATFORM_ID]}]},{type:n.LyTheme2},{type:t.Renderer2},{type:t.ElementRef}]},e.propDecorators={src:[{type:t.Input}],srcImg:[{type:t.Input}]},e}(),d=[c,a],u=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[r.CommonModule,n.LyCommonModule,s.LyRippleModule],exports:[d],declarations:[d]}]}],e}();e.CarouselMode=l,e.LyCarousel=a,e.LyCarouselItem=c,e.CarouselService=o,e.LyCarouselModule=u,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=alyle-ui-carousel.umd.min.js.map