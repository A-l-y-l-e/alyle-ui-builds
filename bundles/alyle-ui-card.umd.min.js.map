{"version":3,"sources":["ng://@alyle/ui/card/card.service.ts","ng://@alyle/ui/card/card.directive.ts","ng://@alyle/ui/card/card.module.ts"],"names":["styles","root","display","overflow","borderRadius","content","padding","actions","actionsItem","margin","LyCardService","theme","this","classes","addStyleSheet","Injectable","args","providedIn","LyTheme2","LyCard","cardService","el","renderer","common","prototype","ngOnInit","requireOnChanges","bg","elevation","shadowColor","ngOnChanges","addClass","nativeElement","Directive","selector","ElementRef","Renderer2","LyCommon","decorators","type","Optional","LyCardContent","LyCardActions","_this","toBoolean","disableActionSpacing","childNodes","forEach","element","Input","LyCardMedia","Object","defineProperty","_bgImg","val","bgImg","newClass","_createBgImgClass","_bgImgClass","updateClass","_ratio","ratio","_createAspectRatioClass","_ratioClass","setStyle","setUpStyle",":before","split","reduce","valorAnterior","valorActual","LyCardModule","NgModule","imports","CommonModule","exports","declarations"],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\nimport { LyTheme2 } from '@alyle/ui';\n\nconst styles = {\n  root: {\n    display: 'block',\n    overflow: 'hidden',\n    borderRadius: '2px'\n  },\n  content: {\n    display: 'block',\n    padding: '16px 24px'\n  },\n  actions: {\n    display: 'block',\n    padding: '8px 12px'\n  },\n  actionsItem: {\n    margin: '0 4px'\n  }\n};\n\n@Injectable({ providedIn: 'root' })\nexport class LyCardService {\n  classes: {\n    root: string,\n    content: string,\n    actions: string,\n    actionsItem: string,\n  };\n  constructor(\n    theme: LyTheme2\n  ) {\n    this.classes = theme.addStyleSheet(styles, 'lyCard');\n  }\n}\n","import { Directive, Renderer2, ElementRef, Input, OnInit, Optional } from '@angular/core';\nimport { LyTheme2, shadowBuilderDeprecated, defaultEntry, toBoolean, LyCommon } from '@alyle/ui';\nimport { LyCardService } from './card.service';\n\nconst DEFAULT_ELEVATION = 2;\nconst DEFAULT_ASPECT_RATIO = '16:9';\n\n@Directive({\n  selector: 'ly-card'\n})\nexport class LyCard implements OnInit {\n  // private _elevation: string | number;\n  // private _elevationClass: string;\n  // @Input()\n  // set elevation(val: string | number) {\n  //   if (this.elevation !== val) {\n  //     const newClass = this._createElevationClass(val);\n  //     this._elevationClass = this.styler.updateClass(this.el.nativeElement, this.renderer, newClass, this._elevationClass);\n  //   }\n  // }\n  // get elevation() {\n  //   return this._elevation;\n  // }\n\n  constructor(\n    private cardService: LyCardService,\n    private theme: LyTheme2,\n    private el: ElementRef,\n    private renderer: Renderer2,\n    @Optional() private common: LyCommon\n  ) { }\n\n  ngOnInit() {\n    let requireOnChanges: boolean;\n    if (!this.common.bg) {\n      this.common.bg = 'background:primary';\n      requireOnChanges = true;\n    }\n    if (!this.common.elevation) {\n      this.common.elevation = 2;\n      requireOnChanges = true;\n    }\n    if (!this.common.shadowColor) {\n      this.common.shadowColor = 'colorShadow';\n      requireOnChanges = true;\n    }\n    if (requireOnChanges) {\n      this.common.ngOnChanges();\n    }\n    this.renderer.addClass(this.el.nativeElement, this.cardService.classes.root);\n    // if (this.elevation === void 0) {\n    //   this.elevation = DEFAULT_ELEVATION;\n    // }\n  }\n\n  // private _createElevationClass(val: string | number) {\n  //   this._elevation = defaultEntry(val, DEFAULT_ELEVATION);\n  //   console.log('ele', this.elevation);\n  //   return this.styler.setUpStyleSecondary<any>(\n  //     `k-card-e:${this.elevation}`,\n  //     theme => (\n  //       `background-color:${theme.background.primary};` +\n  //       `position:relative;` +\n  //       // `padding:24px;` + // remove this\n  //       `border-radius:2px;` +\n  //       `${shadowBuilderDeprecated(this.elevation)}`\n  //     )\n  //   );\n  // }\n}\n\n@Directive({\n  selector: 'ly-card-content'\n})\nexport class LyCardContent implements OnInit {\n\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private cardService: LyCardService\n  ) { }\n\n  ngOnInit() {\n    this.renderer.addClass(this.el.nativeElement, this.cardService.classes.content);\n  }\n}\n\n@Directive({\n  selector: 'ly-card-actions'\n})\nexport class LyCardActions implements OnInit {\n  @Input() disableActionSpacing: boolean;\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private cardService: LyCardService\n  ) { }\n  ngOnInit() {\n    this.renderer.addClass(this.el.nativeElement, this.cardService.classes.actions);\n    if (!toBoolean(this.disableActionSpacing)) {\n      this.el.nativeElement.childNodes.forEach(element => {\n        this.renderer.addClass(element, this.cardService.classes.actionsItem);\n      });\n    }\n  }\n}\n\n@Directive({\n  selector: 'ly-card-media'\n})\nexport class LyCardMedia implements OnInit {\n  private _bgImg: string;\n  private _bgImgClass: string;\n\n  private _ratio: string;\n  private _ratioClass: string;\n\n  @Input()\n  set bgImg(val: string) {\n    if (val !== this.bgImg) {\n      const newClass = this._createBgImgClass(val);\n      this._bgImgClass = this.theme.updateClass(this.el.nativeElement, this.renderer, newClass, this._bgImgClass);\n    }\n  }\n  get bgImg() {\n    return this._bgImg;\n  }\n\n  /** Aspect ratio */\n  @Input()\n  set ratio(val: string) {\n    if (val !== this.ratio) {\n      const newClass = this._createAspectRatioClass(val);\n      this._ratioClass = this.theme.updateClass(this.el.nativeElement, this.renderer, newClass, this._ratioClass);\n    }\n  }\n  get ratio() {\n    return this._ratio;\n  }\n\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private theme: LyTheme2\n  ) {}\n\n  ngOnInit() {\n    if (!this.ratio) {\n      this.ratio = DEFAULT_ASPECT_RATIO;\n    }\n  }\n\n  private _createBgImgClass(val: string) {\n    this._bgImg = val;\n    this.renderer.setStyle(this.el.nativeElement, `background-image`, `url(\"${val}\")`);\n    return this.theme.setUpStyle(\n      `k-card-media:${val}`,\n      () => (\n        `display:block;` +\n        `background-size: cover;` +\n        `background-repeat: no-repeat;` +\n        `background-position: center;`\n      )\n    );\n  }\n\n  private _createAspectRatioClass(val: string) {\n    this._ratio = val;\n    return this.theme.setUpStyle(\n      `k-card-media-ar:${val}`, {\n        ':before': () => {\n          return (\n            val.split(':').reduce((valorAnterior, valorActual) => {\n              return (\n                `padding-top:${+valorActual / +valorAnterior * 100}%;` +\n                `content:'';` +\n                `display:block;`\n              );\n            })\n          );\n        }\n      }\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LyCard, LyCardContent, LyCardActions, LyCardMedia } from './card.directive';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  exports: [LyCard, LyCardContent, LyCardActions, LyCardMedia],\n  declarations: [LyCard, LyCardContent, LyCardActions, LyCardMedia]\n})\nexport class LyCardModule { }\n"]}