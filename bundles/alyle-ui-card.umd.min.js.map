{"version":3,"sources":["ng://@alyle/ui/card/card.service.ts","ng://@alyle/ui/card/card.directive.ts","ng://@alyle/ui/card/card.module.ts"],"names":["LyCardClasses","theme","this","setUpStyleSecondary","Injectable","args","providedIn","LyTheme2","LyCard","classes","styler","el","renderer","prototype","_elevation","val","elevation","newClass","_createElevationClass","_elevationClass","updateClass","nativeElement","ngOnInit","addClass","card","defaultEntry","background","primary","shadowBuilder","_this","Directive","selector","ElementRef","Renderer2","Input","LyCardContent","cardContent","LyCardActions","cardActions","toBoolean","disableActionSpacing","childNodes","forEach","element","cardActionsItem","LyCardMedia","_bgImg","bgImg","_createBgImgClass","_bgImgClass","_ratio","ratio","_createAspectRatioClass","_ratioClass","setStyle","setUpStyle",":before","split","reduce","valorAnterior","valorActual","LyCardModule","NgModule","imports","CommonModule","exports","declarations"],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\nimport { LyTheme2 } from '@alyle/ui';\n\n@Injectable({ providedIn: 'root' })\nexport class LyCardClasses {\n  card = this.theme.setUpStyleSecondary(\n    'k-card',\n    () => (\n      `display:block;` +\n      `overflow: hidden;`\n    )\n  );\n  cardContent = this.theme.setUpStyleSecondary(\n    'k-card-content',\n    () => (\n      `display:block;` +\n      `padding:16px 24px;`\n    )\n  );\n  cardActions = this.theme.setUpStyleSecondary(\n    'k-card-actions',\n    () => (\n      `display: block;` +\n      `padding: 8px 12px;`\n    )\n  );\n  cardActionsItem = this.theme.setUpStyleSecondary(\n    'k-card-actions-item',\n    () => (\n      `margin: 0 4px;`\n    )\n  );\n  constructor(\n    private theme: LyTheme2\n  ) { }\n}\n","import { Directive, Renderer2, ElementRef, Input, OnInit } from '@angular/core';\nimport { LyTheme2, shadowBuilder, defaultEntry, toBoolean } from '@alyle/ui';\nimport { LyCardClasses } from './card.service';\n\nconst DEFAULT_ELEVATION = 2;\nconst DEFAULT_ASPECT_RATIO = '16:9';\n\n@Directive({\n  selector: 'ly-card'\n})\nexport class LyCard implements OnInit {\n  private _elevation: string | number;\n  private _elevationClass: string;\n  @Input()\n  set elevation(val: string | number) {\n    if (this.elevation !== val) {\n      const newClass = this._createElevationClass(val);\n      this._elevationClass = this.styler.updateClass(this.el.nativeElement, this.renderer, newClass, this._elevationClass);\n    }\n  }\n  get elevation() {\n    return this._elevation;\n  }\n\n  constructor(\n    private classes: LyCardClasses,\n    private styler: LyTheme2,\n    private el: ElementRef,\n    private renderer: Renderer2\n  ) { }\n\n  ngOnInit() {\n    this.renderer.addClass(this.el.nativeElement, this.classes.card);\n    if (this.elevation === void 0) {\n      this.elevation = DEFAULT_ELEVATION;\n    }\n  }\n\n  private _createElevationClass(val: string | number) {\n    this._elevation = defaultEntry(val, DEFAULT_ELEVATION);\n    return this.styler.setUpStyleSecondary<any>(\n      `k-card-e:${this.elevation}`,\n      theme => (\n        `background-color:${theme.background.primary};` +\n        `position:relative;` +\n        // `padding:24px;` + // remove this\n        `border-radius:2px;` +\n        `${shadowBuilder(this.elevation)}`\n      )\n    );\n  }\n}\n\n@Directive({\n  selector: 'ly-card-content'\n})\nexport class LyCardContent implements OnInit {\n\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private classes: LyCardClasses\n  ) { }\n\n  ngOnInit() {\n    this.renderer.addClass(this.el.nativeElement, this.classes.cardContent);\n  }\n}\n\n@Directive({\n  selector: 'ly-card-actions'\n})\nexport class LyCardActions implements OnInit {\n  @Input() disableActionSpacing: boolean;\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private classes: LyCardClasses\n  ) { }\n  ngOnInit() {\n    this.renderer.addClass(this.el.nativeElement, this.classes.cardActions);\n    if (!toBoolean(this.disableActionSpacing)) {\n      this.el.nativeElement.childNodes.forEach(element => {\n        this.renderer.addClass(element, this.classes.cardActionsItem);\n      });\n    }\n  }\n}\n\n@Directive({\n  selector: 'ly-card-media'\n})\nexport class LyCardMedia implements OnInit {\n  private _bgImg: string;\n  private _bgImgClass: string;\n\n  private _ratio: string;\n  private _ratioClass: string;\n\n  @Input()\n  set bgImg(val: string) {\n    if (val !== this.bgImg) {\n      const newClass = this._createBgImgClass(val);\n      this._bgImgClass = this.theme.updateClass(this.el.nativeElement, this.renderer, newClass, this._bgImgClass);\n    }\n  }\n  get bgImg() {\n    return this._bgImg;\n  }\n\n  /** Aspect ratio */\n  @Input()\n  set ratio(val: string) {\n    if (val !== this.ratio) {\n      const newClass = this._createAspectRatioClass(val);\n      this._ratioClass = this.theme.updateClass(this.el.nativeElement, this.renderer, newClass, this._ratioClass);\n    }\n  }\n  get ratio() {\n    return this._ratio;\n  }\n\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private theme: LyTheme2\n  ) {}\n\n  ngOnInit() {\n    if (!this.ratio) {\n      this.ratio = DEFAULT_ASPECT_RATIO;\n    }\n  }\n\n  private _createBgImgClass(val: string) {\n    this._bgImg = val;\n    this.renderer.setStyle(this.el.nativeElement, `background-image`, `url(\"${val}\")`);\n    return this.theme.setUpStyle(\n      `k-card-media:${val}`,\n      () => (\n        `display:block;` +\n        `background-size: cover;` +\n        `background-repeat: no-repeat;` +\n        `background-position: center;`\n      )\n    );\n  }\n\n  private _createAspectRatioClass(val: string) {\n    this._ratio = val;\n    return this.theme.setUpStyle(\n      `k-card-media-ar:${val}`, {\n        ':before': () => {\n          return (\n            val.split(':').reduce((valorAnterior, valorActual) => {\n              return (\n                `padding-top:${+valorActual / +valorAnterior * 100}%;` +\n                `content:'';` +\n                `display:block;`\n              );\n            })\n          );\n        }\n      }\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LyCard, LyCardContent, LyCardActions, LyCardMedia } from './card.directive';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  exports: [LyCard, LyCardContent, LyCardActions, LyCardMedia],\n  declarations: [LyCard, LyCardContent, LyCardActions, LyCardMedia]\n})\nexport class LyCardModule { }\n"]}