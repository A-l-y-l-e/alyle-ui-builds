{"version":3,"sources":["ng://@alyle/ui/card/card.service.ts","ng://@alyle/ui/card/card.directive.ts","ng://@alyle/ui/card/card.module.ts"],"names":["styles","root","display","overflow","borderRadius","content","padding","actions","actionsItem","margin","LyCardService","theme","this","addStyleSheet","Injectable","args","providedIn","LyTheme2","LyCard","cardService","el","renderer","common","prototype","ngOnInit","requireOnChanges","setAutoContrast","bg","elevation","ngOnChanges","addClass","nativeElement","classes","Directive","selector","ElementRef","Renderer2","LyCommon","decorators","type","Optional","LyCardContent","LyCardActions","_this","toBoolean","disableActionSpacing","childNodes","forEach","element","Input","LyCardMedia","Object","defineProperty","_bgImg","val","bgImg","_bgImgClass","_createBgImgClass","_ratio","ratio","_createAspectRatioClass","instance","setStyle","addStyle","_ratioClass","&:before","split","reduce","valorAnterior","valorActual","paddingTop","LyCardModule","NgModule","imports","CommonModule","exports","LyCommonModule","declarations"],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\nimport { LyTheme2 } from '@alyle/ui';\n\nconst styles = {\n  root: {\n    display: 'block',\n    overflow: 'hidden',\n    borderRadius: '2px'\n  },\n  content: {\n    display: 'block',\n    padding: '16px 24px'\n  },\n  actions: {\n    display: 'block',\n    padding: '8px 12px'\n  },\n  actionsItem: {\n    margin: '0 4px'\n  }\n};\n\n@Injectable({ providedIn: 'root' })\nexport class LyCardService {\n  classes = this.theme.addStyleSheet(styles, 'lyCard');\n  constructor(\n    private theme: LyTheme2\n  ) { }\n}\n","import { Directive, Renderer2, ElementRef, Input, OnInit, Optional } from '@angular/core';\nimport { LyTheme2, toBoolean, LyCommon } from '@alyle/ui';\nimport { LyCardService } from './card.service';\n\nconst DEFAULT_ASPECT_RATIO = '16:9';\n\n@Directive({\n  selector: 'ly-card'\n})\nexport class LyCard implements OnInit {\n  // private _elevation: string | number;\n  // private _elevationClass: string;\n  // @Input()\n  // set elevation(val: string | number) {\n  //   if (this.elevation !== val) {\n  //     const newClass = this._createElevationClass(val);\n  //     this._elevationClass = this.styler.updateClass(this.el.nativeElement, this.renderer, newClass, this._elevationClass);\n  //   }\n  // }\n  // get elevation() {\n  //   return this._elevation;\n  // }\n\n  constructor(\n    private cardService: LyCardService,\n    private el: ElementRef,\n    private renderer: Renderer2,\n    @Optional() private common: LyCommon\n  ) { }\n\n  ngOnInit() {\n    this.common.setAutoContrast();\n    let requireOnChanges: boolean;\n    if (!this.common.bg) {\n      this.common.bg = 'background:primary';\n      requireOnChanges = true;\n    }\n    if (!this.common.elevation) {\n      this.common.elevation = 2;\n      requireOnChanges = true;\n    }\n    // if (!this.common.shadowColor) {\n    //   this.common.shadowColor = 'colorShadow';\n    //   requireOnChanges = true;\n    // }\n    if (requireOnChanges) {\n      this.common.ngOnChanges();\n    }\n    this.renderer.addClass(this.el.nativeElement, this.cardService.classes.root);\n    // if (this.elevation === void 0) {\n    //   this.elevation = DEFAULT_ELEVATION;\n    // }\n  }\n}\n\n@Directive({\n  selector: 'ly-card-content'\n})\nexport class LyCardContent implements OnInit {\n\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private cardService: LyCardService\n  ) { }\n\n  ngOnInit() {\n    this.renderer.addClass(this.el.nativeElement, this.cardService.classes.content);\n  }\n}\n\n@Directive({\n  selector: 'ly-card-actions'\n})\nexport class LyCardActions implements OnInit {\n  @Input() disableActionSpacing: boolean;\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private cardService: LyCardService\n  ) { }\n  ngOnInit() {\n    this.renderer.addClass(this.el.nativeElement, this.cardService.classes.actions);\n    if (!toBoolean(this.disableActionSpacing)) {\n      this.el.nativeElement.childNodes.forEach(element => {\n        this.renderer.addClass(element, this.cardService.classes.actionsItem);\n      });\n    }\n  }\n}\n\n@Directive({\n  selector: 'ly-card-media'\n})\nexport class LyCardMedia implements OnInit {\n  private _bgImg: string;\n  private _bgImgClass: string;\n\n  private _ratio: string;\n  private _ratioClass: string;\n\n  @Input()\n  set bgImg(val: string) {\n    if (val !== this.bgImg) {\n      this._bgImgClass = this._createBgImgClass(val, this._bgImgClass);\n    }\n  }\n  get bgImg() {\n    return this._bgImg;\n  }\n\n  /** Aspect ratio */\n  @Input()\n  set ratio(val: string) {\n    if (val !== this.ratio) {\n      this._createAspectRatioClass(val);\n    }\n  }\n  get ratio() {\n    return this._ratio;\n  }\n\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private theme: LyTheme2\n  ) {}\n\n  ngOnInit() {\n    if (!this.ratio) {\n      this.ratio = DEFAULT_ASPECT_RATIO;\n    }\n  }\n\n  private _createBgImgClass(val: string, instance: string) {\n    this._bgImg = val;\n    this.renderer.setStyle(this.el.nativeElement, `background-image`, `url(\"${val}\")`);\n    return this.theme.addStyle(\n      `lyCard-media:${val}`,\n      (\n        `display:block;` +\n        `background-size: cover;` +\n        `background-repeat: no-repeat;` +\n        `background-position: center;`\n      ),\n      this.el.nativeElement,\n      instance\n    );\n  }\n\n  private _createAspectRatioClass(val: string) {\n    this._ratio = val;\n    this._ratioClass = this.theme.addStyle(\n      `lyCard-media-ar:${val}`, ({\n        '&:before': val.split(':').reduce((valorAnterior, valorActual) => {\n          return ({\n            paddingTop: `${+valorActual / +valorAnterior * 100}%`,\n            content: `\\'\\'`,\n            display: 'block'\n          }) as any;\n        })\n      }),\n      this.el.nativeElement,\n      this._ratioClass\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LyCard, LyCardContent, LyCardActions, LyCardMedia } from './card.directive';\nimport { LyCommonModule } from '@alyle/ui';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  exports: [LyCard, LyCardContent, LyCardActions, LyCardMedia, LyCommonModule],\n  declarations: [LyCard, LyCardContent, LyCardActions, LyCardMedia]\n})\nexport class LyCardModule { }\n"]}