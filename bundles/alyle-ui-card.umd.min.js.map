{"version":3,"sources":["ng://@alyle/ui/card/card.service.ts","ng://@alyle/ui/card/card.directive.ts","ng://@alyle/ui/card/card.module.ts"],"names":["styles","root","display","overflow","content","padding","actions","actionsItem","margin","LyCardService","theme","this","classes","addStyleSheet","Injectable","args","providedIn","LyTheme2","LyCard","cardService","styler","el","renderer","prototype","_elevation","val","elevation","newClass","_createElevationClass","_elevationClass","updateClass","nativeElement","ngOnInit","addClass","defaultEntry","setUpStyleSecondary","background","primary","shadowBuilder","_this","Directive","selector","ElementRef","Renderer2","Input","LyCardContent","LyCardActions","toBoolean","disableActionSpacing","childNodes","forEach","element","LyCardMedia","_bgImg","bgImg","_createBgImgClass","_bgImgClass","_ratio","ratio","_createAspectRatioClass","_ratioClass","setStyle","setUpStyle",":before","split","reduce","valorAnterior","valorActual","LyCardModule","NgModule","imports","CommonModule","exports","declarations"],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\nimport { LyTheme2 } from '@alyle/ui';\n\nconst styles = {\n  root: {\n    display: 'block',\n    overflow: 'hidden'\n  },\n  content: {\n    display: 'block',\n    padding: '16px 24px'\n  },\n  actions: {\n    display: 'block',\n    padding: '8px 12px'\n  },\n  actionsItem: {\n    margin: '0 4px'\n  }\n};\n\n@Injectable({ providedIn: 'root' })\nexport class LyCardService {\n  classes: {\n    root: string,\n    content: string,\n    actions: string,\n    actionsItem: string,\n  };\n  constructor(\n    theme: LyTheme2\n  ) {\n    this.classes = theme.addStyleSheet(styles, 'lyCard');\n  }\n}\n","import { Directive, Renderer2, ElementRef, Input, OnInit } from '@angular/core';\nimport { LyTheme2, shadowBuilder, defaultEntry, toBoolean } from '@alyle/ui';\nimport { LyCardService } from './card.service';\n\nconst DEFAULT_ELEVATION = 2;\nconst DEFAULT_ASPECT_RATIO = '16:9';\n\n@Directive({\n  selector: 'ly-card'\n})\nexport class LyCard implements OnInit {\n  private _elevation: string | number;\n  private _elevationClass: string;\n  @Input()\n  set elevation(val: string | number) {\n    if (this.elevation !== val) {\n      const newClass = this._createElevationClass(val);\n      this._elevationClass = this.styler.updateClass(this.el.nativeElement, this.renderer, newClass, this._elevationClass);\n    }\n  }\n  get elevation() {\n    return this._elevation;\n  }\n\n  constructor(\n    private cardService: LyCardService,\n    private styler: LyTheme2,\n    private el: ElementRef,\n    private renderer: Renderer2\n  ) { }\n\n  ngOnInit() {\n    this.renderer.addClass(this.el.nativeElement, this.cardService.classes.root);\n    if (this.elevation === void 0) {\n      this.elevation = DEFAULT_ELEVATION;\n    }\n  }\n\n  private _createElevationClass(val: string | number) {\n    this._elevation = defaultEntry(val, DEFAULT_ELEVATION);\n    return this.styler.setUpStyleSecondary<any>(\n      `k-card-e:${this.elevation}`,\n      theme => (\n        `background-color:${theme.background.primary};` +\n        `position:relative;` +\n        // `padding:24px;` + // remove this\n        `border-radius:2px;` +\n        `${shadowBuilder(this.elevation)}`\n      )\n    );\n  }\n}\n\n@Directive({\n  selector: 'ly-card-content'\n})\nexport class LyCardContent implements OnInit {\n\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private cardService: LyCardService\n  ) { }\n\n  ngOnInit() {\n    this.renderer.addClass(this.el.nativeElement, this.cardService.classes.content);\n  }\n}\n\n@Directive({\n  selector: 'ly-card-actions'\n})\nexport class LyCardActions implements OnInit {\n  @Input() disableActionSpacing: boolean;\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private cardService: LyCardService\n  ) { }\n  ngOnInit() {\n    this.renderer.addClass(this.el.nativeElement, this.cardService.classes.actions);\n    if (!toBoolean(this.disableActionSpacing)) {\n      this.el.nativeElement.childNodes.forEach(element => {\n        this.renderer.addClass(element, this.cardService.classes.actionsItem);\n      });\n    }\n  }\n}\n\n@Directive({\n  selector: 'ly-card-media'\n})\nexport class LyCardMedia implements OnInit {\n  private _bgImg: string;\n  private _bgImgClass: string;\n\n  private _ratio: string;\n  private _ratioClass: string;\n\n  @Input()\n  set bgImg(val: string) {\n    if (val !== this.bgImg) {\n      const newClass = this._createBgImgClass(val);\n      this._bgImgClass = this.theme.updateClass(this.el.nativeElement, this.renderer, newClass, this._bgImgClass);\n    }\n  }\n  get bgImg() {\n    return this._bgImg;\n  }\n\n  /** Aspect ratio */\n  @Input()\n  set ratio(val: string) {\n    if (val !== this.ratio) {\n      const newClass = this._createAspectRatioClass(val);\n      this._ratioClass = this.theme.updateClass(this.el.nativeElement, this.renderer, newClass, this._ratioClass);\n    }\n  }\n  get ratio() {\n    return this._ratio;\n  }\n\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private theme: LyTheme2\n  ) {}\n\n  ngOnInit() {\n    if (!this.ratio) {\n      this.ratio = DEFAULT_ASPECT_RATIO;\n    }\n  }\n\n  private _createBgImgClass(val: string) {\n    this._bgImg = val;\n    this.renderer.setStyle(this.el.nativeElement, `background-image`, `url(\"${val}\")`);\n    return this.theme.setUpStyle(\n      `k-card-media:${val}`,\n      () => (\n        `display:block;` +\n        `background-size: cover;` +\n        `background-repeat: no-repeat;` +\n        `background-position: center;`\n      )\n    );\n  }\n\n  private _createAspectRatioClass(val: string) {\n    this._ratio = val;\n    return this.theme.setUpStyle(\n      `k-card-media-ar:${val}`, {\n        ':before': () => {\n          return (\n            val.split(':').reduce((valorAnterior, valorActual) => {\n              return (\n                `padding-top:${+valorActual / +valorAnterior * 100}%;` +\n                `content:'';` +\n                `display:block;`\n              );\n            })\n          );\n        }\n      }\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LyCard, LyCardContent, LyCardActions, LyCardMedia } from './card.directive';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  exports: [LyCard, LyCardContent, LyCardActions, LyCardMedia],\n  declarations: [LyCard, LyCardContent, LyCardActions, LyCardMedia]\n})\nexport class LyCardModule { }\n"]}