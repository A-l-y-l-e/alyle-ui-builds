{"version":3,"sources":["ng://@alyle/ui/card/card.directive.ts","ng://@alyle/ui/card/card.module.ts"],"names":["styles","theme","root","display","overflow","borderRadius","content","_a","padding","getBreakpoint","actions","_b","actionsItem","margin","LyCard","el","renderer","common","this","addStyleSheet","prototype","ngOnInit","requireOnChanges","setAutoContrast","bg","elevation","ngOnChanges","addClass","nativeElement","classes","Directive","args","selector","LyTheme2","ElementRef","Renderer2","LyCommon","decorators","type","Optional","LyCardContent","card","LyCardActions","_this","toBoolean","disableActionSpacing","childNodes","forEach","element","Input","LyCardMedia","Object","defineProperty","_bgImg","val","bgImg","_bgImgClass","_createBgImgClass","_ratio","ratio","_createAspectRatioClass","instance","setStyle","addStyle","_ratioClass","&:before","split","reduce","valorAnterior","valorActual","paddingTop","LyCardModule","NgModule","imports","CommonModule","exports","LyCommonModule","declarations"],"mappings":"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","sourcesContent":["import { Directive, Renderer2, ElementRef, Input, OnInit, Optional } from '@angular/core';\nimport { LyTheme2, toBoolean, LyCommon, ThemeVariables } from '@alyle/ui';\n\nconst styles = (theme: ThemeVariables) => ({\n  root: {\n    display: 'block',\n    overflow: 'hidden',\n    borderRadius: '2px'\n  },\n  content: {\n    display: 'block',\n    padding: '16px 24px',\n    [theme.getBreakpoint('XSmall')]: {\n      padding: '16px 16px'\n    }\n  },\n  actions: {\n    display: 'block',\n    padding: '8px 12px',\n    [theme.getBreakpoint('XSmall')]: {\n      padding: '8px 4px'\n    }\n  },\n  actionsItem: {\n    margin: '0 4px'\n  }\n});\n\nconst DEFAULT_ASPECT_RATIO = '16:9';\n\n@Directive({\n  selector: 'ly-card'\n})\nexport class LyCard implements OnInit {\n  classes = this.theme.addStyleSheet(styles, 'ly-card');\n  constructor(\n    private theme: LyTheme2,\n    private el: ElementRef,\n    private renderer: Renderer2,\n    @Optional() private common: LyCommon\n  ) { }\n\n  ngOnInit() {\n    this.common.setAutoContrast();\n    let requireOnChanges: boolean;\n    if (!this.common.bg) {\n      this.common.bg = 'background:primary';\n      requireOnChanges = true;\n    }\n    if (!this.common.elevation) {\n      this.common.elevation = 2;\n      requireOnChanges = true;\n    }\n    // if (!this.common.shadowColor) {\n    //   this.common.shadowColor = 'colorShadow';\n    //   requireOnChanges = true;\n    // }\n    if (requireOnChanges) {\n      this.common.ngOnChanges();\n    }\n    this.renderer.addClass(this.el.nativeElement, this.classes.root);\n    // if (this.elevation === void 0) {\n    //   this.elevation = DEFAULT_ELEVATION;\n    // }\n  }\n}\n\n@Directive({\n  selector: 'ly-card-content'\n})\nexport class LyCardContent implements OnInit {\n\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private card: LyCard\n  ) { }\n\n  ngOnInit() {\n    this.renderer.addClass(this.el.nativeElement, this.card.classes.content);\n  }\n}\n\n@Directive({\n  selector: 'ly-card-actions'\n})\nexport class LyCardActions implements OnInit {\n  @Input() disableActionSpacing: boolean;\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private card: LyCard\n  ) { }\n  ngOnInit() {\n    this.renderer.addClass(this.el.nativeElement, this.card.classes.actions);\n    if (!toBoolean(this.disableActionSpacing)) {\n      this.el.nativeElement.childNodes.forEach(element => {\n        this.renderer.addClass(element, this.card.classes.actionsItem);\n      });\n    }\n  }\n}\n\n@Directive({\n  selector: 'ly-card-media'\n})\nexport class LyCardMedia implements OnInit {\n  private _bgImg: string;\n  private _bgImgClass: string;\n\n  private _ratio: string;\n  private _ratioClass: string;\n\n  @Input()\n  set bgImg(val: string) {\n    if (val !== this.bgImg) {\n      this._bgImgClass = this._createBgImgClass(val, this._bgImgClass);\n    }\n  }\n  get bgImg() {\n    return this._bgImg;\n  }\n\n  /** Aspect ratio */\n  @Input()\n  set ratio(val: string) {\n    if (val !== this.ratio) {\n      this._createAspectRatioClass(val);\n    }\n  }\n  get ratio() {\n    return this._ratio;\n  }\n\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private theme: LyTheme2\n  ) {}\n\n  ngOnInit() {\n    if (!this.ratio) {\n      this.ratio = DEFAULT_ASPECT_RATIO;\n    }\n  }\n\n  private _createBgImgClass(val: string, instance: string) {\n    this._bgImg = val;\n    this.renderer.setStyle(this.el.nativeElement, `background-image`, `url(\"${val}\")`);\n    return this.theme.addStyle(\n      `lyCard-media:${val}`,\n      (\n        `display:block;` +\n        `background-size: cover;` +\n        `background-repeat: no-repeat;` +\n        `background-position: center;`\n      ),\n      this.el.nativeElement,\n      instance\n    );\n  }\n\n  private _createAspectRatioClass(val: string) {\n    this._ratio = val;\n    this._ratioClass = this.theme.addStyle(\n      `lyCard-media-ar:${val}`, ({\n        '&:before': val.split(':').reduce((valorAnterior, valorActual) => {\n          return ({\n            paddingTop: `${+valorActual / +valorAnterior * 100}%`,\n            content: `\\'\\'`,\n            display: 'block'\n          }) as any;\n        })\n      }),\n      this.el.nativeElement,\n      this._ratioClass\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LyCard, LyCardContent, LyCardActions, LyCardMedia } from './card.directive';\nimport { LyCommonModule } from '@alyle/ui';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  exports: [LyCard, LyCardContent, LyCardActions, LyCardMedia, LyCommonModule],\n  declarations: [LyCard, LyCardContent, LyCardActions, LyCardMedia]\n})\nexport class LyCardModule { }\n"]}