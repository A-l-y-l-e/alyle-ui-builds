!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@alyle/ui"),require("rxjs"),require("@angular/common")):"function"==typeof define&&define.amd?define("@alyle/ui/tabs",["exports","@angular/core","@alyle/ui","rxjs","@angular/common"],t):t((e.alyle=e.alyle||{},e.alyle.ui=e.alyle.ui||{},e.alyle.ui.tabs={}),e.ng.core,e.alyle.ui,e.rxjs,e.ng.common)}(this,function(e,a,r,l,t){"use strict";var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function n(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){function e(e){this.template=e}return e.decorators=[{type:a.Directive,args:[{selector:"[ly-tab-content]"}]}],e.ctorParameters=function(){return[{type:a.TemplateRef}]},e}(),o={root:{display:"block",overflow:"hidden"},tab:{position:"relative",display:"inline-flex"},tabsLabels:{display:"flex",position:"relative",flexGrow:1,overflow:"hidden"},label:{minWidth:"72px",padding:"0 24px",cursor:"pointer",height:"48px",display:"inline-flex",justifyContent:"center",alignItems:"center",position:"relative",overflow:"hidden"},tabContents:{display:"flex",transition:"450ms cubic-bezier(.1, 1, 0.5, 1)",willChange:"transform"},tabContent:{width:"100%",flexShrink:0,position:"relative"},tabsIndicator:{position:"absolute",transition:"450ms cubic-bezier(.1, 1, 0.5, 1)",bottom:0,height:"2px",left:0,background:"currentColor"},tabsIndicatorForServer:{width:"100%"}},c=function(){function e(e){this.theme=e,this.classes=this.theme.addStyleSheet(o)}return e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:r.LyTheme2}]},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e(a.inject(r.LyTheme2))},token:e,providedIn:"root"}),e}(),d=function g(e){this._theme=e},h=r.mixinBg(r.mixinFlat(r.mixinColor(d))),p=function C(e,t){this._theme=e,this._ngZone=t},u=r.mixinStyleUpdater(r.mixinBg(r.mixinFlat(r.mixinColor(r.mixinRaised(r.mixinDisabled(r.mixinOutlined(r.mixinElevation(r.mixinShadowColor(r.mixinDisableRipple(p)))))))))),b=function(o){function e(e,t,n,i,s){var r=o.call(this,t)||this;return r.theme=t,r.renderer=n,r.el=i,r.cd=s,r._selectedIndex=0,r._tabsSubscription=l.Subscription.EMPTY,r.selectedIndexOnChange="auto",r.selectedIndexChange=new a.EventEmitter,r.classes=e.classes,r}return n(e,o),Object.defineProperty(e.prototype,"withColor",{get:function(){return this._withColor},set:function(t){t!==this.withColor&&(this._withColor=t,this._withColorClass=this.theme.addStyle("k-tab-with-color:"+t,function(e){return"color:"+e.colorOf(t)+";"},this.tabsIndicator.nativeElement,this._withColorClass),this._selectedTab&&this.theme.updateClass(this._selectedTab.tabIndicator.nativeElement,this.renderer,this._withColorClass))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(e){e!==this.selectedIndex&&(this._selectedBeforeIndex=this._selectedIndex,this._selectedIndex=this._findIndex(e,"auto"),this._selectedBeforeTab=this._selectedTab,this.selectedIndexChange.emit(this._selectedIndex),this._updateIndicator(this._selectedTab,this._selectedBeforeTab),this._selectedRequireCheck&&this.markForCheck(),this.renderer.setStyle(this.tabContents.nativeElement,"transform","translate3d("+-100*this._selectedIndex+"%,0,0)"))},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){e.color&&(this.withColor=e.color.currentValue),e.bg&&(this.withBg=e.color.currentValue),a.isDevMode()&&e.withColor&&console.warn("LyTabs > `withColor` is deprecated, instead use `color`"),a.isDevMode()&&e.withBg&&console.warn("LyTabs > `withColor` is deprecated, instead use `bg`")},e.prototype.ngOnInit=function(){this.renderer.addClass(this.el.nativeElement,this.classes.root);var e=this.tabsIndicator.nativeElement;this.renderer.addClass(e,this.classes.tabsIndicator),this.withColor||this.color||(this.withColor="primary")},e.prototype.ngAfterViewInit=function(){this._isViewInitLoaded=!0},e.prototype.ngAfterContentInit=function(){var e=this;this._tabsSubscription=this.tabsList.changes.subscribe(function(){e._selectedIndex!==e.selectedIndexOnChange&&(e.selectedIndex=e._findIndex(e.selectedIndex,e.selectedIndexOnChange)),e.cd.markForCheck()})},e.prototype.ngOnDestroy=function(){this._tabsSubscription.unsubscribe()},e.prototype._getHostElement=function(){return this.el.nativeElement},e.prototype._findIndex=function(e,t){if(!this.tabsList)return e;var n=this.tabsList.length-1,i="number"==typeof t?t:e;return i<0?0:n<i?n:i},e.prototype._updateIndicator=function(e,t){var n=this.selectedIndex;if(e)if(this._isViewInitLoaded&&r.Platform.isBrowser){t&&t._renderer.removeAttribute(t.tabIndicator.nativeElement,"class"),e.index!==n&&(e=this.tabsList.toArray()[n]);var i=e._el.nativeElement,s=i.getBoundingClientRect();this.renderer.setStyle(this.tabsIndicator.nativeElement,"width",s.width+"px"),this.renderer.setStyle(this.tabsIndicator.nativeElement,"left",i.offsetLeft+"px")}else this.renderer.addClass(e.tabIndicator.nativeElement,this.classes.tabsIndicatorForServer),this.renderer.addClass(e.tabIndicator.nativeElement,this._withColorClass)},e.prototype.markForCheck=function(){this.cd.markForCheck()},e.prototype.loadTemplate=function(e,t){return e.loaded?null:(e.index=t,this.selectedIndex===e.index?(this._selectedTab=e,this._updateIndicator(e)):this._isViewInitLoaded||this.selectedIndex!==e.index||(this._selectedTab=e,this._updateIndicator(e)),e.templateRefLazy?this.selectedIndex===t?(e.loaded=!0,e.templateRefLazy):null:(e.loaded=!0,e.templateRef))},e.decorators=[{type:a.Component,args:[{selector:"ly-tabs",template:'<div [withClass]="classes.tabsLabels">\n  <ng-content></ng-content>\n  <span #tabsIndicator></span>\n</div>\n<div [withClass]="classes.tabContents" #tabContents>\n  <ng-template ngFor let-item [ngForOf]="tabsList" let-x="index">\n    <div [withClass]="classes.tabContent">\n      <ng-template [ngTransclude]="loadTemplate(item, x)"></ng-template>\n    </div>\n  </ng-template>\n</div>',changeDetection:a.ChangeDetectionStrategy.OnPush,encapsulation:a.ViewEncapsulation.None,exportAs:"lyTabs",inputs:["bg","flat","color"]}]}],e.ctorParameters=function(){return[{type:c},{type:r.LyTheme2},{type:a.Renderer2},{type:a.ElementRef},{type:a.ChangeDetectorRef}]},e.propDecorators={tabContents:[{type:a.ViewChild,args:["tabContents"]}],tabsIndicator:[{type:a.ViewChild,args:["tabsIndicator"]}],selectedIndexOnChange:[{type:a.Input}],"native":[{type:a.Input}],withColor:[{type:a.Input}],selectedIndex:[{type:a.Input}],selectedIndexChange:[{type:a.Output}],withBg:[{type:a.Input}],tabsList:[{type:a.ContentChildren,args:[a.forwardRef(function(){return y})]}]},e}(h),y=function(){function e(e,t,n,i){this.tabsService=e,this.tabs=t,this._renderer=n,this._el=i,this.classes=this.tabsService.classes}return e.prototype.onClick=function(){this.tabs._selectedRequireCheck=!this.loaded,this.tabs.selectedIndex=this.index},e.prototype.ngOnInit=function(){this._renderer.addClass(this._el.nativeElement,this.classes.tab)},e.prototype.ngAfterViewInit=function(){this._renderer.addClass(this.tabIndicator.nativeElement,this.classes.tabsIndicator)},e.decorators=[{type:a.Component,args:[{selector:"ly-tab",template:'<ng-content select="ly-tab-label"></ng-content>\n<ng-content select="[ly-tab-label]"></ng-content>\n<ng-content select="[ly-tab-label-native]"></ng-content>\n<span #tabIndicator></span>\n<ng-template>\n  <ng-content></ng-content>\n</ng-template>',changeDetection:a.ChangeDetectionStrategy.OnPush,encapsulation:a.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:c},{type:b},{type:a.Renderer2},{type:a.ElementRef}]},e.propDecorators={templateRefLazy:[{type:a.ContentChild,args:[s,{read:a.TemplateRef}]}],templateRef:[{type:a.ViewChild,args:[a.TemplateRef]}],tabIndicator:[{type:a.ViewChild,args:["tabIndicator"]}],onClick:[{type:a.HostListener,args:["click"]}]},e}(),f=function(o){function e(e,t,n,i,s){var r=o.call(this,s,i)||this;return r.renderer=e,r._el=t,r._tabsService=n,r.setAutoContrast(),r._triggerElement=t,r._rippleContainer=t,r}return n(e,o),e.prototype.ngOnChanges=function(){this.updateStyle(this._el)},e.prototype.ngOnInit=function(){this.renderer.addClass(this._el.nativeElement,this._tabsService.classes.label),null===this.disableRipple&&(this.disableRipple=!1)},e.prototype.ngOnDestroy=function(){this._removeRippleEvents()},e.decorators=[{type:a.Directive,args:[{selector:"ly-tab-label, [ly-tab-label]"}]}],e.ctorParameters=function(){return[{type:a.Renderer2},{type:a.ElementRef},{type:c},{type:a.NgZone},{type:r.LyTheme2}]},e}(u),m=function(){function e(){}return e.decorators=[{type:a.NgModule,args:[{imports:[r.LyThemeModule,t.CommonModule,r.LyCommonModule,r.NgTranscludeModule],exports:[b,y,f,s],declarations:[b,y,f,s]}]}],e}();e.LyTabsModule=m,e.LyTabsBase=d,e.LyTabsMixinBase=h,e.LyTabLabelBase=p,e.LyTabLabelMixinBase=u,e.LyTabs=b,e.LyTab=y,e.LyTabLabel=f,e.ɵa=s,e.ɵb=c,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=alyle-ui-tabs.umd.min.js.map