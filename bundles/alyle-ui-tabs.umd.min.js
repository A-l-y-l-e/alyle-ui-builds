!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@alyle/ui"),require("rxjs"),require("@angular/common"),require("@alyle/ui/ripple")):"function"==typeof define&&define.amd?define("@alyle/ui/tabs",["exports","@angular/core","@alyle/ui","rxjs","@angular/common","@alyle/ui/ripple"],t):t((e.alyle=e.alyle||{},e.alyle.ui=e.alyle.ui||{},e.alyle.ui.tabs={}),e.ng.core,e.alyle.ui,e.rxjs,e.ng.common,e.alyle.ui.ripple)}(this,function(e,r,a,o,t,n){"use strict";var i=function(){function e(e){this.template=e}return e.decorators=[{type:r.Directive,args:[{selector:"[ly-tab-content]"}]}],e.ctorParameters=function(){return[{type:r.TemplateRef}]},e}(),s={root:{display:"block",overflow:"hidden"},tab:{position:"relative",display:"inline-flex"},tabsLabels:{display:"flex",position:"relative","flex-grow":1,overflow:"hidden"},tabLabel:{"min-width":"72px",padding:"0 24px",cursor:"pointer",height:"48px",display:"inline-flex","justify-content":"center","align-items":"center"},tabContents:{display:"flex",transition:"450ms cubic-bezier(.1, 1, 0.5, 1)","will-change":"transform"},tabContent:{width:"100%","flex-shrink":0,position:"relative"},tabsIndicator:{position:"absolute",transition:"450ms cubic-bezier(.1, 1, 0.5, 1)",bottom:0,height:"2px",left:0,background:"currentColor"},tabsIndicatorForServer:{width:"100%"}},l=function(){function e(e){this.theme=e,console.log("name",e.config.name),this.classes=e.addStyleSheet(s,"lyTabs")}return e.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:a.LyTheme2}]},e.ngInjectableDef=r.defineInjectable({factory:function t(){return new e(r.inject(a.LyTheme2))},token:e,providedIn:"root"}),e}(),c=function(){function e(e,t,n,i,s){this.theme=t,this.renderer=n,this.el=i,this.cd=s,this._selectedIndex=0,this._tabsSubscription=o.Subscription.EMPTY,this.selectedIndexOnChange="auto",this.selectedIndexChange=new r.EventEmitter,this.classes=e.classes}return Object.defineProperty(e.prototype,"withColor",{get:function(){return this._withColor},set:function(e){if(e!==this.withColor){var t=this._createWithColorClass(e);this._withColorClass=this.theme.updateClass(this.tabsIndicator.nativeElement,this.renderer,t,this._withColorClass),this._selectedTab&&this.theme.updateClass(this._selectedTab.tabIndicator.nativeElement,this.renderer,t,this._withColorClass)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(e){e!==this.selectedIndex&&(this._selectedBeforeIndex=this._selectedIndex,this._selectedIndex=this._findIndex(e,"auto"),this._selectedBeforeTab=this._selectedTab,this.selectedIndexChange.emit(this._selectedIndex),this._updateIndicator(this._selectedTab,this._selectedBeforeTab),this._selectedRequireCheck&&this.markForCheck(),this.renderer.setStyle(this.tabContents.nativeElement,"transform","translate3d("+-100*this._selectedIndex+"%,0,0)"))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.renderer.addClass(this.el.nativeElement,this.classes.root);var e=this.tabsIndicator.nativeElement;this.renderer.addClass(e,this.classes.tabsIndicator),this.withColor||(this.withColor="primary")},e.prototype.ngAfterViewInit=function(){this._isViewInitLoaded=!0},e.prototype.ngAfterContentInit=function(){var e=this;this._tabsSubscription=this.tabsList.changes.subscribe(function(){e._selectedIndex!==e.selectedIndexOnChange&&(e.selectedIndex=e._findIndex(e.selectedIndex,e.selectedIndexOnChange)),e.cd.markForCheck()})},e.prototype.ngOnDestroy=function(){this._tabsSubscription.unsubscribe()},e.prototype._findIndex=function(e,t){if(!this.tabsList)return e;var n=this.tabsList.length-1,i="number"==typeof t?t:e;return i<0?0:n<i?n:i},e.prototype._updateIndicator=function(e,t){var n=this.selectedIndex;if(e)if(this._isViewInitLoaded&&a.Platform.isBrowser){t&&t._renderer.removeAttribute(t.tabIndicator.nativeElement,"class"),e.index!==n&&(e=this.tabsList.toArray()[n]);var i=e._el.nativeElement,s=i.getBoundingClientRect();this.renderer.setStyle(this.tabsIndicator.nativeElement,"width",s.width+"px"),this.renderer.setStyle(this.tabsIndicator.nativeElement,"left",i.offsetLeft+"px")}else this.renderer.addClass(e.tabIndicator.nativeElement,this.classes.tabsIndicatorForServer),this.renderer.addClass(e.tabIndicator.nativeElement,this._withColorClass)},e.prototype.markForCheck=function(){this.cd.markForCheck()},e.prototype.loadTemplate=function(e,t){return e.loaded?null:(e.index=t,this.selectedIndex===e.index?(this._selectedTab=e,this._updateIndicator(e)):this._isViewInitLoaded||this.selectedIndex!==e.index||(this._selectedTab=e,this._updateIndicator(e)),e.templateRefLazy?this.selectedIndex===t?(e.loaded=!0,e.templateRefLazy):null:(e.loaded=!0,e.templateRef))},e.prototype._createWithColorClass=function(e){var t=this;return this._withColor=e,this.theme.setUpStyle("k-tab-with-color:"+e,function(){return"color:"+t.theme.colorOf(e)+";"})},e.decorators=[{type:r.Component,args:[{selector:"ly-tabs",template:'<div [withClass]="classes.tabsLabels">\n  <span #tabsIndicator></span>\n  <ng-content></ng-content>\n</div>\n<div [withClass]="classes.tabContents" #tabContents>\n  <ng-template ngFor let-item [ngForOf]="tabsList" let-x="index">\n    <div [withClass]="classes.tabContent">\n      <ng-template [ngTransclude]="loadTemplate(item, x)"></ng-template>\n    </div>\n  </ng-template>\n</div>',changeDetection:r.ChangeDetectionStrategy.OnPush,encapsulation:r.ViewEncapsulation.None,exportAs:"lyTabs"}]}],e.ctorParameters=function(){return[{type:l},{type:a.LyTheme2},{type:r.Renderer2},{type:r.ElementRef},{type:r.ChangeDetectorRef}]},e.propDecorators={tabContents:[{type:r.ViewChild,args:["tabContents"]}],tabsIndicator:[{type:r.ViewChild,args:["tabsIndicator"]}],selectedIndexOnChange:[{type:r.Input}],withColor:[{type:r.Input}],selectedIndex:[{type:r.Input}],selectedIndexChange:[{type:r.Output}],withBg:[{type:r.Input}],tabsList:[{type:r.ContentChildren,args:[r.forwardRef(function(){return d})]}]},e}(),d=function(){function e(e,t,n,i){this.tabsService=e,this.tabs=t,this._renderer=n,this._el=i,this.classes=this.tabsService.classes}return e.prototype.onClick=function(){this.tabs._selectedRequireCheck=!this.loaded,this.tabs.selectedIndex=this.index},e.prototype.ngOnInit=function(){this._renderer.addClass(this._el.nativeElement,this.classes.tab)},e.prototype.ngAfterViewInit=function(){this._renderer.addClass(this.tabIndicator.nativeElement,this.classes.tabsIndicator)},e.decorators=[{type:r.Component,args:[{selector:"ly-tab",template:'<ng-content select="ly-tab-label"></ng-content>\n<ng-content select="[ly-tab-label]"></ng-content>\n<span #tabIndicator></span>\n<ng-template>\n  <ng-content></ng-content>\n</ng-template>',changeDetection:r.ChangeDetectionStrategy.OnPush,encapsulation:r.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:l},{type:c},{type:r.Renderer2},{type:r.ElementRef}]},e.propDecorators={templateRefLazy:[{type:r.ContentChild,args:[i,{read:r.TemplateRef}]}],templateRef:[{type:r.ViewChild,args:[r.TemplateRef]}],tabIndicator:[{type:r.ViewChild,args:["tabIndicator"]}],onClick:[{type:r.HostListener,args:["click"]}]},e}(),h=function(){function e(e,t,n){this.renderer=e,this.el=t,this.tabsService=n}return e.prototype.ngOnInit=function(){this.renderer.addClass(this.el.nativeElement,this.tabsService.classes.tabLabel)},e.decorators=[{type:r.Directive,args:[{selector:"ly-tab-label, [ly-tab-label]"}]}],e.ctorParameters=function(){return[{type:r.Renderer2},{type:r.ElementRef},{type:l}]},e.propDecorators={"native":[{type:r.Input}]},e}(),p=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{imports:[a.LyThemeModule,t.CommonModule,a.LyCommonModule,n.LyRippleModule,a.NgTranscludeModule],exports:[c,d,h,i],declarations:[c,d,h,i]}]}],e}();e.LyTabsModule=p,e.LyTabs=c,e.LyTab=d,e.LyTabLabel=h,e.ɵa=i,e.ɵb=l,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=alyle-ui-tabs.umd.min.js.map