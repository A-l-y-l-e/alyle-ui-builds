!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@alyle/ui"),require("@alyle/ui/button"),require("rxjs"),require("@angular/common")):"function"==typeof define&&define.amd?define("@alyle/ui/tabs",["exports","@angular/core","@alyle/ui","@alyle/ui/button","rxjs","@angular/common"],t):t(((e=e||self).ly=e.ly||{},e.ly.tabs={}),e.ng.core,e.ly.core,e.ly.button,e.rxjs,e.ng.common)}(this,function(e,t,n,i,s,a){"use strict";var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var l=function(){return(l=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function c(e,t,n,i){var s,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(a<3?s(o):a>3?s(t,n,o):s(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function d(e,t){return function(n,i){t(n,i,e)}}function p(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var h=function(){function e(e){this.template=e}return e=c([t.Directive({selector:"[ly-tab-content]"}),p("design:paramtypes",[t.TemplateRef])],e)}(),b=function(e){var t;return{$priority:-2,root:{display:"block"},container:{display:"flex"},tab:{position:"relative",display:"inline-flex"},contentContainer:{overflow:"hidden",flexGrow:1},tabsLabels:{display:"flex",position:"relative"},tabsLabelsContainer:{overflow:"hidden","{scrollable} &":{"@media (hover: none)":{overflow:"auto"}}},label:(t={"-webkit-tap-highlight-color":"transparent","-webkit-appearance":"none",backgroundColor:"transparent",userSelect:"none",border:0,minWidth:"72px",padding:"0 24px",cursor:"pointer",height:"48px",display:"inline-flex",justifyContent:"center",alignItems:"center",position:"relative",overflow:"hidden",fontFamily:e.typography.fontFamily,fontSize:e.pxToRem(e.typography.fontSize),letterSpacing:"0.02857em",color:"currentColor",outline:"none",width:"100%",fontWeight:500,opacity:.7},t[e.getBreakpoint("XSmall")]={padding:"0 12px"},t),tabLabelActive:{opacity:1},tabContents:{display:"flex",transition:"450ms cubic-bezier(.1, 1, 0.5, 1)",willChange:"transform",height:"100%"},tabContent:{width:"100%",height:"100%",flexShrink:0,position:"relative"},tabsIndicator:{position:"absolute",height:"2px",transition:"450ms cubic-bezier(.1, 1, 0.5, 1)",background:"currentColor"},tabsIndicatorForServer:{position:"absolute",background:"currentColor"},rippleContainer:l({},n.LY_COMMON_STYLES.fill,{overflow:"hidden"}),scrollable:null}},u=function(e){this._theme=e},f=n.mixinStyleUpdater(n.mixinBg(n.mixinElevation(n.mixinShadowColor(u)))),m=function(e,t){this._theme=e,this._ngZone=t},y=n.mixinStyleUpdater(n.mixinBg(n.mixinColor(n.mixinRaised(n.mixinDisabled(n.mixinOutlined(n.mixinElevation(n.mixinShadowColor(n.mixinDisableRipple(m))))))))),g=function(e){function i(n,i,a,o,r){var l=e.call(this,n)||this;return l.theme=n,l.renderer=i,l.el=a,l.cd=o,l._resizeService=r,l.classes=l.theme.addStyleSheet(b),l._tabsSubscription=s.Subscription.EMPTY,l.selectedIndexOnChange="auto",l.selectedIndexChange=new t.EventEmitter,l.setAutoContrast(),l}return r(i,e),Object.defineProperty(i.prototype,"scrollable",{get:function(){return this._scrollable},set:function(e){var t=n.toBoolean(e);t?this.renderer.addClass(this.el.nativeElement,this.classes.scrollable):null!=this._scrollable&&this.renderer.removeClass(this.el.nativeElement,this.classes.scrollable),this._scrollable=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"indicatorColor",{get:function(){return this._color},set:function(e){e!==this.indicatorColor&&(this._color=e,this._colorClass=this.theme.addStyle("k-tab-indicator-color:"+e,function(t){return"color:"+t.colorOf(e)+";"},this.tabsIndicator.nativeElement,this._colorClass))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"headerPlacement",{get:function(){return this._headerPlacement},set:function(e){var t=this;e!==this.headerPlacement&&(this._headerPlacement=e,this._headerPlacementClass=this.theme.addStyle("lyTabs.headerPlacement:"+e,function(){var i,s,a,o,r=t._getFlexDirection(e),l=null,c=null,d=null,p=null;switch(e){case n.YPosition.above:a="column",o=n.YPosition.below,l="2px",p="100%";break;case n.YPosition.below:a="column-reverse",o=n.YPosition.above,l="2px",p="100%";break;case n.XPosition.before:a="row",o=n.XPosition.after,c="2px",d="100%";break;case n.XPosition.after:a="row-reverse",o=n.XPosition.before,c="2px",d="100%";break;default:throw new Error("LyTabs: value:"+e+" do not is valid for `headerPlacement`")}return r=e===n.YPosition.above||e===n.YPosition.below?"row":"column",(i={})["."+t.classes.container]={flexDirection:a},i["& ."+t.classes.tabsIndicator+",& ."+t.classes.tabsIndicatorForServer]=((s={})[o]=0,s.height=l,s.width=c,s),i["."+t.classes.tabsIndicatorForServer]={width:p,height:d},i["& ."+t.classes.tabsLabels+",& ."+t.classes.tabContents]={flexDirection:r},i["."+t.classes.tabContents]={flexDirection:r},i},this.el.nativeElement,this._headerPlacementClass,-2),this._updateStylesOfSelectedTab())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"alignTabs",{get:function(){return this._alignTabs},set:function(e){var t,i;this._alignTabs=e,this._alignTabsClass=this.theme.addStyle("lyAlignTabs: "+e,"stretch"===e?((t={})["& ."+this.classes.tabsLabels+" ."+this.classes.tab]={flexBasis:0,flexGrow:1},t):((i={})["& ."+this.classes.tabsLabels]={justifyContent:e in n.AlignAlias?n.AlignAlias[e]:e},i),this.el.nativeElement,this._alignTabsClass,-2)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textColor",{get:function(){return this._textColor},set:function(e){var t=this;this._textColor=e,this._textColorClass=this.theme.addStyle("lyTabs.textColor:"+e,function(n){var i;return(i={})["& ."+t.classes.tabLabelActive]={color:n.colorOf(e)},i},this.el.nativeElement,this._textColorClass,-2)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(e){var t=this;e!==this.selectedIndex&&(this._selectedBeforeIndex=this._selectedIndex,this._selectedIndex=this._findIndex(e,"auto"),this._selectedBeforeTab=this._selectedTab,this.selectedIndexChange.emit(this._selectedIndex),this._markForCheck(),Promise.resolve(null).then(function(){t._updateStylesOfSelectedTab()}))},enumerable:!0,configurable:!0}),i.prototype.ngOnChanges=function(){this._isViewInitLoaded&&this.updateStyle(this.tabsRef.nativeElement)},i.prototype.ngOnInit=function(){null==this.selectedIndex&&(this.selectedIndex=0),this.renderer.addClass(this.el.nativeElement,this.classes.root);var e=this.tabsIndicator.nativeElement;this.renderer.addClass(e,this.classes.tabsIndicator),this.indicatorColor||this.bg||this.textColor||this.elevation||(this.indicatorColor="accent",this.bg="primary",this.elevation=4),this.headerPlacement||(this.headerPlacement="above")},i.prototype.ngAfterContentInit=function(){var e=this;this._tabsSubscription=this.tabsList.changes.subscribe(function(){e._selectedIndex!==e.selectedIndexOnChange&&(e.selectedIndex=e._findIndex(e.selectedIndex,e.selectedIndexOnChange)),e.cd.markForCheck()})},i.prototype.ngAfterViewInit=function(){var e=this;this.updateStyle(this.tabsRef.nativeElement),this._isViewInitLoaded=!0,n.Platform.isBrowser&&(this._tabResizeSub=this._resizeService.resize$.subscribe(function(){e._selectedTab&&(e._updateIndicator(e._selectedTab),e._selectedTab._tabLabel._updateTabScroll())}))},i.prototype.ngOnDestroy=function(){this._tabsSubscription.unsubscribe(),this._tabResizeSub&&this._tabResizeSub.unsubscribe()},i.prototype._findIndex=function(e,t){if(!this.tabsList)return e;var n=this.tabsList.length-1,i="number"==typeof t?t:e;return i<0?0:i>n?n:i},i.prototype._updateIndicator=function(e,t){if(e){t&&t._renderer.removeAttribute(t._tabIndicator.nativeElement,"class");var i=e._el.nativeElement,s=i.getBoundingClientRect();this.headerPlacement===n.XPosition.after||this.headerPlacement===n.XPosition.before?(this.renderer.setStyle(this.tabsIndicator.nativeElement,"height",s.height+"px"),this.renderer.setStyle(this.tabsIndicator.nativeElement,"top",i.offsetTop+"px"),this.renderer.removeStyle(this.tabsIndicator.nativeElement,"width"),this.renderer.removeStyle(this.tabsIndicator.nativeElement,"left")):(this.renderer.setStyle(this.tabsIndicator.nativeElement,"width",s.width+"px"),this.renderer.setStyle(this.tabsIndicator.nativeElement,"left",i.offsetLeft+"px"),this.renderer.removeStyle(this.tabsIndicator.nativeElement,"height"),this.renderer.removeStyle(this.tabsIndicator.nativeElement,"top"))}},i.prototype._updateStylesOfSelectedTab=function(){var e=this,t=this._selectedIndex,i=this.headerPlacement;this._selectedIndexClass=this._theme.addStyle("lyTabs.selectedIndex:"+t+"+"+i,function(s){var a=1,o="column"===e._getFlexDirection(i)?"Y":"X";return s.direction!==n.Dir.ltr&&"Y"!==o||(a=-1),{transform:"translate"+o+"("+100*t*a+"%)"}},this.tabContents.nativeElement,this._selectedIndexClass,-2),this.renderer.addClass(this.tabContents.nativeElement,this._selectedIndexClass)},i.prototype._markForCheck=function(){this.cd.markForCheck()},i.prototype.loadTemplate=function(e,t){var i=this;return e.index=t,this.selectedIndex===e.index&&(this._selectedTab=e,Promise.resolve(null).then(function(){if(n.Platform.isBrowser)i._updateIndicator(e);else{var t=i._selectedBeforeTab;t&&(i.renderer.removeClass(t._tabIndicator.nativeElement,i.classes.tabsIndicatorForServer),i.renderer.removeClass(t._tabIndicator.nativeElement,i._colorClass)),i.renderer.addClass(i._selectedTab._tabIndicator.nativeElement,i.classes.tabsIndicatorForServer),i.renderer.addClass(i._selectedTab._tabIndicator.nativeElement,i._colorClass)}})),e._tabLabel._updateTabState(),this.selectedIndex===e.index?e._templateRefLazy||e._templateRef:null},i.prototype._getFlexDirection=function(e){return e===n.YPosition.above||e===n.YPosition.below?"row":"column"},c([t.ViewChild("tabs",{"static":!0}),p("design:type",t.ElementRef)],i.prototype,"tabsRef",void 0),c([t.ViewChild("tabContents",{"static":!0}),p("design:type",t.ElementRef)],i.prototype,"tabContents",void 0),c([t.ViewChild("tabsIndicator",{"static":!0}),p("design:type",t.ElementRef)],i.prototype,"tabsIndicator",void 0),c([t.Input(),p("design:type",Object)],i.prototype,"selectedIndexOnChange",void 0),c([t.Input(),p("design:type",Object),p("design:paramtypes",[Object])],i.prototype,"scrollable",null),c([t.Input(),p("design:type",String),p("design:paramtypes",[String])],i.prototype,"indicatorColor",null),c([t.Input(),p("design:type",String),p("design:paramtypes",[String])],i.prototype,"headerPlacement",null),c([t.Input(),p("design:type",String),p("design:paramtypes",[String])],i.prototype,"alignTabs",null),c([t.Input(),p("design:type",String),p("design:paramtypes",[String])],i.prototype,"textColor",null),c([t.Input(),p("design:type",Number),p("design:paramtypes",[Number])],i.prototype,"selectedIndex",null),c([t.Output(),p("design:type",t.EventEmitter)],i.prototype,"selectedIndexChange",void 0),c([t.ContentChildren(t.forwardRef(function(){return v})),p("design:type",t.QueryList)],i.prototype,"tabsList",void 0),i=c([t.Component({selector:"ly-tabs",template:'<div [className]="classes.container">\n  <div #tabs [className]="classes.tabsLabelsContainer">\n    <div [className]="classes.tabsLabels">\n      <ng-content></ng-content>\n      <span #tabsIndicator></span>\n    </div>\n  </div>\n  <div [className]="classes.contentContainer">\n    <div [className]="classes.tabContents" #tabContents>\n      <ng-template ngFor let-item [ngForOf]="tabsList" let-x="index">\n        <div [className]="classes.tabContent">\n          <ng-template [ngTransclude]="loadTemplate(item, x)"></ng-template>\n        </div>\n      </ng-template>\n    </div>\n  </div>\n</div>',changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None,exportAs:"lyTabs",inputs:["bg","elevation","shadowColor"]}),p("design:paramtypes",[n.LyTheme2,t.Renderer2,t.ElementRef,t.ChangeDetectorRef,n.WinResize])],i)}(f),v=function(){function e(e,t,i){this._tabs=e,this._renderer=t,this._el=i,this._isBrowser=n.Platform.isBrowser}return e.prototype.ngOnInit=function(){this._renderer.addClass(this._el.nativeElement,this._tabs.classes.tab)},c([t.ContentChild(h,{read:t.TemplateRef,"static":!0}),p("design:type",t.TemplateRef)],e.prototype,"_templateRefLazy",void 0),c([t.ViewChild("_templateNgContent",{"static":!0}),p("design:type",t.TemplateRef)],e.prototype,"_templateRef",void 0),c([t.ViewChild("tabIndicator",{"static":!1}),p("design:type",t.ElementRef)],e.prototype,"_tabIndicator",void 0),c([t.ContentChild(t.forwardRef(function(){return _}),{"static":!0}),p("design:type",Object)],e.prototype,"_tabLabel",void 0),e=c([t.Component({selector:"ly-tab",template:'<ng-content select="ly-tab-label"></ng-content>\n<ng-content select="[ly-tab-label]"></ng-content>\n<ng-content select="[ly-tab-label-native]"></ng-content>\n<div></div>\n<span *ngIf="!_isBrowser" #tabIndicator></span>\n<ng-template #_templateNgContent>\n  <ng-content></ng-content>\n</ng-template>',changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None}),p("design:paramtypes",[g,t.Renderer2,t.ElementRef])],e)}(),_=function(e){function i(t,i,s,a,o,r,l,c){var d=e.call(this,t,i,s,a,o,r)||this;return d._tab=l,d._tabs=c,d._isBrowser=n.Platform.isBrowser,d}return r(i,e),Object.defineProperty(i.prototype,"active",{get:function(){return this._active},set:function(e){var t=this;n.toBoolean(e)&&e!==this.active&&Promise.resolve(null).then(function(){return t._tabs.selectedIndex=t._tab.index})},enumerable:!0,configurable:!0}),i.prototype._onClickTab=function(){this.disabled||(this._tabs.selectedIndex=this._tab.index)},i.prototype.ngOnInit=function(){this._renderer.addClass(this._el.nativeElement,this._tabs.classes.label),null==this.disableRipple&&(this.disableRipple=!1)},i.prototype._updateTabState=function(){this._tabs._selectedIndex===this._tab.index?this._activeTabStyle||(this._activeTabStyle=!0,this._renderer.addClass(this._el.nativeElement,this._tabs.classes.tabLabelActive),this._updateTabScroll()):this._activeTabStyle&&(this._activeTabStyle=!1,this._renderer.removeClass(this._el.nativeElement,this._tabs.classes.tabLabelActive))},i.prototype._updateTabScroll=function(){if(n.Platform.isBrowser&&this._tabs.scrollable){var e=this._tab._el.nativeElement,t=this._tabs.tabsRef.nativeElement;if(t.scrollWidth!==t.offsetWidth){var i=this._theme.variables.direction,s=t.scrollWidth-t.offsetWidth,a=(i===n.Dir.rtl?s+e.offsetLeft:e.offsetLeft)+e.offsetWidth/2-t.offsetWidth/2,o=a>=s?s:a<=0?0:a;n.scrollWithAnimation(this._tabs.tabsRef.nativeElement,o,350,"x")}}},i.prototype.ngAfterViewInit=function(){},c([t.Input(),p("design:type",Boolean),p("design:paramtypes",[Boolean])],i.prototype,"active",null),c([t.ViewChild("rippleContainer",{"static":!1}),p("design:type",t.ElementRef)],i.prototype,"_rippleContainer",void 0),c([t.HostListener("click"),p("design:type",Function),p("design:paramtypes",[]),p("design:returntype",void 0)],i.prototype,"_onClickTab",null),i=c([t.Component({selector:"button[ly-tab-label], a[ly-tab-label]",template:'<span [className]="classes.content">\n  <ng-content></ng-content>\n</span>\n<div *ngIf="_isBrowser" #rippleContainer [className]="_rippleService.classes.container"></div>\n',inputs:["bg","color","raised","disabled","outlined","elevation","shadowColor","disableRipple"]}),d(6,t.Optional()),d(7,t.Optional()),p("design:paramtypes",[t.ElementRef,t.Renderer2,n.LyTheme2,t.NgZone,n.LyRippleService,n.LyFocusState,v,g])],i)}(i.LyButton),C=function(){function e(){}return e=c([t.NgModule({imports:[n.LyThemeModule,a.CommonModule,n.LyCommonModule,n.NgTranscludeModule],exports:[n.LyCommonModule,g,v,_,h],declarations:[g,v,_,h]})],e)}();e.LyTab=v,e.LyTabLabel=_,e.LyTabLabelBase=m,e.LyTabLabelMixinBase=y,e.LyTabs=g,e.LyTabsBase=u,e.LyTabsMixinBase=f,e.LyTabsModule=C,e.STYLES=b,e.ɵa=h,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=alyle-ui-tabs.umd.min.js.map