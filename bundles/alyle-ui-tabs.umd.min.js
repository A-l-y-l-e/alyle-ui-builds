!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@alyle/ui"),require("@alyle/ui/button"),require("rxjs"),require("@angular/common")):"function"==typeof define&&define.amd?define("@alyle/ui/tabs",["exports","@angular/core","@alyle/ui","@alyle/ui/button","rxjs","@angular/common"],t):t(((e=e||self).ly=e.ly||{},e.ly.tabs={}),e.ng.core,e.ly.core,e.ly.button,e.rxjs,e.ng.common)}(this,(function(e,t,n,i,o,s){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function l(e,t,n,i){var o,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,i){t(n,i,e)}}var d=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:t.TemplateRef}]},e=l([t.Directive({selector:"[ly-tab-content]"})],e)}(),h=function(e,t){var i=t.selectorsOf(h);return{$name:m.и,$priority:-2,root:function(){return function(t){return t+"{display:block;}"+n.styleTemplateToString(e.tab&&e.tab.root&&(e.tab.root instanceof n.StyleCollection?e.tab.root.setTransformer((function(e){return e(i)})).css:e.tab.root(i)),""+t)}},container:function(e){return e+"{display:flex;}"},tab:function(e){return e+"{position:relative;display:inline-flex;}"},contentContainer:function(e){return e+"{overflow:hidden;flex-grow:1;}"},tabsLabels:function(e){return e+"{display:flex;position:relative;}"},tabsLabelsContainer:function(){return function(e){return e+"{overflow:hidden;}@media (hover: none){"+i.scrollable+" "+e+"{overflow:auto;}}"}},label:function(t){return t+"{-webkit-tap-highlight-color:transparent;-webkit-appearance:none;background-color:transparent;user-select:none;border:0;min-width:72px;padding:0 24px;cursor:pointer;height:48px;display:inline-flex;justify-content:center;align-items:center;position:relative;overflow:hidden;font-family:"+e.typography.fontFamily+";font-size:"+e.pxToRem(e.typography.fontSize)+";letter-spacing:0.02857em;color:currentColor;outline:none;width:100%;font-weight:500;opacity:.7;}"+t+" "+e.getBreakpoint("XSmall")+"{padding:0 12px;}"},tabLabelActive:function(e){return e+"{opacity:1;}"},tabContents:function(e){return e+"{display:flex;transition:450ms cubic-bezier(.1, 1, 0.5, 1);will-change:transform;height:100%;}"},tabContent:function(e){return e+"{width:100%;height:100%;flex-shrink:0;position:relative;}"},tabsIndicator:function(e){return e+"{position:absolute;height:2px;transition:450ms cubic-bezier(.1, 1, 0.5, 1);background:currentColor;}"},tabsIndicatorForServer:function(e){return e+"{position:absolute;background:currentColor;}"},rippleContainer:function(e){return""+n.styleTemplateToString(n.LY_COMMON_STYLES.fill,""+e)+e+"{overflow:hidden;}"},scrollable:null}},u=function(e){this._theme=e},b=n.mixinStyleUpdater(n.mixinBg(n.mixinElevation(n.mixinShadowColor(u)))),p=function(e,t){this._theme=e,this._ngZone=t},f=n.mixinStyleUpdater(n.mixinBg(n.mixinColor(n.mixinRaised(n.mixinDisabled(n.mixinOutlined(n.mixinElevation(n.mixinShadowColor(n.mixinDisableRipple(p))))))))),m=function(e){function i(n,i,s,a,r){var l=e.call(this,n)||this;return l.theme=n,l.renderer=i,l.el=s,l.cd=a,l._resizeService=r,l.classes=l.theme.renderStyleSheet(h),l._tabsSubscription=o.Subscription.EMPTY,l.selectedIndexOnChange="auto",l.selectedIndexChange=new t.EventEmitter,l.setAutoContrast(),l}return r(i,e),Object.defineProperty(i.prototype,"scrollable",{get:function(){return this._scrollable},set:function(e){var t=n.toBoolean(e);t?this.renderer.addClass(this.el.nativeElement,this.classes.scrollable):null!=this._scrollable&&this.renderer.removeClass(this.el.nativeElement,this.classes.scrollable),this._scrollable=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"indicatorColor",{get:function(){return this._color},set:function(e){e!==this.indicatorColor&&(this._color=e,this._colorClass=this.theme.addStyle("k-tab-indicator-color:"+e,(function(t){return"color:"+t.colorOf(e)+";"}),this.tabsIndicator.nativeElement,this._colorClass))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"headerPlacement",{get:function(){return this._headerPlacement},set:function(e){var t=this;e!==this.headerPlacement&&(this._headerPlacement=e,this._headerPlacementClass=this.theme.addStyle("lyTabs.headerPlacement:"+e,(function(){var i,o,s,a,r=t._getFlexDirection(e),l=null,c=null,d=null,h=null;switch(e){case n.YPosition.above:s="column",a=n.YPosition.below,l="2px",h="100%";break;case n.YPosition.below:s="column-reverse",a=n.YPosition.above,l="2px",h="100%";break;case n.XPosition.before:s="row",a=n.XPosition.after,c="2px",d="100%";break;case n.XPosition.after:s="row-reverse",a=n.XPosition.before,c="2px",d="100%";break;default:throw new Error("LyTabs: value:"+e+" do not is valid for `headerPlacement`")}return r=e===n.YPosition.above||e===n.YPosition.below?"row":"column",(i={})["."+t.classes.container]={flexDirection:s},i["& ."+t.classes.tabsIndicator+",& ."+t.classes.tabsIndicatorForServer]=((o={})[a]=0,o.height=l,o.width=c,o),i["."+t.classes.tabsIndicatorForServer]={width:h,height:d},i["& ."+t.classes.tabsLabels+",& ."+t.classes.tabContents]={flexDirection:r},i["."+t.classes.tabContents]={flexDirection:r},i}),this.el.nativeElement,this._headerPlacementClass,-2),this._updateStylesOfSelectedTab())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"alignTabs",{get:function(){return this._alignTabs},set:function(e){var t,i;this._alignTabs=e,this._alignTabsClass=this.theme.addStyle("lyAlignTabs: "+e,"stretch"===e?((t={})["& ."+this.classes.tabsLabels+" ."+this.classes.tab]={flexBasis:0,flexGrow:1},t):((i={})["& ."+this.classes.tabsLabels]={justifyContent:e in n.AlignAlias?n.AlignAlias[e]:e},i),this.el.nativeElement,this._alignTabsClass,-2)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textColor",{get:function(){return this._textColor},set:function(e){var t=this;this._textColor=e,this._textColorClass=this.theme.addStyle("lyTabs.textColor:"+e,(function(n){var i;return(i={})["& ."+t.classes.tabLabelActive]={color:n.colorOf(e)},i}),this.el.nativeElement,this._textColorClass,-2)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(e){var t=this;e!==this.selectedIndex&&(this._selectedBeforeIndex=this._selectedIndex,this._selectedIndex=this._findIndex(e,"auto"),this._selectedBeforeTab=this._selectedTab,this.selectedIndexChange.emit(this._selectedIndex),this._markForCheck(),Promise.resolve(null).then((function(){t._updateStylesOfSelectedTab()})))},enumerable:!0,configurable:!0}),i.prototype.ngOnChanges=function(){this._isViewInitLoaded&&this.updateStyle(this.tabsRef.nativeElement)},i.prototype.ngOnInit=function(){null==this.selectedIndex&&(this.selectedIndex=0),this.renderer.addClass(this.el.nativeElement,this.classes.root);var e=this.tabsIndicator.nativeElement;this.renderer.addClass(e,this.classes.tabsIndicator),this.indicatorColor||this.bg||this.textColor||this.elevation||(this.indicatorColor="accent",this.bg="primary",this.elevation=4),this.headerPlacement||(this.headerPlacement="above")},i.prototype.ngAfterContentInit=function(){var e=this;this._tabsSubscription=this.tabsList.changes.subscribe((function(){e._selectedIndex!==e.selectedIndexOnChange&&(e.selectedIndex=e._findIndex(e.selectedIndex,e.selectedIndexOnChange)),e.cd.markForCheck()}))},i.prototype.ngAfterViewInit=function(){var e=this;this.updateStyle(this.tabsRef.nativeElement),this._isViewInitLoaded=!0,n.Platform.isBrowser&&(this._tabResizeSub=this._resizeService.resize$.subscribe((function(){e._selectedTab&&(e._updateIndicator(e._selectedTab),e._selectedTab._tabLabel._updateTabScroll())})))},i.prototype.ngOnDestroy=function(){this._tabsSubscription.unsubscribe(),this._tabResizeSub&&this._tabResizeSub.unsubscribe()},i.prototype._findIndex=function(e,t){if(!this.tabsList)return e;var n=this.tabsList.length-1,i="number"==typeof t?t:e;return i<0?0:i>n?n:i},i.prototype._updateIndicator=function(e,t){if(e){t&&t._renderer.removeAttribute(t._tabIndicator.nativeElement,"class");var i=e._el.nativeElement,o=i.getBoundingClientRect();this.headerPlacement===n.XPosition.after||this.headerPlacement===n.XPosition.before?(this.renderer.setStyle(this.tabsIndicator.nativeElement,"height",o.height+"px"),this.renderer.setStyle(this.tabsIndicator.nativeElement,"top",i.offsetTop+"px"),this.renderer.removeStyle(this.tabsIndicator.nativeElement,"width"),this.renderer.removeStyle(this.tabsIndicator.nativeElement,"left")):(this.renderer.setStyle(this.tabsIndicator.nativeElement,"width",o.width+"px"),this.renderer.setStyle(this.tabsIndicator.nativeElement,"left",i.offsetLeft+"px"),this.renderer.removeStyle(this.tabsIndicator.nativeElement,"height"),this.renderer.removeStyle(this.tabsIndicator.nativeElement,"top"))}},i.prototype._updateStylesOfSelectedTab=function(){var e=this,t=this._selectedIndex,i=this.headerPlacement;this._selectedIndexClass=this._theme.addStyle("lyTabs.selectedIndex:"+t+"+"+i,(function(o){var s=1,a="column"===e._getFlexDirection(i)?"Y":"X";return o.direction!==n.Dir.ltr&&"Y"!==a||(s=-1),{transform:"translate"+a+"("+100*t*s+"%)"}}),this.tabContents.nativeElement,this._selectedIndexClass,-2),this.renderer.addClass(this.tabContents.nativeElement,this._selectedIndexClass)},i.prototype._markForCheck=function(){this.cd.markForCheck()},i.prototype.loadTemplate=function(e,t){var i=this;return e.index=t,this.selectedIndex===e.index&&(this._selectedTab=e,Promise.resolve(null).then((function(){if(n.Platform.isBrowser)i._updateIndicator(e);else{var t=i._selectedBeforeTab;t&&(i.renderer.removeClass(t._tabIndicator.nativeElement,i.classes.tabsIndicatorForServer),i.renderer.removeClass(t._tabIndicator.nativeElement,i._colorClass)),i.renderer.addClass(i._selectedTab._tabIndicator.nativeElement,i.classes.tabsIndicatorForServer),i.renderer.addClass(i._selectedTab._tabIndicator.nativeElement,i._colorClass)}}))),e._tabLabel._updateTabState(),this.selectedIndex===e.index?e._templateRefLazy||e._templateRef:null},i.prototype._getFlexDirection=function(e){return e===n.YPosition.above||e===n.YPosition.below?"row":"column"},i.и="LyTabs",i.ctorParameters=function(){return[{type:n.LyTheme2},{type:t.Renderer2},{type:t.ElementRef},{type:t.ChangeDetectorRef},{type:n.WinResize}]},l([t.ViewChild("tabs",{static:!0})],i.prototype,"tabsRef",void 0),l([t.ViewChild("tabContents",{static:!0})],i.prototype,"tabContents",void 0),l([t.ViewChild("tabsIndicator",{static:!0})],i.prototype,"tabsIndicator",void 0),l([t.Input()],i.prototype,"selectedIndexOnChange",void 0),l([t.Input()],i.prototype,"scrollable",null),l([t.Input()],i.prototype,"indicatorColor",null),l([t.Input()],i.prototype,"headerPlacement",null),l([t.Input()],i.prototype,"alignTabs",null),l([t.Input()],i.prototype,"textColor",null),l([t.Input()],i.prototype,"selectedIndex",null),l([t.Output()],i.prototype,"selectedIndexChange",void 0),l([t.ContentChildren(t.forwardRef((function(){return y})))],i.prototype,"tabsList",void 0),i=l([t.Component({selector:"ly-tabs",template:'<div [className]="classes.container">\n  <div #tabs [className]="classes.tabsLabelsContainer">\n    <div [className]="classes.tabsLabels">\n      <ng-content></ng-content>\n      <span #tabsIndicator></span>\n    </div>\n  </div>\n  <div [className]="classes.contentContainer">\n    <div [className]="classes.tabContents" #tabContents>\n      <ng-template ngFor let-item [ngForOf]="tabsList" let-x="index">\n        <div [className]="classes.tabContent">\n          <ng-template [ngTransclude]="loadTemplate(item, x)"></ng-template>\n        </div>\n      </ng-template>\n    </div>\n  </div>\n</div>',changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None,exportAs:"lyTabs",inputs:["bg","elevation","shadowColor"]})],i)}(b),y=function(){function e(e,t,i){this._tabs=e,this._renderer=t,this._el=i,this._isBrowser=n.Platform.isBrowser}return e.prototype.ngOnInit=function(){this._renderer.addClass(this._el.nativeElement,this._tabs.classes.tab)},e.ctorParameters=function(){return[{type:m},{type:t.Renderer2},{type:t.ElementRef}]},l([t.ContentChild(d,{read:t.TemplateRef,static:!0})],e.prototype,"_templateRefLazy",void 0),l([t.ViewChild("_templateNgContent",{static:!0})],e.prototype,"_templateRef",void 0),l([t.ViewChild("tabIndicator",{static:!1})],e.prototype,"_tabIndicator",void 0),l([t.ContentChild(t.forwardRef((function(){return v})),{static:!0})],e.prototype,"_tabLabel",void 0),e=l([t.Component({selector:"ly-tab",template:'<ng-content select="ly-tab-label"></ng-content>\n<ng-content select="[ly-tab-label]"></ng-content>\n<ng-content select="[ly-tab-label-native]"></ng-content>\n<div></div>\n<span *ngIf="!_isBrowser" #tabIndicator></span>\n<ng-template #_templateNgContent>\n  <ng-content></ng-content>\n</ng-template>',changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None})],e)}(),v=function(e){function i(t,i,o,s,a,r,l,c,d){var h=e.call(this,t,i,o,s,a,r,l,null)||this;return h._tab=c,h._tabs=d,h._isBrowser=n.Platform.isBrowser,h}return r(i,e),Object.defineProperty(i.prototype,"active",{get:function(){return this._active},set:function(e){var t=this;n.toBoolean(e)&&e!==this.active&&Promise.resolve(null).then((function(){return t._tabs.selectedIndex=t._tab.index}))},enumerable:!0,configurable:!0}),i.prototype._onClickTab=function(){this.disabled||(this._tabs.selectedIndex=this._tab.index)},i.prototype.ngOnInit=function(){this._renderer.addClass(this._el.nativeElement,this._tabs.classes.label),null==this.disableRipple&&(this.disableRipple=!1)},i.prototype._updateTabState=function(){this._tabs._selectedIndex===this._tab.index?this._activeTabStyle||(this._activeTabStyle=!0,this._renderer.addClass(this._el.nativeElement,this._tabs.classes.tabLabelActive),this._updateTabScroll()):this._activeTabStyle&&(this._activeTabStyle=!1,this._renderer.removeClass(this._el.nativeElement,this._tabs.classes.tabLabelActive))},i.prototype._updateTabScroll=function(){if(n.Platform.isBrowser&&this._tabs.scrollable){var e=this._tab._el.nativeElement,t=this._tabs.tabsRef.nativeElement;if(t.scrollWidth!==t.offsetWidth){var i=this._theme.variables.direction,o=t.scrollWidth-t.offsetWidth,s=(i===n.Dir.rtl?o+e.offsetLeft:e.offsetLeft)+e.offsetWidth/2-t.offsetWidth/2,a=s>=o?o:s<=0?0:s;n.scrollWithAnimation(this._tabs.tabsRef.nativeElement,a,350,"x")}}},i.prototype.ngAfterViewInit=function(){},i.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2},{type:n.LyTheme2},{type:t.NgZone},{type:n.LyRippleService},{type:n.LyFocusState},{type:n.LyHostClass},{type:y,decorators:[{type:t.Optional}]},{type:m,decorators:[{type:t.Optional}]}]},l([t.Input()],i.prototype,"active",null),l([t.ViewChild("rippleContainer",{static:!1})],i.prototype,"_rippleContainer",void 0),l([t.HostListener("click")],i.prototype,"_onClickTab",null),i=l([t.Component({selector:"button[ly-tab-label], a[ly-tab-label]",template:'<span [className]="classes.content">\n  <ng-content></ng-content>\n</span>\n<div *ngIf="_isBrowser" #rippleContainer [className]="_rippleService.classes.container"></div>\n',inputs:["bg","color","raised","disabled","outlined","elevation","shadowColor","disableRipple"],providers:[n.LyHostClass]}),c(7,t.Optional()),c(8,t.Optional())],i)}(i.LyButton),_=function(){function e(){}return e=l([t.NgModule({imports:[n.LyThemeModule,s.CommonModule,n.LyCommonModule,n.NgTranscludeModule],exports:[n.LyCommonModule,m,y,v,d],declarations:[m,y,v,d]})],e)}();e.LyTab=y,e.LyTabLabel=v,e.LyTabLabelBase=p,e.LyTabLabelMixinBase=f,e.LyTabs=m,e.LyTabsBase=u,e.LyTabsMixinBase=b,e.LyTabsModule=_,e.STYLES=h,e.ɵa=d,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=alyle-ui-tabs.umd.min.js.map