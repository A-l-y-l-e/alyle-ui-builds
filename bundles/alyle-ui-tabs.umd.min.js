!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@alyle/ui"),require("@angular/common"),require("@alyle/ui/ripple")):"function"==typeof define&&define.amd?define("@alyle/ui/tabs",["exports","@angular/core","@alyle/ui","@angular/common","@alyle/ui/ripple"],t):t((e.alyle=e.alyle||{},e.alyle.ui=e.alyle.ui||{},e.alyle.ui.tabs={}),e.ng.core,e.alyle.ui,e.ng.common,e.alyle.ui.ripple)}(this,function(e,r,a,t,n){"use strict";var i=function(){function e(e){this.template=e}return e.decorators=[{type:r.Directive,args:[{selector:"[ly-tab-content]"}]}],e.ctorParameters=function(){return[{type:r.TemplateRef}]},e}(),s=function(){function e(e){this.theme=e,this.tabs=this.theme.setUpStyle("k-tabs",function(){return"display:block;overflow:hidden;"}),this.tabsLabels=this.theme.setUpStyle("k-tab-labels",function(){return"display: flex;position: relative;flex-grow: 1;overflow: hidden;"}),this.tab=this.theme.setUpStyle("k-tab",function(){return"position: relative;display: inline-flex;"}),this.tabLabel=this.theme.setUpStyle("k-tab-label",function(){return"min-width: 72px;padding: 0 24px;cursor: pointer;height: 48px;display: inline-flex;justify-content: center;align-items: center;"}),this.tabContents=this.theme.setUpStyle("k-tab-contents",function(){return"display: flex;transition: 450ms cubic-bezier(.1, 1, 0.5, 1);will-change: transform;"}),this.tabContent=this.theme.setUpStyle("k-tab-content",function(){return"width: 100%;flex-shrink: 0;position: relative;"}),this.tabsIndicator=this.theme.setUpStyle("k-tabs-indicator",function(){return"position: absolute;transition: 450ms cubic-bezier(.1, 1, 0.5, 1);bottom: 0;height: 2px;left: 0;background: currentColor;"}),this.tabsIndicatorForServer=this.theme.setUpStyle("k-tabs-indicator-server",function(){return"width: 100%;"})}return e.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:a.LyTheme2}]},e.ngInjectableDef=r.defineInjectable({factory:function t(){return new e(r.inject(a.LyTheme2))},token:e,providedIn:"root"}),e}(),o=function(){function e(e,t,n,i,s){this.classes=e,this.theme=t,this.renderer=n,this.el=i,this.cd=s,this._selectedIndex=a.UndefinedValue,this.selectedIndexChange=new r.EventEmitter}return Object.defineProperty(e.prototype,"withColor",{get:function(){return this._withColor},set:function(e){if(e!==this.withColor){var t=this._createWithColorClass(e);this._withColorClass=this.theme.updateClass(this.tabsIndicator.nativeElement,this.renderer,t,this._withColorClass),this._selectedTab&&this.theme.updateClass(this._selectedTab.tabIndicator.nativeElement,this.renderer,t,this._withColorClass)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(e){e!==this.selectedIndex&&(this._selectedBeforeIndex=this._selectedIndex,this._selectedIndex=e,this._selectedBeforeTab=this._selectedTab,this.selectedIndexChange.emit(e),this._updateIndicator(this._selectedTab,this._selectedBeforeTab),this._selectedRequireCheck&&this.markForCheck(),this.renderer.setStyle(this.tabContents.nativeElement,"transform","translate3d("+-100*e+"%,0,0)"))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.renderer.addClass(this.el.nativeElement,this.classes.tabs);var e=this.tabsIndicator.nativeElement;this.renderer.addClass(e,this.classes.tabsIndicator),this.withColor||(this.withColor="primary")},e.prototype.ngAfterViewInit=function(){this._isViewInitLoaded=!0},e.prototype._updateIndicator=function(e,t){var n=this.selectedIndex;if(e)if(this._isViewInitLoaded&&a.Platform.isBrowser){t&&t._renderer.removeAttribute(t.tabIndicator.nativeElement,"class"),e.index!==n&&(e=this.tabsList.toArray()[n]);var i=e._el.nativeElement,s=i.getBoundingClientRect();this.renderer.setStyle(this.tabsIndicator.nativeElement,"width",s.width+"px"),this.renderer.setStyle(this.tabsIndicator.nativeElement,"left",i.offsetLeft+"px")}else this.renderer.addClass(e.tabIndicator.nativeElement,this.classes.tabsIndicatorForServer),this.renderer.addClass(e.tabIndicator.nativeElement,this._withColorClass)},e.prototype.markForCheck=function(){this.cd.markForCheck()},e.prototype.loadTemplate=function(e,t){return e.loaded?null:(e.index=t,this.selectedIndex===a.UndefinedValue?(this._selectedTab=e,this.selectedIndex=0):this._isViewInitLoaded||this.selectedIndex!==e.index||(this._selectedTab=e,this._updateIndicator(e)),e.templateRefLazy?this.selectedIndex===t?(e.loaded=!0,e.templateRefLazy):null:(e.loaded=!0,e.templateRef))},e.prototype._createWithColorClass=function(e){var t=this;return this._withColor=e,this.theme.setUpStyle("k-tab-with-color:"+e,function(){return"color:"+t.theme.colorOf(e)+";"})},e.decorators=[{type:r.Component,args:[{selector:"ly-tabs",template:'<div [className]="classes.tabsLabels">\n  <span #tabsIndicator></span>\n  <ng-content></ng-content>\n</div>\n<div [className]="classes.tabContents" #tabContents>\n  <ng-template ngFor let-item [ngForOf]="tabsList" let-x="index">\n    <div [className]="classes.tabContent">\n      <ng-template [ngTransclude]="loadTemplate(item, x)"></ng-template>\n    </div>\n  </ng-template>\n</div>',changeDetection:r.ChangeDetectionStrategy.OnPush,encapsulation:r.ViewEncapsulation.None,exportAs:"lyTabs"}]}],e.ctorParameters=function(){return[{type:s},{type:a.LyTheme2},{type:r.Renderer2},{type:r.ElementRef},{type:r.ChangeDetectorRef}]},e.propDecorators={tabContents:[{type:r.ViewChild,args:["tabContents"]}],tabsIndicator:[{type:r.ViewChild,args:["tabsIndicator"]}],withColor:[{type:r.Input}],selectedIndex:[{type:r.Input}],selectedIndexChange:[{type:r.Output}],withBg:[{type:r.Input}],tabsList:[{type:r.ContentChildren,args:[r.forwardRef(function(){return l})]}]},e}(),l=function(){function e(e,t,n){this.tabs=e,this._renderer=t,this._el=n}return e.prototype.onClick=function(){this.tabs._selectedRequireCheck=!this.loaded,this.tabs.selectedIndex=this.index},e.prototype.ngOnInit=function(){this._renderer.addClass(this._el.nativeElement,this.tabs.classes.tab)},e.prototype.ngAfterViewInit=function(){this._renderer.addClass(this.tabIndicator.nativeElement,this.tabs.classes.tabsIndicator)},e.decorators=[{type:r.Component,args:[{selector:"ly-tab",template:'<ng-content select="ly-tab-label"></ng-content>\n<ng-content select="[ly-tab-label]"></ng-content>\n<span #tabIndicator></span>\n<ng-template>\n  <ng-content></ng-content>\n</ng-template>',changeDetection:r.ChangeDetectionStrategy.OnPush,encapsulation:r.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:o},{type:r.Renderer2},{type:r.ElementRef}]},e.propDecorators={templateRefLazy:[{type:r.ContentChild,args:[i,{read:r.TemplateRef}]}],templateRef:[{type:r.ViewChild,args:[r.TemplateRef]}],tabIndicator:[{type:r.ViewChild,args:["tabIndicator"]}],onClick:[{type:r.HostListener,args:["click"]}]},e}(),c=function(){function e(e,t,n){this.renderer=e,this.el=t,this.classes=n}return e.prototype.ngOnInit=function(){this.renderer.addClass(this.el.nativeElement,this.classes.tabLabel)},e.decorators=[{type:r.Directive,args:[{selector:"ly-tab-label, [ly-tab-label]"}]}],e.ctorParameters=function(){return[{type:r.Renderer2},{type:r.ElementRef},{type:s}]},e.propDecorators={"native":[{type:r.Input}]},e}(),d=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{imports:[t.CommonModule,n.LyRippleModule,a.NgTranscludeModule],exports:[o,l,c,i],declarations:[o,l,c,i]}]}],e}();e.LyTabsModule=d,e.LyTabs=o,e.LyTab=l,e.LyTabLabel=c,e.ɵa=i,e.ɵb=s,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=alyle-ui-tabs.umd.min.js.map