!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@alyle/ui"),require("@alyle/ui/button"),require("rxjs"),require("@angular/common")):"function"==typeof define&&define.amd?define("@alyle/ui/tabs",["exports","@angular/core","@alyle/ui","@alyle/ui/button","rxjs","@angular/common"],t):t((e.ly=e.ly||{},e.ly.tabs={}),e.ng.core,e.ly.core,e.ly.button,e.rxjs,e.ng.common)}(this,function(e,o,h,t,l,n){"use strict";var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},r=function(){function e(e){this.template=e}return e.decorators=[{type:o.Directive,args:[{selector:"[ly-tab-content]"}]}],e.ctorParameters=function(){return[{type:o.TemplateRef}]},e}(),c=function(e){var t;return{root:{display:"block"},container:{display:"flex"},tab:{position:"relative",display:"inline-flex"},contentContainer:{overflow:"hidden",flexGrow:1},tabsLabels:{display:"flex",position:"relative"},label:(t={"-webkit-tap-highlight-color":"transparent","-webkit-appearance":"none",backgroundColor:"transparent",userSelect:"none",border:0,minWidth:"72px",padding:"0 24px",cursor:"pointer",height:"48px",display:"inline-flex",justifyContent:"center",alignItems:"center",position:"relative",overflow:"hidden",fontFamily:e.typography.fontFamily,fontSize:e.pxToRem(e.typography.fontSize),letterSpacing:"0.02857em",color:"currentColor",outline:"none",width:"100%",fontWeight:500,opacity:.7},t[e.getBreakpoint("XSmall")]={padding:"0 12px"},t),tabLabelActive:{opacity:1},tabContents:{display:"flex",transition:"450ms cubic-bezier(.1, 1, 0.5, 1)",willChange:"transform",height:"100%"},tabContent:{width:"100%",height:"100%",flexShrink:0,position:"relative"},tabsIndicator:{position:"absolute",height:"2px",transition:"450ms cubic-bezier(.1, 1, 0.5, 1)",background:"currentColor"},tabsIndicatorForServer:{position:"absolute",background:"currentColor"},rippleContainer:a({},h.LY_COMMON_STYLES.fill,{overflow:"hidden"})}},d=function _(e){this._theme=e},p=h.mixinStyleUpdater(h.mixinBg(h.mixinElevation(h.mixinShadowColor(d)))),b=function v(e,t){this._theme=e,this._ngZone=t},u=h.mixinStyleUpdater(h.mixinBg(h.mixinColor(h.mixinRaised(h.mixinDisabled(h.mixinOutlined(h.mixinElevation(h.mixinShadowColor(h.mixinDisableRipple(b))))))))),f=function(r){function e(e,t,n,i,s){var a=r.call(this,e)||this;return a.theme=e,a.renderer=t,a.el=n,a.cd=i,a._resizeService=s,a.classes=a.theme.addStyleSheet(c,-2),a._selectedIndex=0,a._tabsSubscription=l.Subscription.EMPTY,a.selectedIndexOnChange="auto",a.selectedIndexChange=new o.EventEmitter,a.setAutoContrast(),a}return s(e,r),Object.defineProperty(e.prototype,"indicatorColor",{get:function(){return this._color},set:function(t){t!==this.indicatorColor&&(this._color=t,this._colorClass=this.theme.addStyle("k-tab-indicator-color:"+t,function(e){return"color:"+e.colorOf(t)+";"},this.tabsIndicator.nativeElement,this._colorClass),this._selectedTab&&this.theme.updateClass(this._selectedTab.tabIndicator.nativeElement,this.renderer,this._colorClass))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerPlacement",{get:function(){return this._headerPlacement},set:function(c){var d=this;c!==this.headerPlacement&&(this._headerPlacement=c,this._headerPlacementClass=this.theme.addStyle("lyTabs.headerPlacement:"+c,function(){var e,t,n,i,s=d._getFlexDirection(c),a=null,r=null,o=null,l=null;switch(c){case h.YPosition.above:n="column",i=h.YPosition.below,a="2px",l="100%";break;case h.YPosition.below:n="column-reverse",i=h.YPosition.above,a="2px",l="100%";break;case h.XPosition.before:n="row",i=h.XPosition.after,r="2px",o="100%";break;case h.XPosition.after:n="row-reverse",i=h.XPosition.before,r="2px",o="100%";break;default:throw new Error("LyTabs: value:"+c+" do not is valid for `headerPlacement`")}return s=c===h.YPosition.above||c===h.YPosition.below?"row":"column",(e={})["."+d.classes.container]={flexDirection:n},e["& ."+d.classes.tabsIndicator+",& ."+d.classes.tabsIndicatorForServer]=((t={})[i]=0,t.height=a,t.width=r,t),e["."+d.classes.tabsIndicatorForServer]={width:l,height:o},e["& ."+d.classes.tabsLabels+",& ."+d.classes.tabContents]={flexDirection:s},e["."+d.classes.tabContents]={flexDirection:s},e},this.el.nativeElement,this._headerPlacementClass,-2),this._updateStylesOfSelectedTab())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignTabs",{get:function(){return this._alignTabs},set:function(e){var t,n;this._alignTabs=e,this._alignTabsClass=this.theme.addStyle("lyAlignTabs: "+e,"stretch"===e?((t={})["& ."+this.classes.tabsLabels+" ."+this.classes.tab]={flexBasis:0,flexGrow:1},t):((n={})["& ."+this.classes.tabsLabels]={justifyContent:e in h.AlignAlias?h.AlignAlias[e]:e},n),this.el.nativeElement,this._alignTabsClass,-2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textColor",{get:function(){return this._textColor},set:function(n){var i=this;this._textColor=n,this._textColorClass=this.theme.addStyle("lyTabs.textColor:"+n,function(e){var t;return(t={})["& ."+i.classes.tabLabelActive]={color:e.colorOf(n)},t},this.el.nativeElement,this._textColorClass,-2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(e){var t=this;e!==this.selectedIndex&&(this._selectedBeforeIndex=this._selectedIndex,this._selectedIndex=this._findIndex(e,"auto"),this._selectedBeforeTab=this._selectedTab,this.selectedIndexChange.emit(this._selectedIndex),this._updateIndicator(this._selectedTab,this._selectedBeforeTab),this._markForCheck(),Promise.resolve(null).then(function(){t._updateStylesOfSelectedTab()}))},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(){this._isViewInitLoaded&&this.updateStyle(this.tabsRef.nativeElement)},e.prototype.ngOnInit=function(){this.renderer.addClass(this.el.nativeElement,this.classes.root);var e=this.tabsIndicator.nativeElement;this.renderer.addClass(e,this.classes.tabsIndicator),this.indicatorColor||this.bg||this.textColor||this.elevation||(this.indicatorColor="accent",this.bg="primary",this.elevation=4),this.headerPlacement||(this.headerPlacement="above")},e.prototype.ngAfterContentInit=function(){var e=this;this._tabsSubscription=this.tabsList.changes.subscribe(function(){e._selectedIndex!==e.selectedIndexOnChange&&(e.selectedIndex=e._findIndex(e.selectedIndex,e.selectedIndexOnChange)),e.cd.markForCheck()})},e.prototype.ngAfterViewInit=function(){var e=this;this.updateStyle(this.tabsRef.nativeElement),this._isViewInitLoaded=!0,h.Platform.isBrowser&&(this._tabResizeSub=this._resizeService.resize$.subscribe(function(){e._updateIndicator(e._selectedTab)}))},e.prototype.ngOnDestroy=function(){this._tabsSubscription.unsubscribe(),this._tabResizeSub&&this._tabResizeSub.unsubscribe()},e.prototype._findIndex=function(e,t){if(!this.tabsList)return e;var n=this.tabsList.length-1,i="number"==typeof t?t:e;return i<0?0:n<i?n:i},e.prototype._updateIndicator=function(e,t){var n=this.selectedIndex;if(e)if(this._isViewInitLoaded&&h.Platform.isBrowser){t&&t._renderer.removeAttribute(t.tabIndicator.nativeElement,"class"),e.index!==n&&(e=this.tabsList.toArray()[n]);var i=e._el.nativeElement,s=i.getBoundingClientRect();this.headerPlacement===h.XPosition.after||this.headerPlacement===h.XPosition.before?(this.renderer.setStyle(this.tabsIndicator.nativeElement,"height",s.height+"px"),this.renderer.setStyle(this.tabsIndicator.nativeElement,"top",i.offsetTop+"px"),this.renderer.removeStyle(this.tabsIndicator.nativeElement,"width"),this.renderer.removeStyle(this.tabsIndicator.nativeElement,"left")):(this.renderer.setStyle(this.tabsIndicator.nativeElement,"width",s.width+"px"),this.renderer.setStyle(this.tabsIndicator.nativeElement,"left",i.offsetLeft+"px"),this.renderer.removeStyle(this.tabsIndicator.nativeElement,"height"),this.renderer.removeStyle(this.tabsIndicator.nativeElement,"top"))}else this.renderer.addClass(e.tabIndicator.nativeElement,this.classes.tabsIndicatorForServer),this.renderer.addClass(e.tabIndicator.nativeElement,this._colorClass)},e.prototype._updateStylesOfSelectedTab=function(){var i=this,s=this._selectedIndex,a=this.headerPlacement;this._selectedIndexClass=this._theme.addStyle("lyTabs.selectedIndex:"+s+"+"+a,function(e){var t=1,n="column"===i._getFlexDirection(a)?"Y":"X";return e.direction!==h.Dir.ltr&&"Y"!==n||(t=-1),{transform:"translate"+n+"("+100*s*t+"%)"}},this.tabContents.nativeElement,this._selectedIndexClass,-2),this.renderer.addClass(this.tabContents.nativeElement,this._selectedIndexClass)},e.prototype._markForCheck=function(){this.cd.markForCheck()},e.prototype.loadTemplate=function(e,t){return e.index=t,this.selectedIndex===e.index&&(this._selectedTab=e,this._updateIndicator(e)),this.selectedIndex===e.index?e.templateRefLazy||e.templateRef:null},e.prototype._getFlexDirection=function(e){return e===h.YPosition.above||e===h.YPosition.below?"row":"column"},e.decorators=[{type:o.Component,args:[{selector:"ly-tabs",template:'<div [className]="classes.container">\n  <div [className]="classes.tabsLabels" #tabs>\n    <ng-content></ng-content>\n    <span #tabsIndicator></span>\n  </div>\n  <div [className]="classes.contentContainer">\n    <div [className]="classes.tabContents" #tabContents>\n      <ng-template ngFor let-item [ngForOf]="tabsList" let-x="index">\n        <div [className]="classes.tabContent">\n          <ng-template [ngTransclude]="loadTemplate(item, x)"></ng-template>\n        </div>\n      </ng-template>\n    </div>\n  </div>\n</div>',changeDetection:o.ChangeDetectionStrategy.OnPush,encapsulation:o.ViewEncapsulation.None,exportAs:"lyTabs",inputs:["bg","elevation","shadowColor"]}]}],e.ctorParameters=function(){return[{type:h.LyTheme2},{type:o.Renderer2},{type:o.ElementRef},{type:o.ChangeDetectorRef},{type:h.ResizeService}]},e.propDecorators={tabsRef:[{type:o.ViewChild,args:["tabs"]}],tabContents:[{type:o.ViewChild,args:["tabContents"]}],tabsIndicator:[{type:o.ViewChild,args:["tabsIndicator"]}],selectedIndexOnChange:[{type:o.Input}],"native":[{type:o.Input}],indicatorColor:[{type:o.Input}],headerPlacement:[{type:o.Input}],alignTabs:[{type:o.Input}],textColor:[{type:o.Input}],selectedIndex:[{type:o.Input}],selectedIndexChange:[{type:o.Output}],tabsList:[{type:o.ContentChildren,args:[o.forwardRef(function(){return y})]}]},e}(p),y=function(){function e(e,t,n){this._tabs=e,this._renderer=t,this._el=n}return e.prototype.ngOnInit=function(){this._renderer.addClass(this._el.nativeElement,this._tabs.classes.tab)},e.decorators=[{type:o.Component,args:[{selector:"ly-tab",template:'<ng-content select="ly-tab-label"></ng-content>\n<ng-content select="[ly-tab-label]"></ng-content>\n<ng-content select="[ly-tab-label-native]"></ng-content>\n<span #tabIndicator></span>\n<ng-template>\n  <ng-content></ng-content>\n</ng-template>',changeDetection:o.ChangeDetectionStrategy.OnPush,encapsulation:o.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:f},{type:o.Renderer2},{type:o.ElementRef}]},e.propDecorators={templateRefLazy:[{type:o.ContentChild,args:[r,{read:o.TemplateRef}]}],templateRef:[{type:o.ViewChild,args:[o.TemplateRef]}],tabIndicator:[{type:o.ViewChild,args:["tabIndicator"]}]},e}(),m=function(c){function e(e,t,n,i,s,a,r,o){var l=c.call(this,e,t,n,i,s,a)||this;return l._tab=r,l._tabs=o,l._isBrowser=h.Platform.isBrowser,l}return s(e,c),e.prototype.onClickTab=function(){this.disabled||(this._tabs.selectedIndex=this._tab.index)},e.prototype.ngOnInit=function(){this._renderer.addClass(this._el.nativeElement,this._tabs.classes.label),null===this.disableRipple&&(this.disableRipple=!1)},e.prototype.ngDoCheck=function(){this.isAfterViewInit&&(this._tabs._selectedIndex===this._tab.index?this._active||(this._active=!0,this._renderer.addClass(this._el.nativeElement,this._tabs.classes.tabLabelActive),h.Platform.isBrowser&&this._tabs._updateIndicator(this._tab)):this._active&&(this._active=!1,this._renderer.removeClass(this._el.nativeElement,this._tabs.classes.tabLabelActive)))},e.prototype.ngAfterViewInit=function(){this.isAfterViewInit=!0},e.decorators=[{type:o.Component,args:[{selector:"button[ly-tab-label]",template:'<span [className]="classes.content">\n  <ng-content></ng-content>\n</span>\n<div *ngIf="_isBrowser" #rippleContainer [className]="_rippleService.classes.container"></div>\n',inputs:["bg","color","raised","disabled","outlined","elevation","shadowColor","disableRipple"],host:{"[disabled]":"disabled"}}]}],e.ctorParameters=function(){return[{type:o.ElementRef},{type:o.Renderer2},{type:h.LyTheme2},{type:o.NgZone},{type:h.LyRippleService},{type:h.LyFocusState},{type:y,decorators:[{type:o.Optional}]},{type:f,decorators:[{type:o.Optional}]}]},e.propDecorators={_rippleContainer:[{type:o.ViewChild,args:["rippleContainer"]}],onClickTab:[{type:o.HostListener,args:["click"]}]},e}(t.LyButton),g=function(){function e(){}return e.decorators=[{type:o.NgModule,args:[{imports:[h.LyThemeModule,n.CommonModule,h.LyCommonModule,h.NgTranscludeModule],exports:[h.LyCommonModule,f,y,m,r],declarations:[f,y,m,r]}]}],e}();e.LyTabsModule=g,e.LyTabsBase=d,e.LyTabsMixinBase=p,e.LyTabLabelBase=b,e.LyTabLabelMixinBase=u,e.LyTabs=f,e.LyTab=y,e.LyTabLabel=m,e.ɵa=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=alyle-ui-tabs.umd.min.js.map