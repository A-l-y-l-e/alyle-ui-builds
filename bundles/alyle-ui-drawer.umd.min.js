!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@alyle/ui"),require("@angular/common")):"function"==typeof define&&define.amd?define("@alyle/ui/drawer",["exports","@angular/core","@alyle/ui","@angular/common"],t):t((e.alyle=e.alyle||{},e.alyle.ui=e.alyle.ui||{},e.alyle.ui.drawer={}),e.ng.core,e.alyle.ui,e.ng.common)}(this,function(e,t,c,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=function(e){return{drawerContainer:{display:"block",position:"relative",overflow:"hidden","-webkit-overflow-scrolling":"touch"},drawer:{display:"block",position:"fixed",zIndex:e.zIndex.drawer,overflow:"auto",visibility:"hidden"},drawerContent:{display:"block"},drawerOpened:{transform:"translate3d(0px, 0px, 0)",visibility:"visible"},backdrop:n({},c.LY_COMMON_STYLES.fill,{backgroundColor:e.drawer.backdrop}),transition:{transition:e.animations.durations.complex+"ms "+e.animations.curves.deceleration,transitionProperty:"transform, margin, visibility"}}},o=function(){function e(e,t,r){this._theme=e,this._renderer=t,this._el=r,this.classes=this._theme.addStyleSheet(i,1.9-2),this._openDrawers=0,this._renderer.addClass(this._el.nativeElement,this.classes.drawerContainer)}return e.decorators=[{type:t.Directive,args:[{selector:"ly-drawer-container"}]}],e.ctorParameters=function(){return[{type:c.LyTheme2},{type:t.Renderer2},{type:t.ElementRef}]},e.propDecorators={drawerContent:[{type:t.ContentChild,args:[t.forwardRef(function(){return s})]}]},e}(),s=function(){function e(e,t,r){this._renderer=e,this._el=t,this._renderer.addClass(this._el.nativeElement,r.classes.drawerContent)}return e.prototype._getHostElement=function(){return this._el.nativeElement},e.decorators=[{type:t.Directive,args:[{selector:"ly-drawer-content"}]}],e.ctorParameters=function(){return[{type:t.Renderer2},{type:t.ElementRef},{type:o}]},e}(),a=function(){function e(e,t,r,n,i){this._theme=e,this._renderer=t,this._el=r,this._drawerContainer=n,this._vcr=i,this.classes=this._drawerContainer.classes,this._position="start",this.mode="side",this._renderer.addClass(this._el.nativeElement,n.classes.drawer)}return Object.defineProperty(e.prototype,"opened",{get:function(){return this._opened},set:function(e){e!==this.opened&&(this._opened=c.toBoolean(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(r){r!==this.position&&(this._position=r,this._theme.addStyle("drawer.position:"+r,function(e){var t;return(t={})["start"===r||"end"===r?e.getDirection(r):r]=0,t},this._el.nativeElement,this._positionClass,-2))},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(){this._updateBackdrop(),this._updateAnimations(),this._forceModeOver&&!this._fromToggle&&this._resetForceModeOver();var h=this.mode,p=this._forceModeOver,e=this.opened,t=this.width,r=this.height,n=this.position,i=this.spacingTop,o=this.spacingBottom;if(t&&r)throw new Error("`width` and `height` are defined, you can only define one");if(t||r||(t="230px"),e)if(this._drawerClass=this._theme.updateClass(this._el.nativeElement,this._renderer,this._drawerContainer.classes.drawerOpened,this._drawerClass),"side"===h){var s="ly-drawer-content----:"+(e||"")+"·"+(t||"")+"·"+(n||"");this._drawerContentClass=this._theme.addStyle(s,function(o){var s={},a="margin-";return a+="start"===n||"end"===n?o.getDirection(n):n,c.eachMedia(e,function(){}),t&&c.eachMedia(t,function(e,t,r){var n=u(e);if(r){var i=o.getBreakpoint(t);_(s,i)[a]=n}else s[a]=n}),s},this._drawerContainer.drawerContent._getHostElement(),this._drawerContentClass)}else this._renderer.removeClass(this._drawerContainer.drawerContent._getHostElement(),this._drawerContentClass),this._drawerContentClass=null;else this._renderer.removeClass(this._drawerContainer.drawerContent._getHostElement(),this._drawerContentClass),this._drawerContentClass=null,this._renderer.removeClass(this._el.nativeElement,this._drawerClass),this._drawerClass=null;this._drawerRootClass=this._theme.addStyle("ly-drawer-root:"+t+"·"+r+"·"+i+"·"+o+"·"+o+"·"+n+"·"+h+"·"+p,function(a){var d={},l="start"===n||"top"===n?"-":"+";return t?c.eachMedia(t,function(e,t,r){if("over"!==h&&!p||"0"!==e){var n=u(e),i="translateX("+(l+u(e))+")";if(r){var o=a.getBreakpoint(t),s=_(d,o);s.width=n,s.transform=i}else d.width=n,d.transform=i}}):r&&c.eachMedia(r,function(e,t,r){var n=u(e),i="translateY("+(l+u(e))+")";if(r){var o=a.getBreakpoint(t),s=_(d,o);s.height=n,s.transform=i}else d.height=n,d.transform=i}),"start"===n||"end"===n?(c.eachMedia(i,function(e,t,r){var n=u(e||0);if(r){var i=a.getBreakpoint(t);_(d,i).top=n}else d.top=n}),c.eachMedia(o,function(e,t,r){var n=u(e||0);if(r){var i=a.getBreakpoint(t);_(d,i).bottom=n}else d.bottom=n})):(d.left=0,d.right=0),d},this._el.nativeElement,this._drawerRootClass,"side"===h?-2:-1),this._fromToggle=!1},e.prototype.toggle=function(){var e=getComputedStyle(this._el.nativeElement).width;this._fromToggle=!0,"0px"===e?(this._forceModeOver=!0,this.opened=!0):this._forceModeOver&&this.opened?this._resetForceModeOver():this.opened=!this.opened,this.ngOnChanges()},e.prototype._resetForceModeOver=function(){this._forceModeOver=!1,this.opened=!1},e.prototype._updateBackdrop=function(){this.opened&&("over"===this.mode||this._forceModeOver)?(this._drawerContainer._openDrawers++,this._viewRef=this._vcr.createEmbeddedView(this._backdrop),this._viewRef.rootNodes[0].style.zIndex=""+this._drawerContainer._openDrawers):this._viewRef&&(this._drawerContainer._openDrawers--,this._vcr.clear(),this._viewRef=null)},e.prototype._updateAnimations=function(){this._fromToggle&&!this._isAnimation?(this._renderer.addClass(this._el.nativeElement,this.classes.transition),this._renderer.addClass(this._drawerContainer.drawerContent._getHostElement(),this.classes.transition),this._isAnimation=!0):!this._fromToggle&&this._isAnimation&&(this._renderer.removeClass(this._el.nativeElement,this.classes.transition),this._renderer.removeClass(this._drawerContainer.drawerContent._getHostElement(),this.classes.transition),this._isAnimation=!1)},e.decorators=[{type:t.Component,args:[{selector:"ly-drawer",template:'<ng-content></ng-content>\n<ng-template>\n  <div [className]="classes.backdrop" (click)="toggle()"></div>\n</ng-template>',changeDetection:t.ChangeDetectionStrategy.OnPush,exportAs:"lyDrawer"}]}],e.ctorParameters=function(){return[{type:c.LyTheme2},{type:t.Renderer2},{type:t.ElementRef},{type:o},{type:t.ViewContainerRef}]},e.propDecorators={_backdrop:[{type:t.ViewChild,args:[t.TemplateRef]}],opened:[{type:t.Input}],mode:[{type:t.Input}],spacingTop:[{type:t.Input}],spacingBottom:[{type:t.Input}],spacingStart:[{type:t.Input}],spacingRight:[{type:t.Input}],width:[{type:t.Input}],height:[{type:t.Input}],position:[{type:t.Input}]},e}();function u(e){return"number"==typeof e?e+"px":e}function _(e,t,r){return t in e?e[t]:e[t]=r||{}}var d=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[r.CommonModule,c.LyCommonModule],exports:[a,o,s],declarations:[a,o,s]}]}],e}();e.LyDrawerContainer=o,e.LyDrawerContent=s,e.LyDrawer=a,e.LyDrawerModule=d,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=alyle-ui-drawer.umd.min.js.map