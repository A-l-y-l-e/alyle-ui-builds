!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@alyle/ui"),require("@angular/common")):"function"==typeof define&&define.amd?define("@alyle/ui/drawer",["exports","@angular/core","@alyle/ui","@angular/common"],t):t(((e=e||self).ly=e.ly||{},e.ly.drawer={}),e.ng.core,e.ly.core,e.ng.common)}(this,(function(e,t,r,n){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function i(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}var o="side",s=r.XPosition.before,a=function(e,t){var n=t.selectorsOf(a);return{$name:d.и,$priority:1.9-2,root:function(){return e.drawer&&e.drawer.root&&(e.drawer.root instanceof r.StyleCollection?e.drawer.root.setTransformer((function(e){return e(n)})).css:e.drawer.root(n))},drawerContainer:function(e){return e+"{display:block;position:relative;overflow:hidden;-webkit-overflow-scrolling:touch;}"},drawer:function(t){return t+"{display:block;position:fixed;z-index:"+e.zIndex.drawer+";overflow:auto;visibility:hidden;}"},drawerContent:function(e){return e+"{display:block;}"},drawerOpened:function(e){return e+"{transform:translate(0px, 0px);visibility:visible;}"},drawerClosed:null,backdrop:function(t){return""+r.styleTemplateToString(r.LY_COMMON_STYLES.fill,""+t)+t+"{background-color:"+e.drawer.backdrop+";}"},transition:function(t){return t+"{transition:"+e.animations.durations.complex+"ms "+e.animations.curves.deceleration+";transition-property:transform, margin, visibility;}"}}},d=function(){function e(e,t,r){this._renderer=e,this._el=t,this._renderer.addClass(this._el.nativeElement,r.classes.drawerContent)}var r,n;return e.prototype._getHostElement=function(){return this._el.nativeElement},e.и="LyDrawerContent",e.ctorParameters=function(){return[{type:t.Renderer2},{type:t.ElementRef},{type:void 0,decorators:[{type:t.Inject,args:[t.forwardRef((function(){return l}))]}]}]},e=i([t.Directive({selector:"ly-drawer-content"}),(r=2,n=t.Inject(t.forwardRef((function(){return l}))),function(e,t){n(e,t,r)})],e)}(),l=function(){function e(e,t,r){this._theme=e,this._renderer=t,this._el=r,this.classes=this._theme.renderStyleSheet(a),this._openDrawers=0,this._renderer.addClass(this._el.nativeElement,this.classes.drawerContainer)}return e.prototype._getHostElement=function(){return this._el.nativeElement},e.ctorParameters=function(){return[{type:r.LyTheme2},{type:t.Renderer2},{type:t.ElementRef}]},i([t.ContentChild(t.forwardRef((function(){return d})),{static:!0})],e.prototype,"_drawerContent",void 0),e=i([t.Directive({selector:"ly-drawer-container"})],e)}(),h=function(){function e(e,t,r,n,i,a,d,l,h){this._theme=e,this._styleRenderer=t,this._renderer=r,this._el=n,this._drawerContainer=i,this._vcr=a,this._winResize=d,this._cd=l,this._zone=h,this.classes=this._drawerContainer.classes,this._position=s,this.mode=o,this._renderer.addClass(this._el.nativeElement,i.classes.drawer)}var n;return n=e,Object.defineProperty(e.prototype,"opened",{get:function(){return this._opened},set:function(e){e!==this.opened&&(this._opened=r.toBoolean(e),this._isOpen=this._opened)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasBackdrop",{get:function(){return this._hasBackdrop},set:function(e){this._hasBackdrop=null==e?null:r.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(e){e!==this.position&&(this._position=e,this[1]=this._styleRenderer.add(n.и+"--position-"+e,(function(t){return function(r){return r+"{"+t.getDirection(e)+":0;}"}}),-2,this[1]))},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(){this._updateBackdrop(),this._updateAnimations();var e=this.mode,t=this._forceModeOverOpened,n=this.opened,i=this.width,o=this.height,s=this.position,a=this.spacingAbove,d=this.spacingBelow,l=this.spacingBefore,h=this.spacingAfter;if(i&&o)throw new Error("`width` and `height` are defined, you can only define one");if(i||o||(i="230px"),this._isOpen&&n||this._isOpen||t)if(this._drawerClass=this._theme.updateClass(this._el.nativeElement,this._renderer,this._drawerContainer.classes.drawerOpened,this._drawerClass),"side"===e){var f="ly-drawer-content----:"+(i||"")+"·"+(s||"");this._drawerContentClass=this._theme.addStyle(f,(function(e){var t={},n="margin-"+s;return i&&r.eachMedia(i,(function(r,i){var o="over"===r?"0px":p(r);if(i){var s=e.getBreakpoint(i);c(t,s)[n]=o}else t[n]=o})),t}),this._drawerContainer._drawerContent._getHostElement(),this._drawerContentClass)}else this._drawerContentClass&&(this._renderer.removeClass(this._drawerContainer._drawerContent._getHostElement(),this._drawerContentClass),this._drawerContentClass=void 0);else this._drawerContentClass&&(this._renderer.removeClass(this._drawerContainer._drawerContent._getHostElement(),this._drawerContentClass),this._drawerContentClass=void 0),this._drawerClass&&(this._renderer.removeClass(this._el.nativeElement,this._drawerClass),this._drawerClass=void 0);this._drawerRootClass=this._theme.addStyle("ly-drawer-root:"+i+"·"+o+"·"+a+"·"+d+"·"+l+"·"+h+"·"+s+"·"+e+"·"+t,(function(n){var f={},u=n.getDirection(s),_="above"===s?"-":"+";if(i){var w=u===r.DirPosition.left?"-":"+";r.eachMedia(i,(function(r,i){if("over"!==e&&!t||"0"!==r&&"over"!==r){var o="over"===r?"0px":p(r),s=o,a="translateX("+(w+o)+")";if(i){var d=n.getBreakpoint(i),l=c(f,d);l.width=s,l.transform=a}else f.width=s,f.transform=a}}))}else o&&r.eachMedia(o,(function(e,t){var r=p(e),i="translateY("+(_+p(e))+")";if(t){var o=n.getBreakpoint(t),s=c(f,o);s.height=r,s.transform=i}else f.height=r,f.transform=i}));return"before"===s||"after"===s?(r.eachMedia(a,(function(e,t){var r=p(e||0);if(t){var i=n.getBreakpoint(t);c(f,i).top=r}else f.top=r})),r.eachMedia(d,(function(e,t){var r=p(e||0);if(t){var i=n.getBreakpoint(t);c(f,i).bottom=r}else f.bottom=r}))):s!==r.YPosition.above&&s!==r.YPosition.below||(r.eachMedia(l,(function(e,t){var r=p(e||0);if(t){var i=n.getBreakpoint(t);c(f,i).before=r}else f.before=r})),r.eachMedia(h,(function(e,t){var r=p(e||0);if(t){var i=n.getBreakpoint(t);c(f,i).after=r}else f.after=r}))),f}),this._el.nativeElement,this._drawerRootClass,"side"===e?-2:-1),this._fromToggle=!1},e.prototype.ngAfterViewInit=function(){var e=this;r.Platform.isBrowser&&(this._tabResizeSub=this._winResize.resize$.subscribe((function(){e.ngOnChanges()})))},e.prototype.ngOnDestroy=function(){this._tabResizeSub&&this._tabResizeSub.unsubscribe()},e.prototype.toggle=function(){var e=getComputedStyle(this._el.nativeElement).width;this._fromToggle=!0,"0px"===e?(this._forceModeOverOpened=!0,this._isOpen=!0):this._forceModeOverOpened?(this._forceModeOverOpened=!1,this._isOpen=this.opened):this._isOpen=!this._isOpen,this.ngOnChanges()},e.prototype._contentHasMargin=function(){var e=this._drawerContainer._drawerContent._getHostElement(),t=this._drawerContainer._getHostElement();return e.offsetWidth===t.offsetWidth},e.prototype._updateBackdrop=function(){var e=this;(this._isOpen&&this.opened||this._isOpen)&&(null!=this.hasBackdrop?this.hasBackdrop:"over"===this.mode||this._forceModeOverOpened&&this._contentHasMargin())?this._viewRef||this._zone.run((function(){e._drawerContainer._openDrawers++,e._viewRef=e._vcr.createEmbeddedView(e._backdrop),e._cd.markForCheck(),e._viewRef.rootNodes[0].style.zIndex=""+e._drawerContainer._openDrawers})):this._viewRef&&this._zone.run((function(){e._drawerContainer._openDrawers--,e._vcr.clear(),e._viewRef=void 0,e._cd.markForCheck(),e._forceModeOverOpened&&(e._forceModeOverOpened=!1,e._isOpen=e.opened)}))},e.prototype._updateAnimations=function(){this._fromToggle&&!this._isAnimation?(this._renderer.addClass(this._el.nativeElement,this.classes.transition),this._renderer.addClass(this._drawerContainer._drawerContent._getHostElement(),this.classes.transition),this._isAnimation=!0):!this._fromToggle&&this._isAnimation&&(this._renderer.removeClass(this._el.nativeElement,this.classes.transition),this._renderer.removeClass(this._drawerContainer._drawerContent._getHostElement(),this.classes.transition),this._isAnimation=!1)},e.и="LyDrawer",e.ctorParameters=function(){return[{type:r.LyTheme2},{type:r.StyleRenderer},{type:t.Renderer2},{type:t.ElementRef},{type:l},{type:t.ViewContainerRef},{type:r.WinResize},{type:t.ChangeDetectorRef},{type:t.NgZone}]},i([t.ViewChild(t.TemplateRef,{static:!1})],e.prototype,"_backdrop",void 0),i([t.Input()],e.prototype,"opened",null),i([t.Input()],e.prototype,"mode",void 0),i([t.Input()],e.prototype,"spacingAbove",void 0),i([t.Input()],e.prototype,"spacingBelow",void 0),i([t.Input()],e.prototype,"spacingBefore",void 0),i([t.Input()],e.prototype,"spacingAfter",void 0),i([t.Input()],e.prototype,"width",void 0),i([t.Input()],e.prototype,"height",void 0),i([t.Input()],e.prototype,"hasBackdrop",null),i([t.Input()],e.prototype,"position",null),e=n=i([t.Component({selector:"ly-drawer",template:'<ng-content></ng-content>\n<ng-template>\n  <div [className]="classes.backdrop" (click)="toggle()"></div>\n</ng-template>',changeDetection:t.ChangeDetectionStrategy.OnPush,exportAs:"lyDrawer",providers:[r.LyHostClass,r.StyleRenderer]})],e)}();function p(e){return"number"==typeof e?e+"px":e}function c(e,t,r){return t in e?e[t]:e[t]=r||{}}var f=function(){function e(){}return e=i([t.NgModule({imports:[n.CommonModule,r.LyCommonModule],exports:[h,l,d],declarations:[h,l,d]})],e)}();e.LyDrawer=h,e.LyDrawerContainer=l,e.LyDrawerContent=d,e.LyDrawerModule=f,e.STYLES=a,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=alyle-ui-drawer.umd.min.js.map