!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@alyle/ui")):"function"==typeof define&&define.amd?define("@alyle/ui/badge",["exports","@angular/core","@alyle/ui"],t):t(((e=e||self).ly=e.ly||{},e.ly.badge={}),e.ng.core,e.ly.core)}(this,(function(e,t,n){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function r(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}var i=new t.InjectionToken("BADGE_DEFAULT_OPTIONS"),a=function(e,t){var o=t.selectorsOf(a);return{$name:p.и,$priority:-2,root:function(){return function(t){return t+"{position:absolute;display:flex;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:"+e.pxToRem(12)+";font-family:"+e.typography.fontFamily+";justify-content:center;align-items:center;box-sizing:border-box;z-index:1;}"+n.styleTemplateToString(e.badge&&e.badge.root&&(e.badge.root instanceof n.StyleCollection?e.badge.root.setTransformer((function(e){return e(o)})):e.badge.root(o)),""+t)}},relative:function(e){return e+"{position:relative;}"}}},s=function(e){this._theme=e},l=n.mixinStyleUpdater(n.mixinBg(n.mixinColor(n.mixinRaised(n.mixinDisabled(n.mixinOutlined(n.mixinElevation(n.mixinShadowColor(s)))))))),p=function(e){function i(t,n,o){var r=e.call(this,n)||this;return r._el=t,r._renderer=o,r.classes=r._theme.renderStyleSheet(a),r.setAutoContrast(),r._badgeElementRef=r._el.nativeElement,r}var s;return function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(i,e),s=i,Object.defineProperty(i.prototype,"content",{get:function(){return this._content},set:function(e){e!==this.content&&(this._content=e,this._createBadge())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"container",{get:function(){return this._container},set:function(e){if(null==e)throw new Error(s.и+": [container] is undefined.");if(null!=this.content)throw new Error(s.и+": [container] with [content] don't work together.");if(!e.tagName)throw new Error(s.и+": the value given to container is not an HTMLElement");this._container=e,this._renderer.appendChild(e,this._el.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"overlap",{get:function(){return this._overlap},set:function(e){var t=this;e!==this.overlap&&(this._overlap=e,Promise.resolve(null).then((function(){var n=e,o=t.hPosition,r=t.vPosition,i=t._theme.renderStyle(s.и+"-overlap-"+e+"&"+o+"&"+r,(function(e){var t="circle"===n?14:0;return function(n){return n+"{"+e.getDirection(r)+":"+t+"%;"+e.getDirection(o)+":"+t+"%;}"}}),-2);t._overlapClass=t._hostClass.update(i,t._overlapClass)})))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bg",{get:function(){return this._lyBadgeBg},set:function(e){null==this.content&&(this.lyBadgeBg=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lyBadgeBg",{get:function(){return this._lyBadgeBg},set:function(e){var t=this;if(e!==this.lyBadgeBg){this._lyBadgeBg=e;var n=this._theme.renderStyle(s.и+"--bg-"+e,(function(t){return function(n){return n+"{background-color:"+t.colorOf(e)+";color:"+t.colorOf(e+":contrast")+";}"}}),-2);Promise.resolve(null).then((function(){t[1]=t._hostClass.update(n,t[1])}))}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"appearance",{get:function(){return this._appearance},set:function(e){null==this.content&&(this.lyBadgeAppearance=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lyBadgeAppearance",{get:function(){return this._appearance},set:function(e){var t=this;if(e!==this.appearance){this._appearance=e;var n=s.и+"--appearance-"+e,o=this._theme.renderStyle(n,(function(o){var r=o.badge&&o.badge.appearance&&o.badge.appearance[e]&&o.badge.appearance[e](t.classes);if(r)return r;throw new Error(n+" is not defined in the theme.")}),-2);Promise.resolve(null).then((function(){t._appearanceClass=t._hostClass.update(o,t._appearanceClass)}))}},enumerable:!0,configurable:!0}),i.prototype.ngOnChanges=function(){null==this.content&&this.updateStyle(this._el),this._updatePosition(),this._hostClass||(this._hostClass=new n.LyHostClass(this._el,this._renderer))},i.prototype.ngOnInit=function(){this._renderer.addClass(this._badgeElementRef,this.classes.root),this.bg||(this.lyBadgeBg="primary");var e=!1;this.hPosition||(e=!0,this.hPosition="after"),this.vPosition||(e=!0,this.vPosition="above"),e&&this._updatePosition(),this.appearance||(this.lyBadgeAppearance="default"),this.overlap||(this.overlap="rectangle")},i.prototype.ngOnDestroy=function(){this._badgeEl&&this._renderer.removeChild(this._el.nativeElement,this._badgeEl)},i.prototype._updatePosition=function(){var e=this,t=this.hPosition,n=this.vPosition;if(t&&n){var o,r;t&&n&&(r="after"===t?50:-50,o="above"===n?-50:50);var i=this._theme.renderStyle(s.и+"--position-"+t+"-"+n,(function(e){return function(t){return t+"{transform:translate("+("right"===e.after?r:-r)+"%, "+o+"%);}"}}),-2);Promise.resolve(null).then((function(){e._positionClass=e._hostClass.update(i,e._positionClass)}))}},i.prototype._createBadge=function(){if(!this._badgeEl){var e=this._badgeEl=this._renderer.createElement("div");this._renderer.appendChild(this.container||this._el.nativeElement,e),this._badgeElementRef=e,this._hostClass=new n.LyHostClass(new t.ElementRef(e),this._renderer),this._renderer.addClass(this._el.nativeElement,this.classes.relative)}this._badgeEl.textContent=""+this.content},i.и="LyBadge",i.ctorParameters=function(){return[{type:t.ElementRef},{type:n.LyTheme2},{type:t.Renderer2}]},r([t.Input("lyBadge")],i.prototype,"content",null),r([t.Input()],i.prototype,"container",null),r([t.Input()],i.prototype,"hPosition",void 0),r([t.Input()],i.prototype,"vPosition",void 0),r([t.Input()],i.prototype,"overlap",null),r([t.Input()],i.prototype,"bg",null),r([t.Input()],i.prototype,"lyBadgeBg",null),r([t.Input()],i.prototype,"appearance",null),r([t.Input()],i.prototype,"lyBadgeAppearance",null),i=s=r([t.Directive({selector:"ly-badge, [lyBadge]",inputs:["bg","color","raised","disabled","outlined","elevation","shadowColor"]})],i)}(l),c=function(){function e(){}return e=r([t.NgModule({exports:[p,n.LyCommonModule],declarations:[p]})],e)}();e.LY_BADGE_DEFAULT_OPTIONS=i,e.LyBadge=p,e.LyBadgeBase=s,e.LyBadgeMixinBase=l,e.LyBadgeModule=c,e.STYLES=a,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=alyle-ui-badge.umd.min.js.map