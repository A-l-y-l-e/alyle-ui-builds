{"version":3,"file":"alyle-ui-badge.umd.js.map","sources":["ng://@alyle/ui/badge/badge.ts","ng://@alyle/ui/badge/badge.module.ts"],"sourcesContent":["import { Directive, Input, ElementRef, Optional, Renderer2, OnInit, OnChanges } from '@angular/core';\nimport { ThemeVariables, LyCommon, LyTheme2, Dir } from '@alyle/ui';\n\nconst STYLE_PRIORITY = -2;\nconst DEFAULT_POSITION = 'end top';\nconst DEFAULT_BG = 'primary';\n\nconst styles = (theme: ThemeVariables) => ({\n  root: {\n    position: 'absolute',\n    width: '22px',\n    height: '22px',\n    borderRadius: '100%',\n    lineHeight: '22px',\n    textAlign: 'center',\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n    pointerEvents: 'none',\n    zIndex: 1,\n    fontSize: theme.pxToRem(12),\n    fontFamily: theme.typography.fontFamily\n  },\n  relative: {\n    position: 'relative'\n  }\n});\n@Directive({\n  selector: 'ly-badge, [lyBadge]'\n})\nexport class LyBadge implements OnInit {\n  /**\n   * Styles\n   * @ignore\n   */\n  classes = this._theme.addStyleSheet(styles, STYLE_PRIORITY);\n  private _content: string | number;\n  private _position: 'start top' | 'start bottom' | 'end top' | 'end bottom';\n  private _positionClass: string;\n  private _elContainer: any;\n  private _badgeElementRef: any;\n  private _bgClass: string;\n\n  /** The content for the badge */\n  @Input('lyBadge')\n  set content(val: string | number) {\n    if (val !== this.content) {\n      this._content = val;\n      this._createBadge();\n    }\n  }\n  get content(): string | number {\n    return this._content;\n  }\n\n  /** The position for the badge */\n  @Input('lyBadgePosition')\n  set position(val: 'start top' | 'start bottom' | 'end top' | 'end bottom') {\n    if (val !== this.position) {\n      this._position = val;\n      this._positionClass = this._theme.addStyle(`ly-badge.position:${val}`, (theme: ThemeVariables) => {\n        const positionStyles: {\n          top?: number\n          left?: number\n          right?: number\n          bottom?: number\n          transform?: string\n        } = {};\n        const dir = theme.getDirection(val.indexOf(Dir.start) !== -1 ? Dir.start : Dir.end);\n        positionStyles[dir] = 0;\n        if (dir === 'left') {\n          positionStyles.transform = 'translateX(-50%)';\n        } else {\n          positionStyles.transform = 'translateX(50%)';\n        }\n        if (val.indexOf('top') !== -1) {\n          positionStyles.top = 0;\n          positionStyles.transform += 'translateY(-50%)';\n        } else if (val.indexOf('bottom') !== -1) {\n          positionStyles.bottom = 0;\n          positionStyles.transform += 'translateY(50%)';\n        }\n        return positionStyles;\n      },\n      this._badgeElementRef, this._positionClass, STYLE_PRIORITY);\n    }\n\n  }\n  get position() {\n    return this._position;\n  }\n\n  /** The color of the badge  */\n  @Input('lyBadgeBg')\n  get bg() {\n    return this._bg;\n  }\n  set bg(val: string) {\n    if (val !== this.bg) {\n      this._bg = val;\n      this._bgClass = this._theme.addStyle(`ly-badge.bg:${val}`, (theme: ThemeVariables) => ({\n        backgroundColor: theme.colorOf(val),\n        color: theme.colorOf(`${val}:contrast`)\n      }),\n      this._badgeElementRef, this._bgClass, STYLE_PRIORITY);\n    }\n  }\n  private _bg: string;\n\n  constructor(\n    private _el: ElementRef,\n    private _theme: LyTheme2,\n    private _renderer: Renderer2,\n    @Optional() _common: LyCommon\n  ) {\n    this._badgeElementRef = this._el.nativeElement;\n    if (_common) {\n      _common.setAutoContrast();\n    }\n  }\n\n  ngOnInit() {\n\n    /** Add root styles */\n    this._renderer.addClass(this._badgeElementRef, this.classes.root);\n\n    /** Set default position */\n    if (!this.position) {\n      this.position = DEFAULT_POSITION;\n    }\n\n    /** Set default bg */\n    if (this.content && !this.bg) {\n      this.bg = DEFAULT_BG;\n    }\n  }\n\n  private _createBadge() {\n    if (!this._elContainer) {\n      const container = this._elContainer = this._renderer.createElement('div');\n      this._renderer.appendChild(this._el.nativeElement, container);\n      this._badgeElementRef = container;\n\n      /** Add position relative */\n      this._renderer.addClass(this._el.nativeElement, this.classes.relative);\n    }\n    this._elContainer.textContent = `${this.content}`;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LyCommonModule } from '@alyle/ui';\nimport { LyBadge } from './badge';\n\n@NgModule({\n  imports: [CommonModule, LyCommonModule],\n  exports: [LyBadge, LyCommonModule],\n  declarations: [LyBadge]\n})\nexport class LyBadgeModule { }\n"],"names":["Dir","Directive","ElementRef","LyTheme2","Renderer2","LyCommon","Optional","Input","NgModule","CommonModule","LyCommonModule"],"mappings":"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"}
