{"version":3,"file":"alyle-ui-tabs.js","sources":["ng://@alyle/ui/tabs/tab-content.directive.ts","ng://@alyle/ui/tabs/tabs.ts","ng://@alyle/ui/tabs/tabs.module.ts"],"sourcesContent":["import {Directive, TemplateRef} from '@angular/core';\n\n@Directive({selector: '[ly-tab-content]'})\nexport class LyTabContent {\n  constructor(public template: TemplateRef<any>) { }\n}\n","import {\n  AfterContentInit,\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChild,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  HostListener,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  QueryList,\n  Renderer2,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation,\n  Optional\n  } from '@angular/core';\nimport {\n  LyTheme2,\n  mixinBg,\n  mixinColor,\n  mixinDisabled,\n  mixinDisableRipple,\n  mixinElevation,\n  mixinOutlined,\n  mixinRaised,\n  mixinShadowColor,\n  mixinStyleUpdater,\n  Platform,\n  ThemeVariables,\n  AlignAlias,\n  YPosition,\n  XPosition,\n  Dir,\n  LyRippleService,\n  LyFocusState,\n  LY_COMMON_STYLES,\n  WinResize,\n  scrollWithAnimation,\n  toBoolean\n  } from '@alyle/ui';\nimport { LyButton } from '@alyle/ui/button';\nimport { LyTabContent } from './tab-content.directive';\nimport { Subscription } from 'rxjs';\nconst DEFAULT_DISABLE_RIPPLE = false;\nconst STYLE_PRIORITY = -2;\nconst DEFAULT_BG = 'primary';\nconst DEFAULT_INDICATOR_COLOR = 'accent';\nconst DEFAULT_ELEVATION = 4;\nconst DEFAULT_HEADER_PLACEMENT = 'above';\nexport type AlignTabs = 'start' | 'center' | 'end' | 'stretch' | 'baseline';\nexport type LyTabsHeaderPlacement = 'before' | 'after' | 'above' | 'below';\n\nexport const STYLES = (theme: ThemeVariables) => ({\n  $priority: STYLE_PRIORITY,\n  root: {\n    display: 'block'\n  },\n  container: {\n    display: 'flex'\n  },\n  tab: {\n    position: 'relative',\n    display: 'inline-flex'\n  },\n  /** Tab content */\n  contentContainer: {\n    overflow: 'hidden',\n    flexGrow: 1\n  },\n  /** Tab header */\n  tabsLabels: {\n    display: 'flex',\n    position: 'relative'\n  },\n  tabsLabelsContainer: {\n    overflow: 'hidden',\n    '{scrollable} &': {\n      '@media (hover: none)': {\n        overflow: 'auto'\n      }\n    }\n  },\n  label: {\n    '-webkit-tap-highlight-color': 'transparent',\n    '-webkit-appearance': 'none',\n    backgroundColor: 'transparent',\n    userSelect: 'none',\n    border: 0,\n    minWidth: '72px',\n    padding: '0 24px',\n    cursor: 'pointer',\n    height: '48px',\n    display: 'inline-flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    position: 'relative',\n    overflow: 'hidden',\n    fontFamily: theme.typography.fontFamily,\n    fontSize: theme.pxToRem(theme.typography.fontSize),\n    letterSpacing: '0.02857em',\n    color: 'currentColor',\n    outline: 'none',\n    width: '100%',\n    fontWeight: 500,\n    opacity: .7,\n    [theme.getBreakpoint('XSmall')]: {\n      padding: '0 12px'\n    }\n  },\n  tabLabelActive: {\n    opacity: 1\n  },\n  tabContents: {\n    display: 'flex',\n    transition: '450ms cubic-bezier(.1, 1, 0.5, 1)',\n    willChange: 'transform',\n    height: '100%'\n  },\n  tabContent: {\n    width: '100%',\n    height: '100%',\n    flexShrink: 0,\n    position: 'relative'\n  },\n  tabsIndicator: {\n    position: 'absolute',\n    height: '2px',\n    transition: '450ms cubic-bezier(.1, 1, 0.5, 1)',\n    background: 'currentColor'\n  },\n  tabsIndicatorForServer: {\n    position: 'absolute',\n    background: 'currentColor'\n  },\n  rippleContainer: {\n    ...LY_COMMON_STYLES.fill,\n    overflow: 'hidden'\n  },\n  scrollable: null\n});\n\n/** @docs-private */\nexport class LyTabsBase {\n  constructor(\n    public _theme: LyTheme2\n  ) { }\n}\n\n/** @docs-private */\nexport const LyTabsMixinBase = mixinStyleUpdater(mixinBg(mixinElevation(mixinShadowColor(LyTabsBase))));\n\n/** @docs-private */\nexport class LyTabLabelBase {\n  constructor(\n    public _theme: LyTheme2,\n    public _ngZone: NgZone\n  ) { }\n}\n\n/** @docs-private */\nexport const LyTabLabelMixinBase = mixinStyleUpdater(\nmixinBg(\n  mixinColor(\n    mixinRaised(\n      mixinDisabled(\n        mixinOutlined(\n          mixinElevation(\n            mixinShadowColor(\n              mixinDisableRipple(LyTabLabelBase)))))))));\n\n@Component({\n  selector: 'ly-tabs',\n  templateUrl: './tabs.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  exportAs: 'lyTabs',\n  inputs: [\n    'bg', 'elevation', 'shadowColor'\n  ]\n})\nexport class LyTabs extends LyTabsMixinBase implements OnChanges, OnInit, AfterViewInit, AfterContentInit, OnDestroy {\n  /** @docs-private */\n  readonly classes = this.theme.addStyleSheet(STYLES);\n  _selectedIndex: number;\n  _selectedBeforeIndex: number;\n  _selectedTab: LyTab | null;\n  _selectedBeforeTab: LyTab | null;\n  _isViewInitLoaded: boolean;\n  private _tabsSubscription = Subscription.EMPTY;\n  private _color: string;\n  private _colorClass: string;\n  private _headerPlacement: LyTabsHeaderPlacement;\n  private _headerPlacementClass: string;\n  private _alignTabs: AlignTabs;\n  private _alignTabsClass: string;\n  private _textColor: string;\n  private _textColorClass: string;\n  private _selectedIndexClass: string;\n  private _tabResizeSub: Subscription;\n  private _scrollable: boolean;\n\n  @ViewChild('tabs', { static: true }) tabsRef: ElementRef;\n  @ViewChild('tabContents', { static: true }) tabContents: ElementRef;\n  @ViewChild('tabsIndicator', { static: true }) tabsIndicator: ElementRef;\n  @Input() selectedIndexOnChange: 'auto' | number = 'auto';\n  @Input()\n  set scrollable(val: any) {\n    const newVal = toBoolean(val);\n    if (newVal) {\n      this.renderer.addClass(this.el.nativeElement, this.classes.scrollable);\n    } else if (this._scrollable != null) {\n      this.renderer.removeClass(this.el.nativeElement, this.classes.scrollable);\n    }\n    this._scrollable = newVal;\n  }\n  get scrollable() {\n    return this._scrollable;\n  }\n  @Input()\n  set indicatorColor(val: string) {\n    if (val !== this.indicatorColor) {\n      this._color = val;\n      this._colorClass = this.theme.addStyle(\n        `k-tab-indicator-color:${val}`,\n        theme => (\n          `color:${theme.colorOf(val)};`\n        ),\n        this.tabsIndicator.nativeElement, this._colorClass\n      );\n    }\n  }\n  get indicatorColor() {\n    return this._color;\n  }\n\n  @Input()\n  set headerPlacement(val: LyTabsHeaderPlacement) {\n    if (val !== this.headerPlacement) {\n      this._headerPlacement = val;\n      this._headerPlacementClass = this.theme.addStyle(`lyTabs.headerPlacement:${val}`,\n      () => {\n        let flexDirectionContainer: string;\n        let flexDirection = this._getFlexDirection(val);\n        let position: string;\n        let height: string | null = null;\n        let width: string | null = null;\n        let heightServer: string | null = null;\n        let widthServer: string | null = null;\n        switch (val) {\n          case YPosition.above:\n            flexDirectionContainer = 'column';\n            position = YPosition.below;\n            height = '2px';\n            widthServer = '100%';\n            break;\n          case YPosition.below:\n            flexDirectionContainer = 'column-reverse';\n            position = YPosition.above;\n            height = '2px';\n            widthServer = '100%';\n            break;\n          case XPosition.before:\n            flexDirectionContainer = 'row';\n            position = XPosition.after;\n            width = '2px';\n            heightServer = '100%';\n            break;\n          case XPosition.after:\n            flexDirectionContainer = 'row-reverse';\n            position = XPosition.before;\n            width = '2px';\n            heightServer = '100%';\n            break;\n\n          default:\n            throw new Error(`LyTabs: value:${val} do not is valid for \\`headerPlacement\\``);\n        }\n        if (val === YPosition.above || val === YPosition.below) {\n          flexDirection = 'row';\n        } else {\n          flexDirection = 'column';\n        }\n        return {\n          [`.${this.classes.container}`]: {\n            flexDirection: flexDirectionContainer\n          },\n          [`& .${this.classes.tabsIndicator},& .${this.classes.tabsIndicatorForServer}`]: {\n            [position]: 0,\n            height,\n            width\n          },\n          [`.${this.classes.tabsIndicatorForServer}`]: {\n            width: widthServer,\n            height: heightServer\n          },\n          [`& .${this.classes.tabsLabels},& .${this.classes.tabContents}`]: { flexDirection },\n          [`.${this.classes.tabContents}`]: { flexDirection }\n        };\n      },\n      this.el.nativeElement,\n      this._headerPlacementClass,\n      STYLE_PRIORITY);\n      this._updateStylesOfSelectedTab();\n    }\n  }\n  get headerPlacement() {\n    return this._headerPlacement;\n  }\n\n  @Input()\n  set alignTabs(val: AlignTabs) {\n    this._alignTabs = val;\n    this._alignTabsClass = this.theme.addStyle(`lyAlignTabs: ${val}`,\n    (\n      val === 'stretch' ? {\n        [`& .${this.classes.tabsLabels} .${this.classes.tab}`]: {\n          flexBasis: 0,\n          flexGrow: 1\n        }\n      } : {\n        [`& .${this.classes.tabsLabels}`]: {\n          justifyContent: val in AlignAlias ? AlignAlias[val] : val\n        }\n      }\n    ),\n    this.el.nativeElement,\n    this._alignTabsClass,\n    STYLE_PRIORITY);\n  }\n  get alignTabs() {\n    return this._alignTabs;\n  }\n\n  @Input()\n  set textColor(val: string) {\n    this._textColor = val;\n    this._textColorClass = this.theme.addStyle(`lyTabs.textColor:${val}`,\n    (theme: ThemeVariables) => ({\n      [`& .${this.classes.tabLabelActive}`]: {\n        color: theme.colorOf(val)\n      }\n    }),\n    this.el.nativeElement,\n    this._textColorClass,\n    STYLE_PRIORITY);\n  }\n  get textColor() {\n    return this._textColor;\n  }\n\n  @Input()\n  set selectedIndex(val: number) {\n    if (val !== this.selectedIndex) {\n      this._selectedBeforeIndex = this._selectedIndex as number;\n      this._selectedIndex = this._findIndex(val, 'auto');\n      this._selectedBeforeTab = this._selectedTab!;\n      this.selectedIndexChange.emit(this._selectedIndex);\n      this._markForCheck();\n      Promise.resolve(null).then(() => {\n        this._updateStylesOfSelectedTab();\n      });\n    }\n  }\n  get selectedIndex() {\n    return this._selectedIndex;\n  }\n\n  @Output() selectedIndexChange: EventEmitter<any> = new EventEmitter();\n  @ContentChildren(forwardRef(() => LyTab)) tabsList: QueryList<LyTab>;\n\n  constructor(\n    private theme: LyTheme2,\n    private renderer: Renderer2,\n    private el: ElementRef,\n    private cd: ChangeDetectorRef,\n    private _resizeService: WinResize\n  ) {\n    super(theme);\n    this.setAutoContrast();\n  }\n\n  ngOnChanges() {\n    if (this._isViewInitLoaded) {\n      this.updateStyle(this.tabsRef.nativeElement);\n    }\n  }\n\n  ngOnInit() {\n    if (this.selectedIndex == null) {\n      this.selectedIndex = 0;\n    }\n    this.renderer.addClass(this.el.nativeElement, this.classes.root);\n    const tabsIndicatorEl = this.tabsIndicator.nativeElement;\n    this.renderer.addClass(tabsIndicatorEl, this.classes.tabsIndicator);\n    /** Set default Color */\n    if (!this.indicatorColor && !this.bg && !this.textColor && !this.elevation) {\n      this.indicatorColor = DEFAULT_INDICATOR_COLOR;\n      this.bg = DEFAULT_BG;\n      this.elevation = DEFAULT_ELEVATION;\n    }\n    if (!this.headerPlacement) {\n      this.headerPlacement = DEFAULT_HEADER_PLACEMENT;\n    }\n  }\n\n  ngAfterContentInit() {\n    this._tabsSubscription = this.tabsList.changes.subscribe(() => {\n      if (this._selectedIndex !== this.selectedIndexOnChange) {\n        this.selectedIndex = this._findIndex(this.selectedIndex, this.selectedIndexOnChange);\n      }\n      this.cd.markForCheck();\n    });\n  }\n\n  ngAfterViewInit() {\n    this.updateStyle(this.tabsRef.nativeElement);\n    this._isViewInitLoaded = true;\n    if (Platform.isBrowser) {\n      this._tabResizeSub = this._resizeService.resize$.subscribe(() => {\n        if (this._selectedTab) {\n          this._updateIndicator(this._selectedTab);\n          this._selectedTab._tabLabel._updateTabScroll();\n        }\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    this._tabsSubscription.unsubscribe();\n    if (this._tabResizeSub) {\n      this._tabResizeSub.unsubscribe();\n    }\n  }\n\n  private _findIndex(selectedIndex: number, index: string | number) {\n    if (!this.tabsList) {\n      return selectedIndex;\n    }\n    const indexOfLastTab = this.tabsList.length - 1;\n    const currentIndex = typeof index === 'number' ? index : selectedIndex;\n    return currentIndex < 0 ? 0 : currentIndex > indexOfLastTab ? indexOfLastTab : currentIndex;\n  }\n\n  _updateIndicator(currentTab: LyTab, beforeTab?: LyTab): void {\n    if (currentTab) {\n      if (beforeTab) {\n        beforeTab._renderer.removeAttribute(beforeTab._tabIndicator.nativeElement, 'class');\n      }\n      const el = currentTab._el.nativeElement as HTMLElement;\n      const rects = el.getBoundingClientRect();\n\n      if (this.headerPlacement === XPosition.after || this.headerPlacement === XPosition.before) {\n        this.renderer.setStyle(this.tabsIndicator.nativeElement, 'height', `${rects.height}px`);\n        this.renderer.setStyle(this.tabsIndicator.nativeElement, 'top', `${el.offsetTop}px`);\n        this.renderer.removeStyle(this.tabsIndicator.nativeElement, 'width');\n        this.renderer.removeStyle(this.tabsIndicator.nativeElement, 'left');\n      } else {\n        this.renderer.setStyle(this.tabsIndicator.nativeElement, 'width', `${rects.width}px`);\n        this.renderer.setStyle(this.tabsIndicator.nativeElement, 'left', `${el.offsetLeft}px`);\n        this.renderer.removeStyle(this.tabsIndicator.nativeElement, 'height');\n        this.renderer.removeStyle(this.tabsIndicator.nativeElement, 'top');\n      }\n    }\n  }\n\n  private _updateStylesOfSelectedTab() {\n    const index = this._selectedIndex;\n    const placement = this.headerPlacement;\n    this._selectedIndexClass = this._theme.addStyle(`lyTabs.selectedIndex:${index}+${placement}`, (theme: ThemeVariables) => {\n      let sign = 1;\n      const position = this._getFlexDirection(placement) === 'column' ? 'Y' : 'X';\n      if (theme.direction === Dir.ltr || position === 'Y') {\n        sign = -1;\n      }\n      return {\n        transform: `translate${position}(${index * 100 * sign}%)`\n      };\n    }, this.tabContents.nativeElement, this._selectedIndexClass, STYLE_PRIORITY);\n    this.renderer.addClass(this.tabContents.nativeElement, this._selectedIndexClass);\n  }\n\n  _markForCheck() {\n    this.cd.markForCheck();\n  }\n\n  loadTemplate(tab: LyTab, index: number): TemplateRef<LyTabContent> | null {\n    tab.index = index;\n    if (this.selectedIndex === tab.index) {\n      // set 0 if is null\n      this._selectedTab = tab;\n      Promise.resolve(null).then(() => {\n        if (Platform.isBrowser) {\n          this._updateIndicator(tab);\n        } else {\n          // for server\n          const selectedBeforeTab = this._selectedBeforeTab;\n          if (selectedBeforeTab) {\n            this.renderer.removeClass(selectedBeforeTab._tabIndicator.nativeElement, this.classes.tabsIndicatorForServer);\n            this.renderer.removeClass(selectedBeforeTab._tabIndicator.nativeElement, this._colorClass);\n          }\n          this.renderer.addClass(this._selectedTab!._tabIndicator.nativeElement, this.classes.tabsIndicatorForServer);\n          this.renderer.addClass(this._selectedTab!._tabIndicator.nativeElement, this._colorClass);\n        }\n      });\n    }\n    tab._tabLabel._updateTabState();\n    if (this.selectedIndex === tab.index) {\n      return tab._templateRefLazy || tab._templateRef;\n    } else {\n      return null;\n    }\n  }\n\n  private _getFlexDirection(val: LyTabsHeaderPlacement) {\n    let flexDirection: string;\n    if (val === YPosition.above || val === YPosition.below) {\n      flexDirection = 'row';\n    } else {\n      flexDirection = 'column';\n    }\n    return flexDirection;\n  }\n}\n\n@Component({\n  selector: 'ly-tab',\n  templateUrl: './tab.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n})\nexport class LyTab implements OnInit {\n  /** Current tab index */\n  index: number;\n  _isBrowser = Platform.isBrowser;\n  @ContentChild(LyTabContent, { read: TemplateRef, static: true }) _templateRefLazy: TemplateRef<LyTabContent>;\n  @ViewChild('_templateNgContent', { static: true }) _templateRef: TemplateRef<any>;\n  @ViewChild('tabIndicator', { static: false }) _tabIndicator: ElementRef;\n  @ContentChild(forwardRef(() => LyTabLabel), { static: true }) _tabLabel: LyTabLabel & { };\n\n  constructor(\n    private _tabs: LyTabs,\n    public _renderer: Renderer2,\n    public _el: ElementRef\n  ) { }\n\n  ngOnInit() {\n    this._renderer.addClass(this._el.nativeElement, this._tabs.classes.tab);\n  }\n}\n\n@Component({\n  selector: 'button[ly-tab-label], a[ly-tab-label]',\n  templateUrl: 'tab-label.html',\n  inputs: [\n    'bg',\n    'color',\n    'raised',\n    'disabled',\n    'outlined',\n    'elevation',\n    'shadowColor',\n    'disableRipple'\n  ]\n})\nexport class LyTabLabel extends LyButton implements OnInit, AfterViewInit {\n  private _activeTabStyle: boolean;\n  private _active: boolean;\n  _isBrowser = Platform.isBrowser;\n  @Input()\n  get active() {\n    return this._active;\n  }\n  set active(val: boolean) {\n    const newVal = toBoolean(val);\n    if (newVal && val !== this.active) {\n      Promise.resolve(null).then(() => this._tabs.selectedIndex = this._tab.index);\n    }\n  }\n\n  @ViewChild('rippleContainer', { static: false }) _rippleContainer: ElementRef;\n  @HostListener('click') _onClickTab() {\n    if (!this.disabled) {\n      this._tabs.selectedIndex = this._tab.index;\n    }\n  }\n\n\n  constructor(\n    _el: ElementRef,\n    _renderer: Renderer2,\n    _theme: LyTheme2,\n    _ngZone: NgZone,\n    _rippleService: LyRippleService,\n    _focusState: LyFocusState,\n    @Optional() private _tab: LyTab,\n    @Optional() private _tabs: LyTabs\n  ) {\n    super(_el, _renderer, _theme, _ngZone, _rippleService, _focusState);\n  }\n\n  ngOnInit() {\n    this._renderer.addClass(this._el.nativeElement, this._tabs.classes.label);\n    // set default disable ripple\n    if (this.disableRipple == null) {\n      this.disableRipple = DEFAULT_DISABLE_RIPPLE;\n    }\n  }\n\n  _updateTabState() {\n    // update styles for active tab\n    if (this._tabs._selectedIndex === this._tab.index) {\n      if (!this._activeTabStyle) {\n        this._activeTabStyle = true;\n        this._renderer.addClass(this._el.nativeElement, this._tabs.classes.tabLabelActive);\n        this._updateTabScroll();\n      }\n    } else if (this._activeTabStyle) {\n      this._activeTabStyle = false;\n      this._renderer.removeClass(this._el.nativeElement, this._tabs.classes.tabLabelActive);\n    }\n  }\n\n  _updateTabScroll() {\n    if (Platform.isBrowser && this._tabs.scrollable) {\n      const tab = this._tab._el.nativeElement as HTMLElement;\n      const tabContainer = this._tabs.tabsRef.nativeElement as HTMLElement;\n      if (tabContainer.scrollWidth !== tabContainer.offsetWidth) {\n        const dir = this._theme.variables.direction;\n        const max = tabContainer.scrollWidth - tabContainer.offsetWidth;\n        const offsetBefore = dir === Dir.rtl\n        ? max + tab.offsetLeft\n        : tab.offsetLeft;\n        const l = offsetBefore + tab.offsetWidth / 2 - tabContainer.offsetWidth / 2;\n        const newVal = l >= max ? max : l <= 0 ? 0 : l;\n        scrollWithAnimation(this._tabs.tabsRef.nativeElement, newVal, 350, 'x');\n      }\n    }\n  }\n\n  ngAfterViewInit() { }\n}\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgTranscludeModule, LyCommonModule, LyThemeModule } from '@alyle/ui';\nimport { LyTabs, LyTabLabel, LyTab } from './tabs';\nimport { LyTabContent } from './tab-content.directive';\n\n@NgModule({\n  imports: [LyThemeModule, CommonModule, LyCommonModule, NgTranscludeModule],\n  exports: [LyCommonModule, LyTabs, LyTab, LyTabLabel, LyTabContent],\n  declarations: [LyTabs, LyTab, LyTabLabel, LyTabContent]\n})\nexport class LyTabsModule { }\n"],"names":["tslib_1.__extends","tslib_1.__decorate","tslib_1.__param"],"mappings":"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"}