{"version":3,"file":"alyle-ui-color.js","sources":["ng://@alyle/ui/color/color.ts","ng://@alyle/ui/color/alyle-ui-color.ts"],"sourcesContent":["const EPS = 1e-7;\nconst MAX_ITER = 20;\nconst { pow, min, max } = Math;\n\nexport class ColorClass {\n\n  private readonly _color: number[];\n\n  constructor(hex: number, alpha?: number)\n  constructor(r: number, g: number, b: number, alpha?: number)\n  constructor(...args: number[])\n  constructor(...args: number[]) {\n    if (args.length < 3 && args.length > 0) {\n      this._color = bigIntToRgb(args[0], args[1]);\n    } else if (args.length > 2) {\n      this._color = args;\n\n      // Set default alpha\n      if (args.length === 3) {\n        this._color[3] = 1;\n      }\n    } else {\n      this._color = [];\n    }\n  }\n\n  rgba() {\n    return this._color.slice(0);\n  }\n\n  alpha(): number;\n  alpha(value: number): Color;\n  alpha(value?: number) {\n    if (value === void 0) {\n      return this._color[3];\n    }\n\n    // Clone\n    const _color = this.rgba();\n\n    // Set alpha\n    _color[3] = value;\n    return new Color(..._color);\n  }\n\n  luminance(): number;\n  luminance(lum: number): Color;\n  luminance(lum?: number) {\n    if (lum === void 0) {\n      return rgbToLuminance(...(this._color as [number, number, number]));\n    }\n\n    if (lum === 0) {\n      // return pure black\n      return new Color(0, 0, 0, this._color[3]);\n    }\n    if (lum === 1) {\n      // return pure white\n      return new Color(255, 255, 255, this._color[3]);\n    }\n\n    const relativeLuminance = this.luminance();\n    let max_iter = MAX_ITER;\n\n    const test = (low: Color, high: Color): Color => {\n      const mid = new Color(...interpolateRgb(low.rgba(), high.rgba(), 0.5));\n      const lm = mid.luminance() as number;\n\n      if (Math.abs(lum - lm) < EPS || !max_iter--) {\n        return mid;\n      }\n\n      return lm > lum ? test(low, mid) : test(mid, high);\n    };\n\n    const rgb = (relativeLuminance > lum\n        ? test(new Color(0, 0, 0), this)\n        : test(this, new Color(255, 255, 255))).rgba();\n    rgb.pop();\n    rgb.push(this._color[ 3 ]);\n\n    return new Color(...rgb);\n\n  }\n\n  saturate(amount = 1) {\n    const lab = rgbToLab(this._color);\n    const lch = labToLch(lab);\n\n    lch[1] += 18 * amount;\n\n    if (lch[1] < 0) {\n      lch[1] = 0;\n    }\n\n    const labFromLch = lchToLab(lch);\n    const xyzFromLab = labToXyz(labFromLch);\n    const rgb = xyzToRgb(xyzFromLab);\n\n    // Set alpha\n    rgb.push(this._color[3]);\n\n    return new Color(...rgb);\n  }\n\n  desaturate(amount = 1) {\n    return this.saturate(-amount);\n  }\n\n  /**\n   * @param amount default 1\n   */\n  darken(amount = 1) {\n    const lab = rgbToLab(this._color);\n    lab[0] -= 18 * amount;\n    const xyzFromLab = labToXyz(lab);\n    const rgb = xyzToRgb(xyzFromLab);\n\n    // Set alpha\n    rgb.push(this._color[3]);\n\n    return new Color(...rgb);\n  }\n\n  /**\n   * The opposite of darken\n   * @param amount default 1\n   */\n  brighten(amount = 1) {\n    return this.darken(-amount);\n  }\n\n  css() {\n    if (!this._color.length) {\n      return 'undefined - invalid color';\n    }\n    return rgbToCss(this.rgba() as [number, number, number, number]);\n  }\n\n  toString() {\n    return this.css();\n  }\n\n}\n\n\n// /**\n//  * Convert number to CSS\n//  * 0x00bcd4 > #00bcd4\n//  * @param int Int\n//  */\n// function bigIntToCss(int: number) {\n//   const hex = int.toString(16);\n//   return '#000000'.substring(0, 7 - hex.length) + hex;\n// }\n\nfunction rgbToCss(rgb: [number, number, number, number]) {\n  const alpha = rgb.pop();\n  if (alpha === 1) {\n    return `rgb(${rgb.map(Math.round).join()})`;\n  }\n  return `rgba(${rgb.map(Math.round).join()},${alpha})`;\n}\n\nfunction bigIntToRgb(bigInt: number, alpha = 1) {\n  // if (bigInt < 0x1000) {\n  //   bigInt = parseInt(bigInt.toString(16).split('').map(char => {\n  //     return char + char;\n  //   }).join(''), 16);\n  // }\n  // tslint:disable-next-line: no-bitwise\n  const red = (bigInt >> 16) & 0xff;\n  // tslint:disable-next-line: no-bitwise\n  const green = (bigInt >> 8) & 0xff;\n  // tslint:disable-next-line: no-bitwise\n  const blue = bigInt & 0xff;\n\n  return [red, green, blue, alpha];\n}\n\n// function rgbToBigInt(r: number, g: number, b: number) {\n//   // tslint:disable-next-line: no-bitwise\n//   return (r << 16) + (g << 8) + b;\n// }\n\nfunction rgbToXyz(rgb: number[]) {\n  let r = rgb[0] / 255;\n  let g = rgb[1] / 255;\n  let b = rgb[2] / 255;\n\n  // Assume sRGB\n  r = r > 0.04045 ? (((r + 0.055) / 1.055) ** 2.4) : (r / 12.92);\n  g = g > 0.04045 ? (((g + 0.055) / 1.055) ** 2.4) : (g / 12.92);\n  b = b > 0.04045 ? (((b + 0.055) / 1.055) ** 2.4) : (b / 12.92);\n\n  const x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n  const y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n  const z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n  return [x * 100, y * 100, z * 100];\n}\n\nfunction rgbToLab(rgb: number[]) {\n  const xyz = rgbToXyz(rgb);\n  let x = xyz[ 0 ];\n  let y = xyz[ 1 ];\n  let z = xyz[ 2 ];\n\n  x /= 95.047;\n  y /= 100;\n  z /= 108.883;\n\n  x = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n  y = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n  z = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n  const l = (116 * y) - 16;\n  const a = 500 * (x - y);\n  const b = 200 * (y - z);\n\n  return [ l, a, b ];\n}\n\nfunction labToLch(lab: number[]) {\n  const l = lab[ 0 ];\n  const a = lab[ 1 ];\n  const b = lab[ 2 ];\n  let h: number;\n\n  const hr = Math.atan2(b, a);\n  h = hr * 360 / 2 / Math.PI;\n\n  if (h < 0) {\n    h += 360;\n  }\n\n  const c = Math.sqrt(a * a + b * b);\n\n  return [ l, c, h ];\n}\n\nfunction lchToLab(lch: number[]) {\n  const l = lch[ 0 ];\n  const c = lch[ 1 ];\n  const h = lch[ 2 ];\n\n  const hr = h / 360 * 2 * Math.PI;\n  const a = c * Math.cos(hr);\n  const b = c * Math.sin(hr);\n\n  return [ l, a, b ];\n}\n\nfunction labToXyz(lab: number[]) {\n  const l = lab[ 0 ];\n  const a = lab[ 1 ];\n  const b = lab[ 2 ];\n  let x;\n  let y;\n  let z;\n\n  y = (l + 16) / 116;\n  x = a / 500 + y;\n  z = y - b / 200;\n\n  const y2 = y ** 3;\n  const x2 = x ** 3;\n  const z2 = z ** 3;\n  y = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n  x = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n  z = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n  x *= 95.047;\n  y *= 100;\n  z *= 108.883;\n\n  return [ x, y, z ];\n}\n\nfunction xyzToRgb(xyz: number[]) {\n  const x = xyz[ 0 ] / 100;\n  const y = xyz[ 1 ] / 100;\n  const z = xyz[ 2 ] / 100;\n  let r;\n  let g;\n  let b;\n\n  r = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n  g = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n  b = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n  // Assume sRGB\n  r = r > 0.0031308\n    ? ((1.055 * (r ** (1.0 / 2.4))) - 0.055)\n    : r * 12.92;\n\n  g = g > 0.0031308\n    ? ((1.055 * (g ** (1.0 / 2.4))) - 0.055)\n    : g * 12.92;\n\n  b = b > 0.0031308\n    ? ((1.055 * (b ** (1.0 / 2.4))) - 0.055)\n    : b * 12.92;\n\n  r = min(max(0, r), 1);\n  g = min(max(0, g), 1);\n  b = min(max(0, b), 1);\n\n  return [ r * 255, g * 255, b * 255 ];\n}\n\nfunction rgbToLuminance(r: number, g: number, b: number) {\n  // Relative luminance\n  // See http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n  r = luminance_channel(r);\n  g = luminance_channel(g);\n  b = luminance_channel(b);\n  return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n}\n\nfunction luminance_channel(x: number) {\n  x /= 255;\n  return x <= 0.03928 ? x / 12.92 : pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction interpolateRgb(rgb1: number[], rgb2: number[], f = 0.5) {\n\n  return [\n    rgb1[ 0 ] + f * (rgb2[ 0 ] - rgb1[ 0 ]),\n    rgb1[ 1 ] + f * (rgb2[ 1 ] - rgb1[ 1 ]),\n    rgb1[ 2 ] + f * (rgb2[ 2 ] - rgb1[ 2 ]),\n  ];\n}\n\nexport function hexColorToInt(_color: string) {\n  if (_color.startsWith('#')) {\n    return parseInt(_color.slice(1), 16);\n  }\n  throw new Error(`Expected to start with '#' the given value is: ${_color}`);\n}\n\ninterface ColorConstructor {\n  (hex: number, alpha?: number): Color;\n  (r: number, g: number, b: number, alpha?: number): Color;\n  (...args: number[]): Color;\n  new (hex: number, alpha?: number): Color;\n  new (r: number, g: number, b: number, alpha?: number): Color;\n  new (...args: number[]): Color;\n}\n\n// https://stackoverflow.com/a/59186182\nfunction CreateCallableConstructor(\n  type: any\n): any {\n  // tslint:disable-next-line: no-shadowed-variable\n  function Color(\n    ...args: any[]\n  ) {\n    return new type(...args);\n  }\n\n  Color.prototype = type.prototype;\n  return Color;\n}\n\nexport type Color = ColorClass;\nexport const Color = CreateCallableConstructor(ColorClass) as ColorConstructor;\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}