{"version":3,"file":"alyle-ui-typography.js","sources":["ng://@alyle/ui/typography/typography.directive.ts","ng://@alyle/ui/typography/typography.module.ts","ng://@alyle/ui/typography/alyle-ui-typography.ts"],"sourcesContent":["import { Directive, ElementRef, Renderer2, Input, OnInit, OnChanges } from '@angular/core';\nimport {\n  LyTheme2,\n  toBoolean,\n  ThemeVariables,\n  mixinStyleUpdater,\n  mixinColor,\n  StyleCollection,\n  StyleTemplate,\n  styleTemplateToString,\n  LyHostClass,\n  StyleRenderer } from '@alyle/ui';\n\nexport interface LyTypographyTheme {\n  /** Styles for Typography Component */\n  root?: StyleCollection<(() => StyleTemplate)>\n    | (() => StyleTemplate);\n  lyTyp?: {\n    [name: string]: StyleCollection<(() => StyleTemplate)>\n      | (() => StyleTemplate) | undefined\n  };\n}\n\nexport interface LyTypographyVariables {\n  typography?: LyTypographyTheme;\n}\n\nconst STYLE_PRIORITY = -1;\nexport const STYLES = (theme: ThemeVariables & LyTypographyVariables) => {\n  return {\n    $name: LyTypography.Ð¸,\n    $priority: STYLE_PRIORITY,\n    root: (className: string) => `${className}{margin:0;display:block;font-family:${theme.typography.fontFamily};}${styleTemplateToString((\n        (theme.typography\n          && theme.typography.root\n          && (theme.typography.root instanceof StyleCollection\n            ? theme.typography.root.setTransformer(fn => fn()).css\n            : theme.typography.root())\n        )), `${className}`)}`,\n    gutterTop: (className: string) => `${className}{margin-top:0.35em;}`,\n    gutterBottom: (className: string) => `${className}{margin-bottom:0.35em;}`,\n    gutter: (className: string) => `${className}{margin:0.35em 0;}`\n  };\n};\n\n\n/** @docs-private */\nexport class LyTypographyBase {\n  constructor(\n    public _theme: LyTheme2\n  ) { }\n}\n\n/** @docs-private */\nexport const LyTypographyMixinBase = mixinStyleUpdater(\n    mixinColor((LyTypographyBase)));\n\n@Directive({\n  selector: `[lyTyp]`,\n  inputs: [\n    'color'\n  ],\n  providers: [\n    LyHostClass,\n    StyleRenderer\n  ]\n})\nexport class LyTypography extends LyTypographyMixinBase implements OnInit, OnChanges {\n  /** @docs-private */\n  readonly classes = this._theme.renderStyleSheet(STYLES);\n  /** @docs-private */\n  static readonly Ð¸ = 'LyTypography';\n  private _lyTyp: string;\n  private _lyTypClass: string | null;\n\n  private _gutter: boolean;\n\n  private _gutterTop: boolean;\n\n  private _gutterBottom: boolean;\n  private _noWrap: boolean;\n  private _noWrapClass?: string;\n\n  @Input()\n  set lyTyp(val: string) {\n    if (val !== this.lyTyp) {\n      if (val) {\n        this._lyTypClass = this._createTypClass(val, this._lyTypClass);\n      } else if (this._lyTypClass) {\n        this.renderer.removeClass(this._el.nativeElement, this._lyTypClass);\n        this._lyTypClass = null;\n      }\n    }\n  }\n  get lyTyp() {\n    return this._lyTyp;\n  }\n\n  /** The text will truncate with an ellipsis. */\n  @Input()\n  set noWrap(val: boolean) {\n    const newValue = toBoolean(val);\n    if (newValue) {\n      this._noWrapClass = this._theme.addSimpleStyle('lyTyp.noWrap', {\n        overflow: 'hidden',\n        whiteSpace: 'nowrap',\n        textOverflow: 'ellipsis'\n      });\n      this.renderer.addClass(this._el.nativeElement, this._noWrapClass);\n    } else if (this._noWrapClass) {\n      this.renderer.removeClass(this._el.nativeElement, this._noWrapClass);\n      this._noWrapClass = undefined;\n    }\n  }\n  get noWrap() {\n    return this._noWrap;\n  }\n\n  @Input()\n  set gutter(val: boolean) {\n    const newVal = toBoolean(val);\n    if (newVal !== this.gutter) {\n      this._gutter = newVal;\n      this.hostClass.toggle(this.classes.gutter, newVal);\n    }\n  }\n  get gutter() {\n    return this._gutter;\n  }\n\n  @Input()\n  set gutterTop(val: boolean) {\n    const newVal = toBoolean(val);\n    if (newVal !== this.gutterTop) {\n      this._gutterTop = newVal;\n      this.hostClass.toggle(this.classes.gutterTop, newVal);\n    }\n  }\n  get gutterTop() {\n    return this._gutterTop;\n  }\n\n  @Input()\n  set gutterBottom(val: boolean) {\n    const newVal = toBoolean(val);\n    if (newVal !== this.gutterBottom) {\n      this._gutterBottom = newVal;\n      this.hostClass.toggle(this.classes.gutterBottom, newVal);\n    }\n  }\n  get gutterBottom() {\n    return this._gutterBottom;\n  }\n\n  constructor(\n    _theme: LyTheme2,\n    private _el: ElementRef,\n    private renderer: Renderer2,\n    private sr: StyleRenderer,\n    private hostClass: LyHostClass\n  ) {\n    super(_theme);\n    this.renderer.addClass(this._el.nativeElement, this.classes.root);\n  }\n\n  ngOnInit() {\n    if ((this.gutterTop && this.gutterBottom)) {\n      throw new Error(`use '<element lyTyp gutter>' instead of '<element lyTyp gutterTop gutterBottom>'`);\n    }\n  }\n\n  ngOnChanges() {\n    this.updateStyle(this._el.nativeElement);\n  }\n\n  private _createTypClass(val: string, instance: string | null) {\n    const newKey = `k-typ:${val}`;\n\n    return this.sr.add(newKey,\n      (theme: LyTypographyVariables) => {\n        if (theme.typography && theme.typography.lyTyp) {\n          const lyTyp = theme.typography.lyTyp[val];\n            if (lyTyp) {\n              return lyTyp instanceof StyleCollection\n                ? lyTyp.setTransformer((_) => _()).css\n                : lyTyp();\n            }\n        }\n        throw new Error(`Value typography.lyTyp['${val}'] not found in ThemeVariables`);\n      },\n      STYLE_PRIORITY,\n      instance,\n    );\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { LyCommonModule } from '@alyle/ui';\n\nimport { LyTypography } from './typography.directive';\n\n@NgModule({\n  exports: [LyTypography, LyCommonModule],\n  declarations: [LyTypography]\n})\nexport class LyTypographyModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["tslib_1.__extends","tslib_1.__decorate"],"mappings":"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"}