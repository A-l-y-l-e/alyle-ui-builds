{"version":3,"file":"alyle-ui-typography.js.map","sources":["ng://@alyle/ui/typography/typography.directive.ts","ng://@alyle/ui/typography/typography.module.ts"],"sourcesContent":["import { Directive, ElementRef, Renderer2, Input, OnInit } from '@angular/core';\nimport { LyTheme2, toBoolean, ThemeVariables, StyleContainer } from '@alyle/ui';\n\nconst STYLE_PRIORITY = -2;\nconst styles = (theme: ThemeVariables) => ({\n  root: {\n    margin: 0,\n    display: 'block',\n    ...theme.typography.root\n  }\n});\n\n/** @docs-private */\nenum Gutter {\n  default,\n  top,\n  bottom,\n}\n\n@Directive({\n  selector: `[lyTyp]`\n})\nexport class LyTypography implements OnInit {\n  /** @docs-private */\n  readonly classes = this.style.addStyleSheet(styles, STYLE_PRIORITY);\n  private _lyTyp: string;\n  private _lyTypClass: string;\n\n  private _gutter: boolean;\n  private _gutterClass: string;\n\n  private _gutterTop: boolean;\n  private _gutterTopClass: string;\n\n  private _gutterBottom: boolean;\n  private _gutterBottomClass: string;\n\n  @Input()\n  set lyTyp(val: string) {\n    if (val !== this.lyTyp) {\n      this._lyTypClass = this._createTypClass(val, this._lyTypClass);\n    }\n  }\n  get lyTyp() {\n    return this._lyTyp;\n  }\n\n  @Input()\n  set gutter(val: boolean) {\n    const newVal = toBoolean(val);\n    if (newVal !== this.gutter) {\n      this._gutter = newVal;\n      this._gutterClass = this._createGutterClass(Gutter.default, newVal, this._gutterClass);\n    }\n  }\n  get gutter() {\n    return this._gutter;\n  }\n\n  @Input()\n  set gutterTop(val: boolean) {\n    const newVal = toBoolean(val);\n    if (newVal !== this.gutterTop) {\n      this._gutterTop = newVal;\n      // const newClass = this._createGutterClass(Gutter.top, newVal);\n      this._gutterTopClass = this._createGutterClass(Gutter.top, newVal, this._gutterTopClass);\n    }\n  }\n  get gutterTop() {\n    return this._gutterTop;\n  }\n\n  @Input()\n  set gutterBottom(val: boolean) {\n    const newVal = toBoolean(val);\n    if (newVal !== this.gutterBottom) {\n      this._gutterBottom = newVal;\n      this._gutterBottomClass = this._createGutterClass(Gutter.bottom, newVal, this._gutterBottomClass);\n    }\n  }\n  get gutterBottom() {\n    return this._gutterBottom;\n  }\n\n  constructor(\n    private style: LyTheme2,\n    private elementRef: ElementRef,\n    private renderer: Renderer2\n  ) {\n    this.renderer.addClass(this.elementRef.nativeElement, this.classes.root);\n  }\n\n  ngOnInit() {\n    if ((this.gutterTop && this.gutterBottom)) {\n      throw new Error(`use '<element lyTyp gutter>' instead of '<element lyTyp gutterTop gutterBottom>'`);\n    }\n  }\n\n  private _createTypClass(key: string, instance: string) {\n    const newKey = `k-typ:${key}`;\n\n    return this.style.addStyle(newKey,\n      (theme: ThemeVariables) => {\n        const { typography } = theme;\n        const styl: StyleContainer = Object.assign({ }, typography.lyTyp[key || 'body1']);\n        styl.fontSize = theme.pxToRem(styl.fontSize as number || typography.fontSize);\n        if (styl.lineHeight) {\n          styl.lineHeight = theme.pxToRem(styl.lineHeight as number);\n        }\n        if (typeof styl.letterSpacing === 'number') {\n          styl.letterSpacing = `${styl.letterSpacing}px`;\n        }\n        // set default fontFamily\n        styl.fontFamily = styl.fontFamily || typography.fontFamily;\n        return styl;\n      },\n      this.elementRef.nativeElement,\n      instance,\n      STYLE_PRIORITY\n    );\n  }\n\n  private _createGutterClass(name: Gutter, val: boolean, instance: string) {\n    return this.style.addStyle(\n      `k-typ-gutter:${name}:${val}`,\n      (theme: ThemeVariables) => {\n        const gutter = name === Gutter.default;\n        return (\n          `margin-top:${ val && (gutter || name === Gutter.top) ? theme.typography.gutterTop : 0 }em;` +\n          `margin-bottom:${ val && (gutter || name === Gutter.bottom) ? theme.typography.gutterBottom : 0 }em;`\n        );\n      },\n      this.elementRef.nativeElement,\n      instance,\n      STYLE_PRIORITY\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LyTypography } from './typography.directive';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  exports: [LyTypography],\n  declarations: [LyTypography]\n})\nexport class LyTypographyModule { }\n"],"names":[],"mappings":"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"}
