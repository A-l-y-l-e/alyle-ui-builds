{"version":3,"file":"alyle-ui-select.js","sources":["ng://@alyle/ui/select/select.ts","ng://@alyle/ui/select/select.module.ts"],"sourcesContent":["import {\n  animate,\n  keyframes,\n  style,\n  transition,\n  trigger\n  } from '@angular/animations';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  DoCheck,\n  ElementRef,\n  forwardRef,\n  Host,\n  HostListener,\n  Input,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Renderer2,\n  Self,\n  TemplateRef,\n  ViewChild,\n  NgZone,\n  OnChanges,\n  QueryList,\n  ContentChildren,\n  AfterViewInit,\n  AfterContentInit\n  } from '@angular/core';\nimport {\n  ControlValueAccessor,\n  FormGroupDirective,\n  NgControl,\n  NgForm\n  } from '@angular/forms';\nimport { LyField, LyFieldControlBase, STYLES as FIELD_STYLES } from '@alyle/ui/field';\nimport {\n  LyOverlay,\n  LySelectionModel,\n  LyTheme2,\n  OverlayFactory,\n  shadowBuilder,\n  ThemeVariables,\n  toBoolean,\n  Positioning,\n  CanDisableCtor,\n  mixinStyleUpdater,\n  mixinBg,\n  mixinColor,\n  mixinRaised,\n  mixinDisabled,\n  mixinOutlined,\n  mixinElevation,\n  mixinShadowColor,\n  mixinDisableRipple,\n  mixinTabIndex,\n  LyRippleService,\n  XPosition,\n  YPosition,\n  Dir\n  } from '@alyle/ui';\nimport { Subject } from 'rxjs';\nimport { take, takeUntil } from 'rxjs/operators';\n\nconst DEFAULT_DISABLE_RIPPLE = false;\nconst STYLE_PRIORITY = -2;\nexport const STYLES = (theme: ThemeVariables) => ({\n  $priority: STYLE_PRIORITY,\n  root: {\n    display: 'block',\n    paddingAfter: '1em',\n    minWidth: '3em',\n    minHeight: '1.5em',\n    '-webkit-tap-highlight-color': 'transparent',\n    '&': theme.select ? theme.select.root : null\n  },\n  container: {\n    background: theme.background.primary.default,\n    borderRadius: '2px',\n    boxShadow: shadowBuilder(4),\n    display: 'block',\n    transformOrigin: 'inherit',\n    pointerEvents: 'all',\n    overflow: 'auto',\n    maxHeight: '256px'\n  },\n  valueText: {\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap'\n  },\n  option: {\n    display: 'flex',\n    fontFamily: theme.typography.fontFamily,\n    color: theme.text.default,\n    '-webkit-tap-highlight-color': 'transparent',\n    backgroundColor: `rgba(0, 0, 0, 0)`,\n    border: 0,\n    padding: '0 1em',\n    margin: 0,\n    outline: 'none',\n    boxSizing: 'border-box',\n    position: 'relative',\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    alignContent: 'center',\n    '-webkit-user-select': 'none',\n    '-moz-user-select': 'none',\n    '-ms-user-select': 'none',\n    userSelect: 'none',\n    lineHeight: '3em',\n    height: '3em',\n    cursor: 'pointer'\n  },\n  optionText: {\n    'ly-checkbox ~ &': {\n      marginBefore: '-16px'\n    }\n  },\n  content: {\n    padding: 0,\n    display: 'flex',\n    justifyContent: 'inherit',\n    alignItems: 'inherit',\n    alignContent: 'inherit',\n    width: '100%',\n    height: '100%',\n    boxSizing: 'border-box'\n  }\n});\n\n/** @docs-private */\nconst ANIMATIONS = [\n  trigger('selectEnter', [\n    transition('void => in', [\n      animate('125ms cubic-bezier(0, 0, 0.2, 1)', keyframes([\n        style({\n          opacity: 0,\n          transform: 'scaleY(0.9)'\n        }),\n        style({\n          opacity: 1,\n          transform: 'scaleY(1)'\n        })\n      ]))\n    ]),\n  ]),\n  trigger('selectLeave', [\n    transition('* => void', animate('100ms 25ms linear', style({ opacity: 0 })))\n  ])\n];\n\n/** @docs-private */\nexport class LySelectBase { }\n/** @docs-private */\nexport const LySelectMixinBase = mixinTabIndex(LySelectBase as CanDisableCtor);\n\n@Component({\n  selector: 'ly-select',\n  templateUrl: 'select.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  exportAs: 'lySelect',\n  host: {\n    '[attr.tabindex]': 'tabIndex'\n  },\n  animations: [...ANIMATIONS],\n  inputs: ['tabIndex'],\n  providers: [\n    { provide: LyFieldControlBase, useExisting: LySelect }\n  ]\n})\nexport class LySelect\n    extends LySelectMixinBase\n    implements ControlValueAccessor, LyFieldControlBase, OnInit, DoCheck, AfterContentInit, AfterViewInit, OnDestroy {\n  /** @docs-private */\n  readonly classes = this._theme.addStyleSheet(STYLES);\n  /** @internal */\n  _selectionModel: LySelectionModel<LyOption>;\n  /** @internal */\n  _value: any;\n  private _overlayRef: OverlayFactory | null;\n  protected _disabled = false;\n  protected _required = false;\n  protected _placeholder: string;\n  readonly stateChanges: Subject<void> = new Subject<void>();\n  private _hasDisabledClass?: boolean;\n  private _errorClass?: string;\n  private _form: NgForm | FormGroupDirective | null = this._parentForm || this._parentFormGroup;\n  private _multiple: boolean;\n  private _opened: boolean;\n  private _valueKey: (opt: unknown) => unknown = same;\n  private _valueKeyFn: (opt: LyOption) => unknown = getValue;\n  _focused: boolean = false;\n  errorState: boolean = false;\n  private _cursorClass: string;\n\n  /** Emits whenever the component is destroyed. */\n  private readonly _destroy = new Subject<void>();\n\n  @ViewChild(TemplateRef, { static: false }) templateRef: TemplateRef<any>;\n  @ViewChild('valueText', { static: false }) valueTextDivRef: ElementRef<HTMLDivElement>;\n  /** @internal */\n  @ViewChild(forwardRef(() => LyOption), { static: false }) _options: QueryList<LyOption>;\n  @ContentChildren(forwardRef(() => LyOption), { descendants: true }) options: QueryList<LyOption>;\n\n  /**\n   * The registered callback function called when a change event occurs on the input element.\n   */\n  onChange = (_: any) => {};\n\n  /**\n   * The registered callback function called when a blur event occurs on the input element.\n   */\n  onTouched = () => {};\n\n  @HostListener('blur') _onBlur() {\n    if (this._focused !== false && !this._opened) {\n      this._focused = false;\n      this.stateChanges.next();\n    }\n  }\n  @HostListener('focus') _onFocus() {\n    if (this._focused !== true && !this.disabled) {\n      this._focused = true;\n      this.stateChanges.next();\n    }\n  }\n\n  /** @internal */\n  _endAnimation(e) {\n    if (e.toState === 'void') {\n      if (this._overlayRef) {\n        this._overlayRef.remove();\n        this._overlayRef = null;\n      }\n    }\n  }\n\n  /** @docs-private */\n  @Input()\n  set value(val) {\n    if (val !== this.value && this._selectionModel) {\n      this._value = val;\n      this.writeValue(val);\n      if (this.options) {\n        if (this.multiple) {\n          if (Array.isArray(this.value)) {\n            const values: LyOption[] = [];\n            this.options.forEach(opt => {\n              if (this.value.some(_ => this._valueKey(_) === this._valueKeyFn(opt))) {\n                values.push(opt);\n              }\n            });\n\n            if (values.length) {\n              const beforeSelecteds = this._selectionModel.selected;\n              // reset\n              this._selectionModel.clear();\n              // select values\n              values.forEach(opt => opt.select());\n\n              // deselect old values\n              if (beforeSelecteds.length) {\n                beforeSelecteds.forEach(opt => {\n                  opt.ngOnChanges();\n                  opt._cd.markForCheck();\n                });\n              }\n            }\n          }\n        } else {\n          // reset\n          const selecteds = this._selectionModel.selected;\n          this._selectionModel.clear();\n          if (selecteds.length) {\n            selecteds.forEach(opt => {\n              opt.ngOnChanges();\n              opt._cd.markForCheck();\n            });\n          }\n\n          const selected = this.options.find(opt => this._valueKeyFn(opt) === this.valueKey(this.value));\n          if (selected) {\n            selected.select();\n          }\n        }\n      }\n      this.stateChanges.next();\n      this._cd.markForCheck();\n    }\n  }\n  get value() {\n    return this._value;\n  }\n\n  /** Whether the input is disabled. */\n  @Input()\n  set disabled(val: boolean) {\n    if (val !== this._disabled) {\n      this._disabled = toBoolean(val);\n      if (this._field) {\n        if (!val && this._hasDisabledClass) {\n          this._renderer.removeClass(this._field._getHostElement(), this._field.classes.disabled);\n          if (this._cursorClass) {\n            this._renderer.addClass(this._field._getHostElement(), this._cursorClass);\n          }\n          this._hasDisabledClass = undefined;\n        } else if (val) {\n          this._renderer.addClass(this._field._getHostElement(), this._field.classes.disabled);\n          if (this._cursorClass) {\n            this._renderer.removeClass(this._field._getHostElement(), this._cursorClass);\n          }\n          this._hasDisabledClass = true;\n        }\n      }\n    }\n  }\n  get disabled(): boolean {\n    if (this.ngControl && this.ngControl.disabled !== null) {\n      return this.ngControl.disabled;\n    }\n    return this._disabled;\n  }\n\n  @Input()\n  set required(value: boolean) {\n    this._required = toBoolean(value);\n  }\n  get required(): boolean { return this._required; }\n\n  @Input()\n  set multiple(value: boolean) {\n    this._multiple = toBoolean(value);\n  }\n  get multiple(): boolean { return this._multiple; }\n\n  @Input()\n  set valueKey(fn: (opt: unknown) => unknown) {\n    this._valueKeyFn = (opt: LyOption) => fn(getValue(opt));\n    this._valueKey = fn;\n  }\n  get valueKey(): (opt: unknown) => unknown { return this._valueKey; }\n\n  @Input()\n  set placeholder(val: string) {\n    this._placeholder = val;\n  }\n  get placeholder(): string { return this._placeholder; }\n\n  get focused() {\n    return this._focused;\n  }\n\n  get empty() {\n    const val = this.value;\n    return this.multiple ? this._selectionModel.isEmpty() : val == null || this._selectionModel.isEmpty();\n  }\n\n  get floatingLabel() {\n    return this._opened ? true : !this.empty;\n  }\n\n  /** The value displayed in the trigger. */\n  get triggerValue(): string {\n    if (this._multiple) {\n      const selectedOptions = this._selectionModel.selected.map(option => option.viewValue);\n\n      if (this._theme.variables.direction === Dir.rtl) {\n        selectedOptions.reverse();\n      }\n\n      return selectedOptions.join(', ');\n    }\n\n    return this._selectionModel.selected[0].viewValue;\n  }\n\n  /** Current selecteds */\n  get selected() {\n    const selected = this._selectionModel.selected;\n    return this.multiple ? selected.map(option => option.value) : selected[0].value;\n  }\n\n  constructor(private _theme: LyTheme2,\n              private _renderer: Renderer2,\n              private _el: ElementRef,\n              private _overlay: LyOverlay,\n              /** @internal */\n              @Optional() public _field: LyField,\n              /** @internal */\n              public _cd: ChangeDetectorRef,\n              private _ngZone: NgZone,\n              /** @docs-private */\n              @Optional() @Self() public ngControl: NgControl,\n              @Optional() private _parentForm: NgForm,\n              @Optional() private _parentFormGroup: FormGroupDirective) {\n    super();\n    if (this.ngControl) {\n      // Note: we provide the value accessor through here, instead of\n      // the `providers` to avoid running into a circular import.\n      this.ngControl.valueAccessor = this;\n    }\n\n    this._cursorClass = this._theme.addStyle('lyField.select', {\n      '& {container}': {\n        cursor: 'pointer'\n      }\n    }, this._field._getHostElement(), null, STYLE_PRIORITY, FIELD_STYLES);\n\n  }\n\n  ngOnInit() {\n    this._selectionModel = new LySelectionModel<LyOption>({\n      multiple: this.multiple ? true : undefined,\n      getKey: this._valueKeyFn\n    });\n    const ngControl = this.ngControl;\n\n    // update styles on disabled\n    if (ngControl && ngControl.statusChanges) {\n      ngControl.statusChanges.pipe(takeUntil(this._destroy)).subscribe(() => {\n        this.disabled = !!ngControl.disabled;\n      });\n    }\n\n    // apply class {selectArrow} to `<select>`\n    this._renderer.addClass(this._field._getHostElement(), this._field.classes.selectArrow);\n\n    // apply default styles\n    this._renderer.addClass(this._el.nativeElement, this._field.classes.inputNative);\n    this._renderer.addClass(this._el.nativeElement, this.classes.root);\n  }\n\n  ngDoCheck() {\n    const oldVal = this.errorState;\n    const newVal = !!(this.ngControl && this.ngControl.invalid && (this.ngControl.touched || (this._form && this._form.submitted)));\n    if (newVal !== oldVal) {\n      this.errorState = newVal;\n      if (this._field) {\n        const errorClass = this._field.classes.errorState;\n        if (newVal) {\n          this._renderer.addClass(this._field._getHostElement(), errorClass);\n          this._errorClass = errorClass;\n        } else if (this._errorClass) {\n          this._renderer.removeClass(this._field._getHostElement(), errorClass);\n          this._errorClass = undefined;\n        }\n        this.stateChanges.next();\n      }\n    }\n  }\n\n  ngAfterContentInit() {\n    Promise.resolve().then(() => {\n      this.value = this.ngControl ? this.ngControl.value : this._value;\n      this.stateChanges.next();\n      this._cd.markForCheck();\n    });\n  }\n\n  ngAfterViewInit() {\n    if (this.options) {\n      this.options.changes.pipe(\n        takeUntil(this._destroy)\n      ).subscribe(() => {\n\n        const selecteds: LyOption[] = [];\n        this.options.forEach(option => {\n          if (option.isSelected) {\n            selecteds.push(option);\n          }\n        });\n\n        // this only update the refs\n        if (selecteds.length) {\n          this._selectionModel.clear();\n          selecteds.forEach(option => this._selectionModel.select(option));\n        }\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    this._destroy.next();\n    this._destroy.complete();\n    this.stateChanges.complete();\n    if (this._overlayRef) {\n      this._overlayRef.destroy();\n    }\n  }\n\n  open() {\n    if (this.disabled) {\n      return;\n    }\n    // this._updateSelectedClass();\n    this._opened = true;\n    this.stateChanges.next();\n    this._overlayRef = this._overlay.create(this.templateRef, null, {\n      styles: {\n        top: 0,\n        left: 0,\n        pointerEvents: null\n      },\n      fnDestroy: this.close.bind(this),\n      onResizeScroll: this._updatePlacement.bind(this)\n    });\n    this._ngZone.onStable.pipe(\n      take(1)\n    ).subscribe(() => this._updatePlacement());\n  }\n\n  close() {\n    if (this._overlayRef) {\n      this.onTouched();\n      this._overlayRef.detach();\n      this._opened = false;\n      this._getHostElement().focus();\n      this.stateChanges.next();\n    }\n  }\n\n  /** @docs-private */\n  onContainerClick() {\n    this.open();\n    this._getHostElement().focus();\n  }\n\n  /** Focuses the input. */\n  focus(): void { this._getHostElement().focus(); }\n\n  _getHostElement() {\n    return this._el.nativeElement;\n  }\n\n  /**\n   * Sets the \"value\" property on the input element.\n   *\n   * @param value The checked value\n   */\n  writeValue(value: any): void {\n    if (this.options) {\n      this.value = value;\n\n    }\n  }\n\n  /**\n   * Registers a function called when the control value changes.\n   *\n   * @param fn The callback function\n   */\n  registerOnChange(fn: (value: any) => any): void {\n    this.onChange = (_valueString: string) => {\n      fn(this.value);\n    };\n  }\n\n  /**\n   * Registers a function called when the control is touched.\n   *\n   * @param fn The callback function\n   */\n  registerOnTouched(fn: () => any): void { this.onTouched = fn; }\n\n  /**\n   * Disables the select. Part of the ControlValueAccessor interface required\n   * to integrate with Angular's core forms API.\n   *\n   * @param isDisabled Sets whether the component is disabled.\n   */\n  setDisabledState(isDisabled: boolean) {\n    this.disabled = isDisabled;\n    this._cd.markForCheck();\n    this.stateChanges.next();\n  }\n\n  private _updatePlacement() {\n    const el = this._overlayRef!.containerElement as HTMLElement;\n    const container = el.querySelector('div')!;\n    const { nativeElement } = this.valueTextDivRef;\n    let panelWidth: number;\n\n    if (this.multiple) {\n      panelWidth = nativeElement.offsetWidth + 32 * 2;\n    } else {\n      panelWidth = nativeElement.offsetWidth + 32;\n    }\n\n\n    // reset height & width\n    this._renderer.setStyle(container, 'height', 'initial');\n    this._renderer.setStyle(container, 'width', `${panelWidth}px`);\n\n\n    const selectedElement: HTMLElement = this._selectionModel.isEmpty()\n        ? el.querySelector('ly-option')!\n        : this._selectionModel.selected[0]._getHostElement();\n\n    const offset = {\n      y: -(nativeElement.offsetHeight / 2 + selectedElement.offsetTop + selectedElement.offsetHeight / 2),\n      x: -16\n    };\n\n    // scroll to selected option\n    if (container.scrollHeight !== container.offsetHeight) {\n      container.scrollTop = selectedElement.offsetTop;\n      if (container.scrollTop === selectedElement.offsetTop) {\n        container.scrollTop = container.scrollTop - (container.offsetHeight / 2) + selectedElement.offsetHeight / 2;\n      } else {\n        container.scrollTop = container.scrollTop - (container.offsetHeight / 2 - (selectedElement.offsetTop - container.scrollTop)) + selectedElement.offsetHeight / 2;\n      }\n      offset.y = container.scrollTop + offset.y;\n    }\n\n    if (this.multiple) {\n      offset.x -= 24;\n    }\n\n    const position = new Positioning(\n      YPosition.below,\n      XPosition.after,\n      null as any,\n      nativeElement,\n      el,\n      this._theme.variables,\n      offset,\n      false\n    );\n\n    // set position\n    this._renderer.setStyle(el, 'transform', `translate3d(${position.x}px, ${position.y}px, 0)`);\n    this._renderer.setStyle(el, 'transform-origin', `${position.ox} ${position.oy} 0`);\n\n    // set height & width\n    this._renderer.setStyle(container, 'height', position.height);\n    const width = position.width === 'initial'\n          ? `${panelWidth}px`\n          : position.width;\n    this._renderer.setStyle(container, 'width', width);\n  }\n\n}\n\n/** @docs-private */\nexport class LyOptionBase {\n  constructor(\n    public _theme: LyTheme2,\n    public _ngZone: NgZone\n  ) { }\n}\n\n/** @docs-private */\nexport const LyOptionMixinBase = mixinStyleUpdater(\n  mixinBg(\n      mixinColor(\n        mixinRaised(\n          mixinDisabled(\n            mixinOutlined(\n              mixinElevation(\n                mixinShadowColor(\n                  mixinDisableRipple(LyOptionBase)))))))));\n\n@Component({\n  selector: 'ly-option',\n  templateUrl: './option.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: [\n    'bg',\n    'color',\n    'raised',\n    'disabled',\n    'outlined',\n    'elevation',\n    'shadowColor',\n    'disableRipple'\n  ]\n})\nexport class LyOption extends LyOptionMixinBase implements OnInit, OnChanges {\n  /** @docs-private */\n  readonly classes = this._theme.addStyleSheet(STYLES, STYLE_PRIORITY);\n  private _value: any;\n\n  @ViewChild('rippleContainer', { static: false }) _rippleContainer: ElementRef;\n\n  @HostListener('click') _onClick() {\n    if (!this._select.multiple) {\n      this.select();\n      this._select.close();\n    } else {\n      this.toggle();\n    }\n    this._select.onChange(this._select._value);\n  }\n\n  /**\n   * Tracks simple string values bound to the option element.\n   */\n  @Input('value')\n  set value(value: any) {\n    this._value = value;\n  }\n  get value() {\n    return this._value;\n  }\n\n  /** The displayed value of the option. */\n  get viewValue(): string {\n    return ((this._getHostElement() as Element).textContent || '').trim();\n  }\n\n  /** The color of Select */\n  get _color() {\n    return this._select._selectionModel.isSelected(this) ? this._select._field.color : '';\n  }\n\n  get isSelected(): boolean {\n    return this._select._selectionModel.isSelected(this);\n  }\n\n  constructor(/** @internal */\n              @Host() public _select: LySelect,\n              private _el: ElementRef,\n              /** @internal */\n              public _rippleService: LyRippleService,\n              _renderer: Renderer2,\n              _theme: LyTheme2,\n              /** @internal */\n              public _cd: ChangeDetectorRef,\n              _ngZone: NgZone) {\n    super(_theme, _ngZone);\n    _renderer.addClass(_el.nativeElement, this.classes.option);\n    this.setAutoContrast();\n    this._triggerElement = _el;\n  }\n\n  ngOnInit() {\n    if (this.disableRipple == null) {\n      this.disableRipple = DEFAULT_DISABLE_RIPPLE;\n    }\n  }\n\n  ngOnChanges() {\n    this.updateStyle(this._el);\n  }\n\n  select() {\n    if (this.disabled) {\n      return;\n    }\n    if (this._select.multiple) {\n      const beforeSelecteds = this._select._selectionModel.selected;\n      this._select._selectionModel.select(this);\n      this._select._value = this._select._selectionModel.selected.map(opt => opt.value);\n      this.updateStyle(this._el);\n      if (beforeSelecteds.length) {\n        beforeSelecteds.forEach(opt => opt.ngOnChanges());\n      }\n    } else {\n      if (!this._select._selectionModel.isSelected(this)) {\n        const beforeSelecteds = this._select._selectionModel.selected;\n        this._select._selectionModel.select(this);\n        this._select._value = this._value;\n        this.updateStyle(this._el);\n        if (beforeSelecteds.length) {\n          beforeSelecteds.forEach(opt => opt.ngOnChanges());\n        }\n      }\n    }\n    this._select._cd.markForCheck();\n    this._select.stateChanges.next();\n    this._cd.markForCheck();\n  }\n\n  toggle() {\n    if (this.disabled) {\n      return;\n    }\n    if (this._select.multiple) {\n      const beforeSelecteds = this._select._selectionModel.selected;\n      this._select._selectionModel.toggle(this);\n      this._select._value = this._select._selectionModel.selected.map(opt => opt.value);\n      this.updateStyle(this._el);\n      if (beforeSelecteds.length) {\n        beforeSelecteds.forEach(opt => opt.ngOnChanges());\n      }\n    } else {\n      if (!this._select._selectionModel.isSelected(this)) {\n        const beforeSelecteds = this._select._selectionModel.selected;\n        this._select._selectionModel.toggle(this);\n        this._select._value = this._value;\n        this.updateStyle(this._el);\n        if (beforeSelecteds.length) {\n          beforeSelecteds.forEach(opt => opt.ngOnChanges());\n        }\n      }\n    }\n    this._select._cd.markForCheck();\n    this._select.stateChanges.next();\n    this._cd.markForCheck();\n  }\n\n  /** @internal */\n  _getHostElement() {\n    return this._el.nativeElement;\n  }\n\n}\n\nfunction same(o: unknown): unknown {\n  return o;\n}\nfunction getValue(o: LyOption): unknown {\n  return o.value;\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LyCommonModule, LyOverlayModule } from '@alyle/ui';\nimport { LyCheckboxModule } from '@alyle/ui/checkbox';\n\nimport { LySelect, LyOption } from './select';\n\n@NgModule({\n  declarations: [LySelect, LyOption],\n  imports: [\n    CommonModule,\n    LyCommonModule,\n    LyCheckboxModule,\n    LyOverlayModule\n  ],\n  exports: [LySelect, LyOption, LyCommonModule]\n})\nexport class LySelectModule { }\n"],"names":["tslib_1.__extends","FIELD_STYLES","tslib_1.__decorate","tslib_1.__param"],"mappings":"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"}