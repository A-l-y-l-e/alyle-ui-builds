{"version":3,"file":"alyle-ui-avatar.js","sources":["ng://@alyle/ui/avatar/avatar.ts","ng://@alyle/ui/avatar/avatar.module.ts","ng://@alyle/ui/avatar/alyle-ui-avatar.ts"],"sourcesContent":["import { Directive, Input, ElementRef, OnInit, OnChanges, Renderer2, InjectionToken, Inject, Optional } from '@angular/core';\nimport {\n  LyTheme2,\n  mixinBg,\n  mixinColor,\n  mixinElevation,\n  mixinOutlined,\n  mixinRaised,\n  mixinShadowColor,\n  mixinStyleUpdater,\n  ThemeVariables,\n  styleTemplateToString,\n  StyleTemplate,\n  LyHostClass,\n  StyleRenderer } from '@alyle/ui';\n\nexport interface LyAvatarTheme {\n  /** Styles for Avatar Component */\n  root?: () => StyleTemplate;\n}\n\nexport interface LyAvatarDefaultOptions {\n  size?: number;\n  bg?: string;\n}\n\nexport interface LyAvatarVariables {\n  avatar?: LyAvatarTheme;\n}\n\n\nconst STYLE_PRIORITY = -2;\nconst DEFAULT_SIZE = 40;\nconst DEFAULT_BG = 'action';\n\nexport const LY_AVATAR_DEFAULT_OPTIONS =\n    new InjectionToken<LyAvatarDefaultOptions>('LY_AVATAR_DEFAULT_OPTIONS');\n\nconst STYLES = (theme: ThemeVariables & LyAvatarVariables) => {\n  return {\n    $name: LyAvatar.Ð¸,\n    $priority: STYLE_PRIORITY,\n    root: (className: string) => `${className}{display:inline-flex;position:relative;font-size:1.25em;flex-shrink:0;align-items:center;user-select:none;border-radius:50%;text-align:center;justify-content:center;}${styleTemplateToString((\n          (theme.avatar\n            && theme.avatar.root\n            && theme.avatar.root())), `${className}`)}${className}>img{width:100%;height:100%;border-radius:50%;display:block;object-fit:cover;-webkit-background-clip:padding-box;}`\n  };\n};\n\n/** @docs-private */\nexport class LyAvatarBase {\n  constructor(\n    public _theme: LyTheme2\n  ) { }\n}\n\n/** @docs-private */\nexport const LyAvatarMixinBase = mixinStyleUpdater(\n  mixinBg(\n    mixinColor(\n      mixinRaised(\n        mixinOutlined(\n          mixinElevation(\n            mixinShadowColor(LyAvatarBase)))))));\n\n@Directive({\n  selector: 'ly-avatar',\n  inputs: [\n    'bg',\n    'color',\n    'raised',\n    'outlined',\n    'elevation',\n    'shadowColor',\n  ],\n  providers: [\n    LyHostClass,\n    StyleRenderer\n  ]\n})\nexport class LyAvatar extends LyAvatarMixinBase implements OnChanges, OnInit {\n  /** @docs-private */\n  static readonly Ð¸ = 'LyAvatar';\n\n  /** @docs-private */\n  readonly classes = this._theme.renderStyleSheet(STYLES);\n  private _size: number;\n\n  /** Avatar size */\n  @Input()\n  set size(val: number) {\n    if (val !== this.size) {\n      this._size = val;\n      this[0x1] = this._styleRenderer.add(`${LyAvatar.Ð¸}-size-${val}`, () => (\n        (className: string) => `${className}{width:${val}px;height:${val}px;}`\n      ), STYLE_PRIORITY, this[0x1]);\n\n      // const newClass = this._theme.renderStyle(`${LyAvatar.Ð¸}.size:${val}`, () => (\n      //   (className: string) => ``\n      // ), STYLE_PRIORITY);\n      // this._sizeClass = this._hostClass.update(newClass, this._sizeClass);\n    }\n  }\n  get size() {\n    return this._size;\n  }\n  [0x1]: string;\n\n  constructor(\n    theme: LyTheme2,\n    renderer: Renderer2,\n    private _elementRef: ElementRef,\n    private _styleRenderer: StyleRenderer,\n    @Optional() @Inject(LY_AVATAR_DEFAULT_OPTIONS) private _defaults: LyAvatarDefaultOptions\n  ) {\n    super(theme);\n    this.setAutoContrast();\n    renderer.addClass(_elementRef.nativeElement, this.classes.root);\n  }\n\n  ngOnChanges() {\n    this.updateStyle(this._elementRef.nativeElement);\n  }\n\n  ngOnInit() {\n    if (!this.bg) {\n      this.bg = (this._defaults && this._defaults.bg) || DEFAULT_BG;\n      this.ngOnChanges();\n    }\n    if (!this.size) {\n      this.size = (this._defaults && this._defaults.size) || DEFAULT_SIZE;\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { LyCommonModule } from '@alyle/ui';\nimport { LyAvatar } from './avatar';\n\n@NgModule({\n  exports: [LyAvatar, LyCommonModule],\n  declarations: [LyAvatar]\n})\nexport class LyAvatarModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["tslib_1.__extends","tslib_1.__decorate","tslib_1.__param"],"mappings":"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"}