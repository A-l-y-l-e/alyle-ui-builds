{"version":3,"file":"alyle-ui-expansion.js","sources":["ng://@alyle/ui/expansion/accordion.ts","ng://@alyle/ui/expansion/expansion-animations.ts","ng://@alyle/ui/expansion/expansion-panel-content.ts","ng://@alyle/ui/expansion/expansion-panel.ts","ng://@alyle/ui/expansion/expansion-panel-header.ts","ng://@alyle/ui/expansion/expansion-panel-title.ts","ng://@alyle/ui/expansion/expansion-panel-description.ts","ng://@alyle/ui/expansion/expansion-panel-action-row.ts","ng://@alyle/ui/expansion/expansion.module.ts","ng://@alyle/ui/expansion/alyle-ui-expansion.ts"],"sourcesContent":["import { Directive, Input, ElementRef, OnInit, Renderer2 } from '@angular/core';\nimport {\n  toBoolean,\n  ThemeVariables,\n  LyTheme2,\n  getLyThemeVariableUndefinedError,\n  ThemeRef,\n  LyClasses,\n  StyleTemplate } from '@alyle/ui';\nimport { Subject } from 'rxjs';\n\nexport interface ExpansionConfig {\n  root?: (classes: LyClasses<typeof STYLES>) => StyleTemplate;\n  defaultConfig?: {\n    appearance?: keyof ExpansionConfig['appearance']\n  };\n  appearance: {\n    popOut: (classes: LyClasses<typeof STYLES>) => StyleTemplate\n  };\n}\nexport interface ExpansionVariables {\n  expansion?: ExpansionConfig;\n}\n\nconst STYLE_PRIORITY = -0.9;\n\nexport const STYLES = (theme: ThemeVariables & ExpansionVariables, ref: ThemeRef) => {\n\n  const classes = ref.selectorsOf(STYLES);\n  const { after } = theme;\n\n  return {\n    $priority: STYLE_PRIORITY,\n    $name: LyAccordion.Ð¸,\n    $global: ( ) => (className: string) => `${className} ${classes.panelTitle},${className} ${classes.panelDescription}{display:flex;margin-${after}:16px;}${className} ${classes.panel}:not(${classes.disabled}) ${classes.panelTitle}{color:${theme.text.default};}${className} ${classes.panel}:not(${classes.disabled}) ${classes.panelDescription}{color:${theme.text.secondary};}`,\n    root: (theme.expansion && theme.expansion.root) ? () => theme.expansion!.root!(classes) : null,\n    panel: ( ) => (className: string) => `${className}{display:block;overflow:hidden;position:relative;}${className}:not(${classes.disabled}) ${classes.panelHeader}{cursor:pointer;}`,\n    panelHeader: ( ) => (className: string) => `${className}{display:flex;position:relative;flex-direction:row;align-items:center;padding:0 24px;transition:height ${theme.animations.durations.entering}ms ${theme.animations.curves.standard};font-family:${theme.typography.fontFamily};font-size:${theme.pxToRem(15)};font-weight:400;}${classes.panel}:not(${classes.expanded}):not(${classes.disabled}) ${className}:hover{background:${theme.hover};}@media (hover: none){${classes.panel}:not(${classes.expanded}):not(${classes.disabled}) ${className}:hover{background:none;}}`,\n    panelHeaderContent: (className: string) => `${className}{display:flex;flex:1;flex-direction:row;align-items:center;overflow:hidden;}`,\n    panelContent: (className: string) => `${className}{display:flex;flex-direction:column;overflow:visible;}`,\n    panelBody: (className: string) => `${className}{visibility:hidden;padding:0 24px 16px;transition:visibility ${\n        theme.animations.durations.entering}ms ${\n        theme.animations.curves.standard};font-family:${theme.typography.fontFamily};font-size:${theme.pxToRem(14)};font-weight:400;line-height:${theme.pxToRem(20)};}`,\n    panelTitle: (className: string) => `${className}{flex-grow:1;}`,\n    panelDescription: (className: string) => `${className}{flex-grow:2;}`,\n    panelActionRow: (className: string) => `${className}{border-top:1px solid ${theme.divider};display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;}`,\n    expanded: ( ) => (className: string) => `${className} ${classes.panelBody}{visibility:visible;}`,\n    disabled: (className: string) => `${className}{color:${theme.disabled.contrast};}`\n  };\n};\n\n@Directive({\n  selector: 'ly-accordion',\n  exportAs: 'lyAccordion'\n})\nexport class LyAccordion implements OnInit {\n\n  /** @docs-private */\n  static readonly Ð¸ = 'LyAccordion';\n\n  /** @docs-private */\n  readonly classes = this._theme.addStyleSheet(STYLES);\n\n  private _appearance: string;\n  private _multiple: boolean;\n  private _hasToggle = true;\n  private _appearanceClass: string;\n\n  /** Stream that emits true/false when openAll/closeAll is triggered. */\n  readonly _openCloseAllActions: Subject<boolean> = new Subject<boolean>();\n\n  @Input()\n  set appearance(val: string) {\n    this._appearance = val;\n    this._appearanceClass = this._theme.addStyle(\n      `lyAccordion.appearance:${val}`,\n      (theme: ThemeVariables & ExpansionVariables, ref: ThemeRef) => {\n        if (!(theme.expansion!.appearance && theme.expansion!.appearance[val])) {\n          throw new Error(`Value expansion.appearance['${val}'] not found in ThemeVariables`);\n        }\n        const classes = ref.selectorsOf(STYLES);\n        return theme.expansion!.appearance[val]!(classes);\n      },\n      this._el.nativeElement,\n      this._appearanceClass,\n      STYLE_PRIORITY\n    );\n  }\n  get appearance() {\n    return this._appearance;\n  }\n\n  @Input()\n  set multiple(val: boolean) {\n    this._multiple = toBoolean(val);\n  }\n  get multiple() {\n    return this._multiple;\n  }\n\n  @Input()\n  set hasToggle(val: boolean) {\n    this._hasToggle = toBoolean(val);\n  }\n  get hasToggle() {\n    return this._hasToggle;\n  }\n\n  constructor(\n    private _theme: LyTheme2,\n    private _renderer: Renderer2,\n    private _el: ElementRef) { }\n\n  ngOnInit() {\n    const { expansion } = <ExpansionVariables>this._theme.variables;\n    if (expansion) {\n      this._renderer.addClass(this._el.nativeElement, this.classes.root);\n\n      // Apply default config\n      if (expansion.defaultConfig && expansion.defaultConfig.appearance) {\n        if (this.appearance == null) {\n          this.appearance = expansion.defaultConfig.appearance;\n        }\n      }\n    } else {\n      throw getLyThemeVariableUndefinedError('expansion');\n    }\n  }\n\n  closeAll() {\n    this._openCloseAll(true);\n  }\n\n  openAll() {\n    this._openCloseAll(false);\n  }\n\n  private _openCloseAll(expanded: boolean): void {\n    if (this.multiple) {\n      this._openCloseAllActions.next(expanded);\n    }\n  }\n\n}\n","import { trigger, state, style, transition, animate } from '@angular/animations';\n\nexport const lyExpansionAnimations = {\n  contentExpansion: trigger('contentExpansion', [\n    state('collapsed, void', style({height: '0px', visibility: 'hidden'})),\n    state('expanded', style({height: '*', visibility: 'visible'})),\n    transition('expanded <=> collapsed, void => collapsed',\n      animate('{{panelAnimationTiming}}')),\n  ])\n};\n","import { Directive, TemplateRef } from '@angular/core';\n\n@Directive({\n  selector: 'ng-template[lyExpansionPanelContent]'\n})\nexport class LyExpansionPanelContent {\n  constructor(readonly _template: TemplateRef<any>) { }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChild,\n  ElementRef,\n  Inject,\n  Input,\n  Renderer2,\n  OnChanges,\n  OnInit,\n  OnDestroy,\n  TemplateRef,\n  Output,\n  EventEmitter,\n  AfterContentInit\n  } from '@angular/core';\nimport {\n  LyTheme2,\n  mixinBg,\n  mixinColor,\n  mixinElevation,\n  mixinShadowColor,\n  mixinStyleUpdater,\n  toBoolean\n  } from '@alyle/ui';\n\nimport { LyAccordion } from './accordion';\nimport { lyExpansionAnimations } from './expansion-animations';\nimport { LyExpansionPanelContent } from './expansion-panel-content';\nimport { Subscription, Subject } from 'rxjs';\nimport { startWith, filter, first, distinctUntilChanged } from 'rxjs/operators';\nimport { AnimationEvent } from '@angular/animations';\n\n/** LyExpansionPanel's states. */\nexport type LyExpansionPanelState = 'expanded' | 'collapsed';\n\n/** @docs-private */\nexport class LyExpansionPanelBase {\n  constructor(\n    public _theme: LyTheme2\n  ) { }\n}\n\n/** @docs-private */\nexport const LyButtonMixinBase = mixinStyleUpdater(\n  mixinBg(\n    mixinColor(\n      mixinElevation(\n        mixinShadowColor(LyExpansionPanelBase)))));\n\n@Component({\n  selector: 'ly-expansion-panel',\n  templateUrl: './expansion-panel.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  exportAs: 'lyExpansionPanel',\n  animations: [\n    lyExpansionAnimations.contentExpansion\n  ],\n  inputs: [\n    'bg',\n    'color',\n    'elevation',\n    'shadowColor'\n  ]\n})\nexport class LyExpansionPanel extends LyButtonMixinBase implements OnChanges, OnInit, AfterContentInit, OnDestroy {\n\n  /** @docs-private */\n  readonly classes = this._accordion.classes;\n\n  readonly _panelAnimationTiming = `${\n    this._theme.variables.animations.durations.entering\n  }ms ${\n    this._theme.variables.animations.curves.standard\n  }`;\n\n  /** Subscription to openAll/closeAll events. */\n  private _openCloseAllSubscription = Subscription.EMPTY;\n\n  private _disabled: boolean;\n  private _expanded: boolean;\n  private _hasToggle = !!this._accordion.hasToggle;\n\n  _lazyContentRef: TemplateRef<any>;\n\n  /** Content that will be rendered lazily. */\n  @ContentChild(LyExpansionPanelContent, { static: false }) readonly _lazyContent: LyExpansionPanelContent;\n\n  /** Event emitted every time the LyExpansionPanel is closed. */\n  @Output() closed: EventEmitter<void> = new EventEmitter<void>();\n\n  /** Event emitted every time the LyExpansionPanel is opened. */\n  @Output() opened: EventEmitter<void> = new EventEmitter<void>();\n\n  /** An event emitted after the body's collapse animation happens. */\n  @Output() afterCollapse: EventEmitter<void> = new EventEmitter<void>();\n\n  /** An event emitted after the body's expansion animation happens. */\n  @Output() afterExpand: EventEmitter<void> = new EventEmitter<void>();\n\n  /** Event emitted when the LyExpansionPanel is destroyed. */\n  @Output() destroyed: EventEmitter<void> = new EventEmitter<void>();\n\n  /** Stream of body animation done events. */\n  _bodyAnimationDone = new Subject<AnimationEvent>();\n\n  @Input()\n  set disabled(val: boolean) {\n    const newVal = toBoolean(val);\n\n    if (newVal !== this.disabled) {\n      this._disabled = newVal;\n      if (newVal) {\n        this._renderer.addClass(this._el.nativeElement, this._accordion.classes.disabled);\n      } else {\n        this._renderer.removeClass(this._el.nativeElement, this._accordion.classes.disabled);\n      }\n    }\n  }\n  get disabled() {\n    return this._disabled;\n  }\n\n  @Input()\n  set expanded(val: boolean) {\n    const newVal = toBoolean(val);\n\n    if (newVal !== this.expanded && !this.disabled) {\n\n      // unselect other panels\n      if (newVal && !this._accordion.multiple) {\n        this._accordion._openCloseAllActions.next(false);\n      }\n      this._expanded = newVal;\n      if (newVal) {\n        this._renderer.addClass(this._el.nativeElement, this._accordion.classes.expanded);\n        this.opened.emit();\n      } else {\n        this._renderer.removeClass(this._el.nativeElement, this._accordion.classes.expanded);\n        this.closed.emit();\n      }\n      this._cd.markForCheck();\n    }\n  }\n  get expanded() {\n    return this._expanded;\n  }\n\n  @Input()\n  set hasToggle(val: boolean) {\n    this._hasToggle = toBoolean(val);\n  }\n  get hasToggle() {\n    return this._hasToggle == null ? this._accordion.hasToggle : this._hasToggle;\n  }\n\n  constructor(\n    private _el: ElementRef,\n    private _renderer: Renderer2,\n    private _cd: ChangeDetectorRef,\n    _theme: LyTheme2,\n    @Inject(LyAccordion) private _accordion: LyAccordion\n  ) {\n    super(_theme);\n    _renderer.addClass(_el.nativeElement, this._accordion.classes.panel);\n    this._openCloseAllSubscription = this._subscribeToOpenCloseAllActions();\n\n    this._bodyAnimationDone.pipe(distinctUntilChanged((x, y) => {\n      return x.fromState === y.fromState && x.toState === y.toState;\n    })).subscribe(event => {\n      if (event.fromState !== 'void') {\n        if (event.toState === 'expanded') {\n          this.afterExpand.emit();\n        } else if (event.toState === 'collapsed') {\n          this.afterCollapse.emit();\n        }\n      }\n    });\n  }\n\n  ngOnChanges() {\n    this.updateStyle(this._el);\n  }\n\n  ngOnInit() {\n\n    let requireUpdate: boolean = false;\n\n    if (this.bg == null) {\n      this.bg = 'paper';\n      requireUpdate = true;\n    }\n    if (this.color == null) {\n      this.color = 'text';\n      requireUpdate = true;\n    }\n    if (this.elevation == null) {\n      this.elevation = 2;\n      requireUpdate = true;\n    }\n\n    if (requireUpdate) {\n      this.ngOnChanges();\n    }\n  }\n\n  ngAfterContentInit() {\n    if (this._lazyContent) {\n      this.opened.pipe(\n        startWith<void>(null!),\n        filter(() => !!this.expanded && !this._lazyContentRef),\n        first()\n      ).subscribe(() => this._lazyContentRef = this._lazyContent._template);\n    }\n  }\n\n  ngOnDestroy() {\n    this._openCloseAllSubscription.unsubscribe();\n  }\n\n  close() {\n    this.expanded = false;\n  }\n\n  open() {\n    this.expanded = true;\n  }\n\n  toggle() {\n    this.expanded = !this.expanded;\n  }\n\n  /** Gets the expanded state string. */\n  _getExpandedState(): LyExpansionPanelState {\n    return this.expanded ? 'expanded' : 'collapsed';\n  }\n\n  private _subscribeToOpenCloseAllActions(): Subscription {\n    return this._accordion._openCloseAllActions.subscribe(expanded => {\n      this.expanded = expanded;\n    });\n  }\n\n}\n","import { Component, ElementRef, Renderer2, Inject } from '@angular/core';\nimport { LyAccordion } from './accordion';\nimport { LyExpansionPanel } from './expansion-panel';\n\n@Component({\n  selector: 'ly-expansion-panel-header',\n  templateUrl: 'expansion-panel-header.html',\n  host: {\n    '(click)': '_expansionPanel.toggle()'\n  }\n})\nexport class LyExpansionPanelHeader {\n  /** @docs-private */\n  readonly classes = this._accordion.classes;\n  constructor(\n    el: ElementRef,\n    renderer: Renderer2,\n    @Inject(LyAccordion) readonly _accordion: LyAccordion,\n    @Inject(LyExpansionPanel) readonly _expansionPanel: LyExpansionPanel\n  ) {\n    renderer.addClass(el.nativeElement, this._accordion.classes.panelHeader);\n  }\n\n}\n","import { Directive, Inject, ElementRef, Renderer2 } from '@angular/core';\nimport { LyAccordion } from './accordion';\n\n@Directive({\n  selector: 'ly-panel-title'\n})\nexport class LyExpansionPanelTitle {\n  constructor(\n    el: ElementRef,\n    renderer: Renderer2,\n    @Inject(LyAccordion) accordion: LyAccordion\n  ) {\n    renderer.addClass(el.nativeElement, accordion.classes.panelTitle);\n  }\n}\n","import { Directive, Inject, ElementRef, Renderer2 } from '@angular/core';\nimport { LyAccordion } from './accordion';\n\n@Directive({\n  selector: 'ly-panel-description'\n})\nexport class LyExpansionPanelDescription {\n  constructor(\n    el: ElementRef,\n    renderer: Renderer2,\n    @Inject(LyAccordion) accordion: LyAccordion\n  ) {\n    renderer.addClass(el.nativeElement, accordion.classes.panelDescription);\n  }\n}\n","import { Directive, Inject, ElementRef, Renderer2 } from '@angular/core';\nimport { LyAccordion } from './accordion';\n\n@Directive({\n  selector: 'ly-action-row'\n})\nexport class LyExpansionPanelAction {\n  constructor(\n    el: ElementRef,\n    renderer: Renderer2,\n    @Inject(LyAccordion) accordion: LyAccordion\n  ) {\n    renderer.addClass(el.nativeElement, accordion.classes.panelActionRow);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgTranscludeModule, LyExpansionIconModule } from '@alyle/ui';\n\nimport { LyAccordion } from './accordion';\nimport { LyExpansionPanel } from './expansion-panel';\nimport { LyExpansionPanelHeader } from './expansion-panel-header';\nimport { LyExpansionPanelContent } from './expansion-panel-content';\nimport { LyExpansionPanelTitle } from './expansion-panel-title';\nimport { LyExpansionPanelDescription } from './expansion-panel-description';\nimport { LyExpansionPanelAction } from './expansion-panel-action-row';\n\n@NgModule({\n  declarations: [\n    LyAccordion,\n    LyExpansionPanel,\n    LyExpansionPanelHeader,\n    LyExpansionPanelContent,\n    LyExpansionPanelTitle,\n    LyExpansionPanelDescription,\n    LyExpansionPanelAction\n  ],\n  imports: [\n    CommonModule,\n    LyExpansionIconModule,\n    NgTranscludeModule\n  ],\n  exports: [\n    LyAccordion,\n    LyExpansionPanel,\n    LyExpansionPanelHeader,\n    LyExpansionPanelContent,\n    LyExpansionPanelTitle,\n    LyExpansionPanelDescription,\n    LyExpansionPanelAction\n  ]\n})\nexport class LyExpansionModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {lyExpansionAnimations as Éµa} from './expansion-animations';\nexport {LyExpansionPanelAction as Éµb} from './expansion-panel-action-row';"],"names":["tslib_1.__decorate","tslib_1.__extends","tslib_1.__param"],"mappings":"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"}