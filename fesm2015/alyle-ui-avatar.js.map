{"version":3,"file":"alyle-ui-avatar.js","sources":["ng://@alyle/ui/avatar/avatar.ts","ng://@alyle/ui/avatar/avatar.module.ts"],"sourcesContent":["import { Directive, Input, ElementRef, OnInit, OnChanges, Renderer2 } from '@angular/core';\nimport {\n  LyTheme2,\n  mixinBg,\n  mixinColor,\n  mixinElevation,\n  mixinOutlined,\n  mixinRaised,\n  mixinShadowColor,\n  mixinStyleUpdater,\n  ThemeVariables\n  } from '@alyle/ui';\n\nconst STYLE_PRIORITY = -2;\nconst DEFAULT_SIZE = 40;\nconst DEFAULT_BG = 'action';\nconst STYLES = (theme: ThemeVariables) => ({\n  $priority: STYLE_PRIORITY,\n  root: {\n    display: 'inline-flex',\n    position: 'relative',\n    fontSize: '1.25em',\n    flexShrink: 0,\n    alignItems: 'center',\n    userSelect: 'none',\n    borderRadius: '50%',\n    textAlign: 'center',\n    justifyContent: 'center',\n    '&>img': {\n      width: '100%',\n      height: '100%',\n      borderRadius: '50%',\n      display: 'block',\n      objectFit: 'cover',\n      '-webkit-background-clip': 'padding-box'\n    },\n    '&': theme.avatar ? theme.avatar.root : null\n  }\n});\n\n/** @docs-private */\nexport class LyAvatarBase {\n  constructor(\n    public _theme: LyTheme2\n  ) { }\n}\n\n/** @docs-private */\nexport const LyAvatarMixinBase = mixinStyleUpdater(\n  mixinBg(\n    mixinColor(\n      mixinRaised(\n        mixinOutlined(\n          mixinElevation(\n            mixinShadowColor(LyAvatarBase)))))));\n\n@Directive({\n  selector: 'ly-avatar',\n  inputs: [\n    'bg',\n    'color',\n    'raised',\n    'outlined',\n    'elevation',\n    'shadowColor',\n  ]\n})\nexport class LyAvatar extends LyAvatarMixinBase implements OnChanges, OnInit {\n  /** @docs-private */\n  readonly classes = this._theme.addStyleSheet(STYLES, STYLE_PRIORITY);\n  private _size: number;\n  private _sizeClass: string;\n  @Input()\n  set size(val: number) {\n    if (val !== this.size) {\n      this._size = val;\n      this._sizeClass = this._theme.addStyle(`lyAvatar.size:${val}`, {\n        width: `${val}px`,\n        height: `${val}px`,\n      }, this._elementRef.nativeElement, this._sizeClass, STYLE_PRIORITY);\n    }\n  }\n  get size() {\n    return this._size;\n  }\n  constructor(\n    theme: LyTheme2,\n    renderer: Renderer2,\n    private _elementRef: ElementRef\n  ) {\n    super(theme);\n    this.setAutoContrast();\n    renderer.addClass(_elementRef.nativeElement, this.classes.root);\n  }\n\n  ngOnChanges() {\n    this.updateStyle(this._elementRef.nativeElement);\n  }\n\n  ngOnInit() {\n    if (!this.bg) {\n      this.bg = DEFAULT_BG;\n      this.ngOnChanges();\n    }\n    if (!this.size) {\n      this.size = DEFAULT_SIZE;\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { LyCommonModule } from '@alyle/ui';\nimport { LyAvatar } from './avatar';\n\n@NgModule({\n  exports: [LyAvatar, LyCommonModule],\n  declarations: [LyAvatar]\n})\nexport class LyAvatarModule { }\n"],"names":["tslib_1.__decorate"],"mappings":"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"}