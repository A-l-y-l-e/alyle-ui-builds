{"version":3,"file":"alyle-ui-avatar.js","sources":["ng://@alyle/ui/avatar/avatar.ts","ng://@alyle/ui/avatar/avatar.module.ts","ng://@alyle/ui/avatar/alyle-ui-avatar.ts"],"sourcesContent":["import { Directive, Input, ElementRef, OnInit, OnChanges, Renderer2, InjectionToken, Inject, Optional } from '@angular/core';\nimport {\n  LyTheme2,\n  mixinBg,\n  mixinColor,\n  mixinElevation,\n  mixinOutlined,\n  mixinRaised,\n  mixinShadowColor,\n  mixinStyleUpdater,\n  ThemeVariables,\n  st2c,\n  StyleTemplate,\n  LyHostClass,\n  StyleRenderer } from '@alyle/ui';\n\nexport interface LyAvatarTheme {\n  /** Styles for Avatar Component */\n  root?: () => StyleTemplate;\n}\n\nexport interface LyAvatarDefaultOptions {\n  size?: number;\n  bg?: string;\n}\n\nexport interface LyAvatarVariables {\n  avatar?: LyAvatarTheme;\n}\n\n\nconst STYLE_PRIORITY = -2;\nconst DEFAULT_SIZE = 40;\nconst DEFAULT_BG = 'action';\n\nexport const LY_AVATAR_DEFAULT_OPTIONS =\n    new InjectionToken<LyAvatarDefaultOptions>('LY_AVATAR_DEFAULT_OPTIONS');\n\nexport const STYLES = (theme: ThemeVariables & LyAvatarVariables) => {\n  return {\n    $name: LyAvatar.Ð¸,\n    $priority: STYLE_PRIORITY,\n    root: (className: string) => `${className}{display:inline-flex;position:relative;font-size:1.25em;flex-shrink:0;align-items:center;user-select:none;border-radius:50%;text-align:center;justify-content:center;}${st2c((\n          (theme.avatar\n            && theme.avatar.root\n            && theme.avatar.root())), `${className}`)}${className}>img{width:100%;height:100%;border-radius:50%;display:block;object-fit:cover;-webkit-background-clip:padding-box;}`\n  };\n};\n\n/** @docs-private */\nexport class LyAvatarBase {\n  constructor(\n    public _theme: LyTheme2\n  ) { }\n}\n\n/** @docs-private */\nexport const LyAvatarMixinBase = mixinStyleUpdater(\n  mixinBg(\n    mixinColor(\n      mixinRaised(\n        mixinOutlined(\n          mixinElevation(\n            mixinShadowColor(LyAvatarBase)))))));\n\n@Directive({\n  selector: 'ly-avatar',\n  inputs: [\n    'bg',\n    'color',\n    'raised',\n    'outlined',\n    'elevation',\n    'shadowColor',\n  ],\n  providers: [\n    LyHostClass,\n    StyleRenderer\n  ]\n})\nexport class LyAvatar extends LyAvatarMixinBase implements OnChanges, OnInit {\n  /** @docs-private */\n  static readonly Ð¸ = 'LyAvatar';\n\n  /** @docs-private */\n  readonly classes = this._theme.renderStyleSheet(STYLES);\n  private _size: number;\n\n  /** Avatar size */\n  @Input()\n  set size(val: number) {\n    if (val !== this.size) {\n      this._size = val;\n      this[0x1] = this._styleRenderer.add(`${LyAvatar.Ð¸}-size-${val}`, () => (\n        (className: string) => `${className}{width:${val}px;height:${val}px;}`\n      ), STYLE_PRIORITY, this[0x1]);\n\n      // const newClass = this._theme.renderStyle(`${LyAvatar.Ð¸}.size:${val}`, () => (\n      //   (className: string) => ``\n      // ), STYLE_PRIORITY);\n      // this._sizeClass = this._hostClass.update(newClass, this._sizeClass);\n    }\n  }\n  get size() {\n    return this._size;\n  }\n  [0x1]: string;\n\n  constructor(\n    theme: LyTheme2,\n    renderer: Renderer2,\n    private _elementRef: ElementRef,\n    private _styleRenderer: StyleRenderer,\n    @Optional() @Inject(LY_AVATAR_DEFAULT_OPTIONS) private _defaults: LyAvatarDefaultOptions\n  ) {\n    super(theme);\n    this.setAutoContrast();\n    renderer.addClass(_elementRef.nativeElement, this.classes.root);\n  }\n\n  ngOnChanges() {\n    this.updateStyle(this._elementRef.nativeElement);\n  }\n\n  ngOnInit() {\n    if (!this.bg) {\n      this.bg = (this._defaults && this._defaults.bg) || DEFAULT_BG;\n      this.ngOnChanges();\n    }\n    if (!this.size) {\n      this.size = (this._defaults && this._defaults.size) || DEFAULT_SIZE;\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { LyCommonModule } from '@alyle/ui';\nimport { LyAvatar } from './avatar';\n\n@NgModule({\n  exports: [LyAvatar, LyCommonModule],\n  declarations: [LyAvatar]\n})\nexport class LyAvatarModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["tslib_1.__decorate","tslib_1.__param"],"mappings":"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"}