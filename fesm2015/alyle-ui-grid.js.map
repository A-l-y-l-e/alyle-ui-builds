{"version":3,"file":"alyle-ui-grid.js.map","sources":["ng://@alyle/ui/grid/grid.ts","ng://@alyle/ui/grid/grid.module.ts"],"sourcesContent":["import { Directive, ElementRef, Input, Optional, Inject, OnInit } from '@angular/core';\nimport { LyTheme2, eachMedia } from '@alyle/ui';\nimport { LY_MEDIA_QUERIES } from '@alyle/ui/responsive';\n\nconst COL_VALUES = { };\n\nconst ALIGN_ALIAS = {\n  rowReverse: 'row-reverse',\n  columnReverse: 'column-reverse',\n  wrapReverse: 'wrap-reverse',\n  start: 'flex-start',\n  end: 'flex-end',\n  between: 'space-between',\n  around: 'space-around',\n  evenly: 'space-evenly',\n};\n\nconst styles = ({\n  root: {\n    width: '100%',\n    display: 'flex',\n    flexWrap: 'wrap',\n    boxSizing: 'border-box'\n  }\n});\n\ntype Justify = 'start' | 'center' | 'end' | 'between' | 'around' | 'evenly';\ntype Direction = 'row' | 'row-reverse' | 'column' | 'column-reverse';\n\n/**\n * Grid container\n * example:\n * <ly-grid container [spacing]=\"'16 8@XSmall'\">\n *   <ly-grid item [col]=\"'6 12@XSmall'\">\n *     <div>6 12@XSmall</div>\n *   </ly-grid>\n *   <ly-grid item [col]=\"'6 12@XSmall'\">\n *     <div>6 12@XSmall</div>\n *   </ly-grid>\n * </ly-grid>\n */\n@Directive({\n  selector: 'ly-grid[container]'\n})\nexport class LyGrid {\n  /**\n   * Styles\n   * @ignore\n   */\n  classes = this.theme.addStyleSheet(styles, 'lyGrid');\n\n  private _spacing: string | number;\n  private _spacingClass: string;\n\n  private _negativeMarginClass: string;\n\n  private _justify: Justify;\n  private _justifyClass: string;\n\n  private _direction: Direction;\n  private _directionClass: string;\n\n  /**\n   * Defines the space between the component with the `item` attribute.\n   */\n  @Input()\n  get spacing(): string | number {\n    return this._spacing;\n  }\n  set spacing(val: string | number) {\n    if (val !== this.spacing) {\n      this._spacing = val;\n      this._spacingClass = this.theme.addStyle(`lyGrid-spacing:${val}`, () => {\n        if (typeof val === 'number') {\n          return `padding:${val / 2}px;`;\n        } else {\n          const spacingStyles: {\n            padding?: string\n          } = {};\n          eachMedia(val, (value, media, len) => {\n            const padding = `${(+value) / 2}px`;\n            if (len) {\n              spacingStyles[`@media ${this.mediaQueries[media]}`] = {\n                padding\n              };\n            } else {\n              spacingStyles.padding = padding;\n            }\n          });\n          return spacingStyles as any;\n        }\n      });\n      this._negativeMarginClass = this.theme.addStyle(`lyGrid-negative-margin:${val}`, () => {\n        if (typeof val === 'number') {\n          return `margin:${val / -2}px;width: calc(100% + ${val}px);`;\n        } else {\n          let negativeMarginStyles: {\n            margin?: string\n            width?: string\n          };\n          eachMedia(val, (value, media, len) => {\n            const negativeMarginstyles = {\n              margin: `${(-value) / 2}px`,\n              width: `calc(100% + ${value}px)`\n            };\n            if (len) {\n              if (!negativeMarginStyles) {\n                negativeMarginStyles = {};\n              }\n              negativeMarginStyles[`@media ${this.mediaQueries[media]}`] = negativeMarginstyles;\n            } else {\n              negativeMarginStyles = negativeMarginstyles;\n            }\n          });\n          return negativeMarginStyles as any;\n        }\n      }, this.el.nativeElement, this._negativeMarginClass);\n    }\n  }\n\n  get spacingClass() {\n    return this._spacingClass;\n  }\n\n  /** Defines the justify-content style property. */\n  @Input()\n  get justify(): Justify {\n    return this._justify;\n  }\n  set justify(val: Justify) {\n    if (val !== this.justify) {\n      this._justify = val;\n      this._justifyClass = this.theme.addStyle(`lyGrid-justify:${val}`, () => {\n        let justifyStyles: {\n          justifyContent?: string\n        };\n        eachMedia(val, (value, media, isMedia) => {\n          const newJustifyStyles = {\n            justifyContent: value in ALIGN_ALIAS\n            ? ALIGN_ALIAS[value]\n            : value\n          };\n          if (isMedia) {\n            if (!justifyStyles) {\n              justifyStyles = {};\n            }\n            justifyStyles[`@media ${this.mediaQueries[media]}`] = newJustifyStyles;\n          } else {\n            justifyStyles = newJustifyStyles;\n          }\n        });\n        return justifyStyles as any;\n      }, this.el.nativeElement, this._justifyClass);\n    }\n  }\n\n  /** Defines the justify-content style property. */\n  @Input()\n  get direction(): Direction {\n    return this._direction;\n  }\n  set direction(val: Direction) {\n    if (val !== this.direction) {\n      this._direction = val;\n      this._directionClass = this.theme.addStyle(`lyGrid-direction:${val}`, () => {\n        let directionStyles: {\n          flexDirection?: string\n        };\n        eachMedia(val, (value, media, isMedia) => {\n          const newDirectionStyles = {\n            flexDirection: value in ALIGN_ALIAS\n            ? ALIGN_ALIAS[value]\n            : value\n          };\n          if (isMedia) {\n            if (!directionStyles) {\n              directionStyles = {};\n            }\n            directionStyles[`@media ${this.mediaQueries[media]}`] = newDirectionStyles;\n          } else {\n            directionStyles = newDirectionStyles;\n          }\n        });\n        return directionStyles as any;\n      }, this.el.nativeElement, this._directionClass);\n    }\n  }\n\n  constructor(\n    @Optional() @Inject(LY_MEDIA_QUERIES) private mediaQueries: any,\n    private theme: LyTheme2,\n    private el: ElementRef,\n  ) {\n    this.el.nativeElement.classList.add(this.classes.root);\n  }\n}\n\n@Directive({\n  selector: 'ly-grid[item]'\n})\nexport class LyGridItem implements OnInit {\n  private _col: string | number;\n  private _colClass: string;\n\n  private _order: string | number;\n  private _orderClass: string;\n\n  /** Defines the number of grids */\n  @Input()\n  get col(): string | number {\n    return this._col;\n  }\n  set col(val: string | number) {\n    if (val !== this.col) {\n      this._col = val;\n      this._colClass = this.theme.addStyle(`lyGrid-col:${val}`, () => {\n        if (typeof val === 'number') {\n          return getColStyle(val);\n        } else {\n          let colStyles: {\n            maxWidth?: string | number\n            flexBasis?: string | number\n            flexGrow?: number\n          };\n          eachMedia(val, (value, media, len) => {\n            const newColStyles = getColStyle(+value);\n            if (len) {\n              if (!colStyles) {\n                colStyles = {};\n              }\n              colStyles[`@media ${this.mediaQueries[media]}`] = newColStyles;\n            } else {\n              colStyles = newColStyles;\n            }\n          });\n          return colStyles as any;\n        }\n      }, this.el.nativeElement, this._colClass);\n    }\n  }\n\n\n\n  /** Defines the order style property. */\n  @Input()\n  get order(): string | number {\n    return this._order;\n  }\n  set order(val: string | number) {\n    if (val !== this.order) {\n      this._order = val;\n      this._orderClass = this.theme.addStyle(`lyGrid-order:${val}`, () => {\n        let orderStyles: {\n          order?: string\n        };\n        eachMedia(`${val}`, (value, media, isMedia) => {\n          const newOrderStyles = {\n            order: value\n          };\n          if (isMedia) {\n            if (!orderStyles) {\n              orderStyles = {};\n            }\n            orderStyles[`@media ${this.mediaQueries[media]}`] = newOrderStyles;\n          } else {\n            orderStyles = newOrderStyles;\n          }\n        });\n        return orderStyles as any;\n      }, this.el.nativeElement, this._orderClass);\n    }\n  }\n\n  constructor(\n    @Optional() @Inject(LY_MEDIA_QUERIES) private mediaQueries: any,\n    private gridContainer: LyGrid,\n    private el: ElementRef,\n    private theme: LyTheme2\n  ) {\n    if (!gridContainer) {\n      throw new Error(`Require parent grid`);\n    }\n  }\n\n  ngOnInit() {\n    this._updateSpacing();\n  }\n\n  private _updateSpacing() {\n    if (this.gridContainer.spacingClass) {\n      this.el.nativeElement.classList.add(this.gridContainer.spacingClass);\n    }\n  }\n\n}\n\nfunction getColStyle(val: number) {\n  return {\n    maxWidth: val ? getColVal(val) : '100%',\n    flexBasis: val ? getColVal(val) : 0,\n    flexGrow: val ? 0 : 1\n  };\n}\n\nfunction getColVal(val: string | number): string {\n  return val in COL_VALUES\n              ? COL_VALUES[val]\n              : COL_VALUES[val] = `${+val * 100 / 12}%`;\n}\n","import { NgModule } from '@angular/core';\nimport { LyGrid, LyGridItem } from './grid';\n\n@NgModule({\n  exports: [LyGrid, LyGridItem],\n  declarations: [LyGrid, LyGridItem]\n})\nexport class LyGridModule { }\n"],"names":[],"mappings":"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"}
