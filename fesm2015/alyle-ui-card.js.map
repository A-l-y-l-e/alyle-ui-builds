{"version":3,"file":"alyle-ui-card.js.map","sources":["ng://@alyle/ui/card/card.service.ts","ng://@alyle/ui/card/card.directive.ts","ng://@alyle/ui/card/card.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { LyTheme2 } from '@alyle/ui';\n\nconst styles = {\n  root: {\n    display: 'block',\n    overflow: 'hidden'\n  },\n  content: {\n    display: 'block',\n    padding: '16px 24px'\n  },\n  actions: {\n    display: 'block',\n    padding: '8px 12px'\n  },\n  actionsItem: {\n    margin: '0 4px'\n  }\n};\n\n@Injectable({ providedIn: 'root' })\nexport class LyCardService {\n  classes: {\n    root: string,\n    content: string,\n    actions: string,\n    actionsItem: string,\n  };\n  constructor(\n    theme: LyTheme2\n  ) {\n    this.classes = theme.addStyleSheet(styles, 'lyCard');\n  }\n}\n","import { Directive, Renderer2, ElementRef, Input, OnInit } from '@angular/core';\nimport { LyTheme2, shadowBuilder, defaultEntry, toBoolean } from '@alyle/ui';\nimport { LyCardService } from './card.service';\n\nconst DEFAULT_ELEVATION = 2;\nconst DEFAULT_ASPECT_RATIO = '16:9';\n\n@Directive({\n  selector: 'ly-card'\n})\nexport class LyCard implements OnInit {\n  private _elevation: string | number;\n  private _elevationClass: string;\n  @Input()\n  set elevation(val: string | number) {\n    if (this.elevation !== val) {\n      const newClass = this._createElevationClass(val);\n      this._elevationClass = this.styler.updateClass(this.el.nativeElement, this.renderer, newClass, this._elevationClass);\n    }\n  }\n  get elevation() {\n    return this._elevation;\n  }\n\n  constructor(\n    private cardService: LyCardService,\n    private styler: LyTheme2,\n    private el: ElementRef,\n    private renderer: Renderer2\n  ) { }\n\n  ngOnInit() {\n    this.renderer.addClass(this.el.nativeElement, this.cardService.classes.root);\n    if (this.elevation === void 0) {\n      this.elevation = DEFAULT_ELEVATION;\n    }\n  }\n\n  private _createElevationClass(val: string | number) {\n    this._elevation = defaultEntry(val, DEFAULT_ELEVATION);\n    return this.styler.setUpStyleSecondary<any>(\n      `k-card-e:${this.elevation}`,\n      theme => (\n        `background-color:${theme.background.primary};` +\n        `position:relative;` +\n        // `padding:24px;` + // remove this\n        `border-radius:2px;` +\n        `${shadowBuilder(this.elevation)}`\n      )\n    );\n  }\n}\n\n@Directive({\n  selector: 'ly-card-content'\n})\nexport class LyCardContent implements OnInit {\n\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private cardService: LyCardService\n  ) { }\n\n  ngOnInit() {\n    this.renderer.addClass(this.el.nativeElement, this.cardService.classes.content);\n  }\n}\n\n@Directive({\n  selector: 'ly-card-actions'\n})\nexport class LyCardActions implements OnInit {\n  @Input() disableActionSpacing: boolean;\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private cardService: LyCardService\n  ) { }\n  ngOnInit() {\n    this.renderer.addClass(this.el.nativeElement, this.cardService.classes.actions);\n    if (!toBoolean(this.disableActionSpacing)) {\n      this.el.nativeElement.childNodes.forEach(element => {\n        this.renderer.addClass(element, this.cardService.classes.actionsItem);\n      });\n    }\n  }\n}\n\n@Directive({\n  selector: 'ly-card-media'\n})\nexport class LyCardMedia implements OnInit {\n  private _bgImg: string;\n  private _bgImgClass: string;\n\n  private _ratio: string;\n  private _ratioClass: string;\n\n  @Input()\n  set bgImg(val: string) {\n    if (val !== this.bgImg) {\n      const newClass = this._createBgImgClass(val);\n      this._bgImgClass = this.theme.updateClass(this.el.nativeElement, this.renderer, newClass, this._bgImgClass);\n    }\n  }\n  get bgImg() {\n    return this._bgImg;\n  }\n\n  /** Aspect ratio */\n  @Input()\n  set ratio(val: string) {\n    if (val !== this.ratio) {\n      const newClass = this._createAspectRatioClass(val);\n      this._ratioClass = this.theme.updateClass(this.el.nativeElement, this.renderer, newClass, this._ratioClass);\n    }\n  }\n  get ratio() {\n    return this._ratio;\n  }\n\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private theme: LyTheme2\n  ) {}\n\n  ngOnInit() {\n    if (!this.ratio) {\n      this.ratio = DEFAULT_ASPECT_RATIO;\n    }\n  }\n\n  private _createBgImgClass(val: string) {\n    this._bgImg = val;\n    this.renderer.setStyle(this.el.nativeElement, `background-image`, `url(\"${val}\")`);\n    return this.theme.setUpStyle(\n      `k-card-media:${val}`,\n      () => (\n        `display:block;` +\n        `background-size: cover;` +\n        `background-repeat: no-repeat;` +\n        `background-position: center;`\n      )\n    );\n  }\n\n  private _createAspectRatioClass(val: string) {\n    this._ratio = val;\n    return this.theme.setUpStyle(\n      `k-card-media-ar:${val}`, {\n        ':before': () => {\n          return (\n            val.split(':').reduce((valorAnterior, valorActual) => {\n              return (\n                `padding-top:${+valorActual / +valorAnterior * 100}%;` +\n                `content:'';` +\n                `display:block;`\n              );\n            })\n          );\n        }\n      }\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LyCard, LyCardContent, LyCardActions, LyCardMedia } from './card.directive';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  exports: [LyCard, LyCardContent, LyCardActions, LyCardMedia],\n  declarations: [LyCard, LyCardContent, LyCardActions, LyCardMedia]\n})\nexport class LyCardModule { }\n"],"names":[],"mappings":";;;;;;;;AAAA,AAGA,uBAAM,MAAM,GAAG;IACb,IAAI,EAAE;QACJ,OAAO,EAAE,OAAO;QAChB,QAAQ,EAAE,QAAQ;KACnB;IACD,OAAO,EAAE;QACP,OAAO,EAAE,OAAO;QAChB,OAAO,EAAE,WAAW;KACrB;IACD,OAAO,EAAE;QACP,OAAO,EAAE,OAAO;QAChB,OAAO,EAAE,UAAU;KACpB;IACD,WAAW,EAAE;QACX,MAAM,EAAE,OAAO;KAChB;CACF,CAAC;AAGF;;;;IAOE,YACE,KAAe;QAEf,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;KACtD;;;YAZF,UAAU,SAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;YApBzB,QAAQ;;;;;;;;ACDjB,AAIA,uBAAM,iBAAiB,GAAG,CAAC,CAAC;AAC5B,uBAAM,oBAAoB,GAAG,MAAM,CAAC;AAKpC;;;;;;;IAcE,YACU,aACA,QACA,IACA;QAHA,gBAAW,GAAX,WAAW;QACX,WAAM,GAAN,MAAM;QACN,OAAE,GAAF,EAAE;QACF,aAAQ,GAAR,QAAQ;KACb;;;;;QAfD,SAAS,CAAC,GAAoB;QAChC,IAAI,IAAI,CAAC,SAAS,KAAK,GAAG,EAAE;YAC1B,uBAAM,QAAQ,GAAG,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC;YACjD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,IAAI,CAAC,QAAQ,EAAE,QAAQ,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;SACtH;;;;;IAEH,IAAI,SAAS;QACX,OAAO,IAAI,CAAC,UAAU,CAAC;KACxB;;;;IASD,QAAQ;QACN,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAC7E,IAAI,IAAI,CAAC,SAAS,KAAK,KAAK,CAAC,EAAE;YAC7B,IAAI,CAAC,SAAS,GAAG,iBAAiB,CAAC;SACpC;KACF;;;;;IAEO,qBAAqB,CAAC,GAAoB;QAChD,IAAI,CAAC,UAAU,GAAG,YAAY,CAAC,GAAG,EAAE,iBAAiB,CAAC,CAAC;QACvD,OAAO,IAAI,CAAC,MAAM,CAAC,mBAAmB,CACpC,YAAY,IAAI,CAAC,SAAS,EAAE,EAC5B,KAAK,KACH,oBAAoB,KAAK,CAAC,UAAU,CAAC,OAAO,GAAG;YAC/C,oBAAoB;YAEpB,oBAAoB;YACpB,GAAG,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CACnC,CACF,CAAC;;;;YA1CL,SAAS,SAAC;gBACT,QAAQ,EAAE,SAAS;aACpB;;;;YAPQ,aAAa;YADb,QAAQ;YADc,UAAU;YAArB,SAAS;;;0BAa1B,KAAK;;;;;;;;IA6CN,YACU,IACA,UACA;QAFA,OAAE,GAAF,EAAE;QACF,aAAQ,GAAR,QAAQ;QACR,gBAAW,GAAX,WAAW;KAChB;;;;IAEL,QAAQ;QACN,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;KACjF;;;YAbF,SAAS,SAAC;gBACT,QAAQ,EAAE,iBAAiB;aAC5B;;;;YAvD8B,UAAU;YAArB,SAAS;YAEpB,aAAa;;;;;;;;IAwEpB,YACU,IACA,UACA;QAFA,OAAE,GAAF,EAAE;QACF,aAAQ,GAAR,QAAQ;QACR,gBAAW,GAAX,WAAW;KAChB;;;;IACL,QAAQ;QACN,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAChF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,oBAAoB,CAAC,EAAE;YACzC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,CAAC,OAAO;gBAC9C,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;aACvE,CAAC,CAAC;SACJ;KACF;;;YAjBF,SAAS,SAAC;gBACT,QAAQ,EAAE,iBAAiB;aAC5B;;;;YAvE8B,UAAU;YAArB,SAAS;YAEpB,aAAa;;;qCAuEnB,KAAK;;;;;;;;IAiDN,YACU,IACA,UACA;QAFA,OAAE,GAAF,EAAE;QACF,aAAQ,GAAR,QAAQ;QACR,UAAK,GAAL,KAAK;KACX;;;;;QA1BA,KAAK,CAAC,GAAW;QACnB,IAAI,GAAG,KAAK,IAAI,CAAC,KAAK,EAAE;YACtB,uBAAM,QAAQ,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;YAC7C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,IAAI,CAAC,QAAQ,EAAE,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;SAC7G;;;;;IAEH,IAAI,KAAK;QACP,OAAO,IAAI,CAAC,MAAM,CAAC;KACpB;;;;;;QAIG,KAAK,CAAC,GAAW;QACnB,IAAI,GAAG,KAAK,IAAI,CAAC,KAAK,EAAE;YACtB,uBAAM,QAAQ,GAAG,IAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC,CAAC;YACnD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,IAAI,CAAC,QAAQ,EAAE,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;SAC7G;;;;;IAEH,IAAI,KAAK;QACP,OAAO,IAAI,CAAC,MAAM,CAAC;KACpB;;;;IAQD,QAAQ;QACN,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACf,IAAI,CAAC,KAAK,GAAG,oBAAoB,CAAC;SACnC;KACF;;;;;IAEO,iBAAiB,CAAC,GAAW;QACnC,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;QAClB,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,kBAAkB,EAAE,QAAQ,GAAG,IAAI,CAAC,CAAC;QACnF,OAAO,IAAI,CAAC,KAAK,CAAC,UAAU,CAC1B,gBAAgB,GAAG,EAAE,EACrB,OACE,gBAAgB;YAChB,yBAAyB;YACzB,+BAA+B;YAC/B,8BAA8B,CAC/B,CACF,CAAC;;;;;;IAGI,uBAAuB,CAAC,GAAW;QACzC,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;QAClB,OAAO,IAAI,CAAC,KAAK,CAAC,UAAU,CAC1B,mBAAmB,GAAG,EAAE,EAAE;YACxB,SAAS,EAAE;gBACT,QACE,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,aAAa,EAAE,WAAW;oBAC/C,QACE,eAAe,CAAC,WAAW,GAAG,CAAC,aAAa,GAAG,GAAG,IAAI;wBACtD,aAAa;wBACb,gBAAgB,EAChB;iBACH,CAAC,EACF;aACH;SACF,CACF,CAAC;;;;YA3EL,SAAS,SAAC;gBACT,QAAQ,EAAE,eAAe;aAC1B;;;;YA3F8B,UAAU;YAArB,SAAS;YACpB,QAAQ;;;sBAkGd,KAAK;sBAYL,KAAK;;;;;;;AC/GR;;;YAIC,QAAQ,SAAC;gBACR,OAAO,EAAE;oBACP,YAAY;iBACb;gBACD,OAAO,EAAE,CAAC,MAAM,EAAE,aAAa,EAAE,aAAa,EAAE,WAAW,CAAC;gBAC5D,YAAY,EAAE,CAAC,MAAM,EAAE,aAAa,EAAE,aAAa,EAAE,WAAW,CAAC;aAClE;;;;;;;;;;;;;;;;;;;;"}
