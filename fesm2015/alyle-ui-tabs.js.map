{"version":3,"file":"alyle-ui-tabs.js","sources":["ng://@alyle/ui/tabs/tab-content.directive.ts","ng://@alyle/ui/tabs/tabs.ts","ng://@alyle/ui/tabs/tabs.module.ts"],"sourcesContent":["import {Directive, TemplateRef} from '@angular/core';\n\n@Directive({selector: '[ly-tab-content]'})\nexport class LyTabContent {\n  constructor(public template: TemplateRef<any>) { }\n}\n","import {\n  AfterContentInit,\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChild,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  HostListener,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  QueryList,\n  Renderer2,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation,\n  Optional\n  } from '@angular/core';\nimport {\n  LyTheme2,\n  mixinBg,\n  mixinColor,\n  mixinDisabled,\n  mixinDisableRipple,\n  mixinElevation,\n  mixinOutlined,\n  mixinRaised,\n  mixinShadowColor,\n  mixinStyleUpdater,\n  Platform,\n  ThemeVariables,\n  AlignAlias,\n  YPosition,\n  XPosition,\n  Dir,\n  LyRippleService,\n  LyFocusState,\n  LY_COMMON_STYLES,\n  WinResize,\n  scrollWithAnimation,\n  toBoolean\n  } from '@alyle/ui';\nimport { LyButton } from '@alyle/ui/button';\nimport { LyTabContent } from './tab-content.directive';\nimport { Subscription } from 'rxjs';\nconst DEFAULT_DISABLE_RIPPLE = false;\nconst STYLE_PRIORITY = -2;\nconst DEFAULT_BG = 'primary';\nconst DEFAULT_INDICATOR_COLOR = 'accent';\nconst DEFAULT_ELEVATION = 4;\nconst DEFAULT_HEADER_PLACEMENT = 'above';\nexport type AlignTabs = 'start' | 'center' | 'end' | 'stretch' | 'baseline';\nexport type LyTabsHeaderPlacement = 'before' | 'after' | 'above' | 'below';\n\nexport const STYLES = (theme: ThemeVariables) => ({\n  $priority: STYLE_PRIORITY,\n  root: {\n    display: 'block'\n  },\n  container: {\n    display: 'flex'\n  },\n  tab: {\n    position: 'relative',\n    display: 'inline-flex'\n  },\n  /** Tab content */\n  contentContainer: {\n    overflow: 'hidden',\n    flexGrow: 1\n  },\n  /** Tab header */\n  tabsLabels: {\n    display: 'flex',\n    position: 'relative'\n  },\n  tabsLabelsContainer: {\n    overflow: 'hidden',\n    '{scrollable} &': {\n      '@media (hover: none)': {\n        overflow: 'auto'\n      }\n    }\n  },\n  label: {\n    '-webkit-tap-highlight-color': 'transparent',\n    '-webkit-appearance': 'none',\n    backgroundColor: 'transparent',\n    userSelect: 'none',\n    border: 0,\n    minWidth: '72px',\n    padding: '0 24px',\n    cursor: 'pointer',\n    height: '48px',\n    display: 'inline-flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    position: 'relative',\n    overflow: 'hidden',\n    fontFamily: theme.typography.fontFamily,\n    fontSize: theme.pxToRem(theme.typography.fontSize),\n    letterSpacing: '0.02857em',\n    color: 'currentColor',\n    outline: 'none',\n    width: '100%',\n    fontWeight: 500,\n    opacity: .7,\n    [theme.getBreakpoint('XSmall')]: {\n      padding: '0 12px'\n    }\n  },\n  tabLabelActive: {\n    opacity: 1\n  },\n  tabContents: {\n    display: 'flex',\n    transition: '450ms cubic-bezier(.1, 1, 0.5, 1)',\n    willChange: 'transform',\n    height: '100%'\n  },\n  tabContent: {\n    width: '100%',\n    height: '100%',\n    flexShrink: 0,\n    position: 'relative'\n  },\n  tabsIndicator: {\n    position: 'absolute',\n    height: '2px',\n    transition: '450ms cubic-bezier(.1, 1, 0.5, 1)',\n    background: 'currentColor'\n  },\n  tabsIndicatorForServer: {\n    position: 'absolute',\n    background: 'currentColor'\n  },\n  rippleContainer: {\n    ...LY_COMMON_STYLES.fill,\n    overflow: 'hidden'\n  },\n  scrollable: null\n});\n\n/** @docs-private */\nexport class LyTabsBase {\n  constructor(\n    public _theme: LyTheme2\n  ) { }\n}\n\n/** @docs-private */\nexport const LyTabsMixinBase = mixinStyleUpdater(mixinBg(mixinElevation(mixinShadowColor(LyTabsBase))));\n\n/** @docs-private */\nexport class LyTabLabelBase {\n  constructor(\n    public _theme: LyTheme2,\n    public _ngZone: NgZone\n  ) { }\n}\n\n/** @docs-private */\nexport const LyTabLabelMixinBase = mixinStyleUpdater(\nmixinBg(\n  mixinColor(\n    mixinRaised(\n      mixinDisabled(\n        mixinOutlined(\n          mixinElevation(\n            mixinShadowColor(\n              mixinDisableRipple(LyTabLabelBase)))))))));\n\n@Component({\n  selector: 'ly-tabs',\n  templateUrl: './tabs.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  exportAs: 'lyTabs',\n  inputs: [\n    'bg', 'elevation', 'shadowColor'\n  ]\n})\nexport class LyTabs extends LyTabsMixinBase implements OnChanges, OnInit, AfterViewInit, AfterContentInit, OnDestroy {\n  /** @docs-private */\n  readonly classes = this.theme.addStyleSheet(STYLES);\n  _selectedIndex: number;\n  _selectedBeforeIndex: number;\n  _selectedTab: LyTab | null;\n  _selectedBeforeTab: LyTab | null;\n  _isViewInitLoaded: boolean;\n  private _tabsSubscription = Subscription.EMPTY;\n  private _color: string;\n  private _colorClass: string;\n  private _headerPlacement: LyTabsHeaderPlacement;\n  private _headerPlacementClass: string;\n  private _alignTabs: AlignTabs;\n  private _alignTabsClass: string;\n  private _textColor: string;\n  private _textColorClass: string;\n  private _selectedIndexClass: string;\n  private _tabResizeSub: Subscription;\n  private _scrollable: boolean;\n\n  @ViewChild('tabs', { static: true }) tabsRef: ElementRef;\n  @ViewChild('tabContents', { static: true }) tabContents: ElementRef;\n  @ViewChild('tabsIndicator', { static: true }) tabsIndicator: ElementRef;\n  @Input() selectedIndexOnChange: 'auto' | number = 'auto';\n  @Input()\n  set scrollable(val: any) {\n    const newVal = toBoolean(val);\n    if (newVal) {\n      this.renderer.addClass(this.el.nativeElement, this.classes.scrollable);\n    } else if (this._scrollable != null) {\n      this.renderer.removeClass(this.el.nativeElement, this.classes.scrollable);\n    }\n    this._scrollable = newVal;\n  }\n  get scrollable() {\n    return this._scrollable;\n  }\n  @Input()\n  set indicatorColor(val: string) {\n    if (val !== this.indicatorColor) {\n      this._color = val;\n      this._colorClass = this.theme.addStyle(\n        `k-tab-indicator-color:${val}`,\n        theme => (\n          `color:${theme.colorOf(val)};`\n        ),\n        this.tabsIndicator.nativeElement, this._colorClass\n      );\n    }\n  }\n  get indicatorColor() {\n    return this._color;\n  }\n\n  @Input()\n  set headerPlacement(val: LyTabsHeaderPlacement) {\n    if (val !== this.headerPlacement) {\n      this._headerPlacement = val;\n      this._headerPlacementClass = this.theme.addStyle(`lyTabs.headerPlacement:${val}`,\n      () => {\n        let flexDirectionContainer: string;\n        let flexDirection = this._getFlexDirection(val);\n        let position: string;\n        let height: string | null = null;\n        let width: string | null = null;\n        let heightServer: string | null = null;\n        let widthServer: string | null = null;\n        switch (val) {\n          case YPosition.above:\n            flexDirectionContainer = 'column';\n            position = YPosition.below;\n            height = '2px';\n            widthServer = '100%';\n            break;\n          case YPosition.below:\n            flexDirectionContainer = 'column-reverse';\n            position = YPosition.above;\n            height = '2px';\n            widthServer = '100%';\n            break;\n          case XPosition.before:\n            flexDirectionContainer = 'row';\n            position = XPosition.after;\n            width = '2px';\n            heightServer = '100%';\n            break;\n          case XPosition.after:\n            flexDirectionContainer = 'row-reverse';\n            position = XPosition.before;\n            width = '2px';\n            heightServer = '100%';\n            break;\n\n          default:\n            throw new Error(`LyTabs: value:${val} do not is valid for \\`headerPlacement\\``);\n        }\n        if (val === YPosition.above || val === YPosition.below) {\n          flexDirection = 'row';\n        } else {\n          flexDirection = 'column';\n        }\n        return {\n          [`.${this.classes.container}`]: {\n            flexDirection: flexDirectionContainer\n          },\n          [`& .${this.classes.tabsIndicator},& .${this.classes.tabsIndicatorForServer}`]: {\n            [position]: 0,\n            height,\n            width\n          },\n          [`.${this.classes.tabsIndicatorForServer}`]: {\n            width: widthServer,\n            height: heightServer\n          },\n          [`& .${this.classes.tabsLabels},& .${this.classes.tabContents}`]: { flexDirection },\n          [`.${this.classes.tabContents}`]: { flexDirection }\n        };\n      },\n      this.el.nativeElement,\n      this._headerPlacementClass,\n      STYLE_PRIORITY);\n      this._updateStylesOfSelectedTab();\n    }\n  }\n  get headerPlacement() {\n    return this._headerPlacement;\n  }\n\n  @Input()\n  set alignTabs(val: AlignTabs) {\n    this._alignTabs = val;\n    this._alignTabsClass = this.theme.addStyle(`lyAlignTabs: ${val}`,\n    (\n      val === 'stretch' ? {\n        [`& .${this.classes.tabsLabels} .${this.classes.tab}`]: {\n          flexBasis: 0,\n          flexGrow: 1\n        }\n      } : {\n        [`& .${this.classes.tabsLabels}`]: {\n          justifyContent: val in AlignAlias ? AlignAlias[val] : val\n        }\n      }\n    ),\n    this.el.nativeElement,\n    this._alignTabsClass,\n    STYLE_PRIORITY);\n  }\n  get alignTabs() {\n    return this._alignTabs;\n  }\n\n  @Input()\n  set textColor(val: string) {\n    this._textColor = val;\n    this._textColorClass = this.theme.addStyle(`lyTabs.textColor:${val}`,\n    (theme: ThemeVariables) => ({\n      [`& .${this.classes.tabLabelActive}`]: {\n        color: theme.colorOf(val)\n      }\n    }),\n    this.el.nativeElement,\n    this._textColorClass,\n    STYLE_PRIORITY);\n  }\n  get textColor() {\n    return this._textColor;\n  }\n\n  @Input()\n  set selectedIndex(val: number) {\n    if (val !== this.selectedIndex) {\n      this._selectedBeforeIndex = this._selectedIndex as number;\n      this._selectedIndex = this._findIndex(val, 'auto');\n      this._selectedBeforeTab = this._selectedTab!;\n      this.selectedIndexChange.emit(this._selectedIndex);\n      this._markForCheck();\n      Promise.resolve(null).then(() => {\n        this._updateStylesOfSelectedTab();\n      });\n    }\n  }\n  get selectedIndex() {\n    return this._selectedIndex;\n  }\n\n  @Output() selectedIndexChange: EventEmitter<any> = new EventEmitter();\n  @ContentChildren(forwardRef(() => LyTab)) tabsList: QueryList<LyTab>;\n\n  constructor(\n    private theme: LyTheme2,\n    private renderer: Renderer2,\n    private el: ElementRef,\n    private cd: ChangeDetectorRef,\n    private _resizeService: WinResize\n  ) {\n    super(theme);\n    this.setAutoContrast();\n  }\n\n  ngOnChanges() {\n    if (this._isViewInitLoaded) {\n      this.updateStyle(this.tabsRef.nativeElement);\n    }\n  }\n\n  ngOnInit() {\n    if (this.selectedIndex == null) {\n      this.selectedIndex = 0;\n    }\n    this.renderer.addClass(this.el.nativeElement, this.classes.root);\n    const tabsIndicatorEl = this.tabsIndicator.nativeElement;\n    this.renderer.addClass(tabsIndicatorEl, this.classes.tabsIndicator);\n    /** Set default Color */\n    if (!this.indicatorColor && !this.bg && !this.textColor && !this.elevation) {\n      this.indicatorColor = DEFAULT_INDICATOR_COLOR;\n      this.bg = DEFAULT_BG;\n      this.elevation = DEFAULT_ELEVATION;\n    }\n    if (!this.headerPlacement) {\n      this.headerPlacement = DEFAULT_HEADER_PLACEMENT;\n    }\n  }\n\n  ngAfterContentInit() {\n    this._tabsSubscription = this.tabsList.changes.subscribe(() => {\n      if (this._selectedIndex !== this.selectedIndexOnChange) {\n        this.selectedIndex = this._findIndex(this.selectedIndex, this.selectedIndexOnChange);\n      }\n      this.cd.markForCheck();\n    });\n  }\n\n  ngAfterViewInit() {\n    this.updateStyle(this.tabsRef.nativeElement);\n    this._isViewInitLoaded = true;\n    if (Platform.isBrowser) {\n      this._tabResizeSub = this._resizeService.resize$.subscribe(() => {\n        if (this._selectedTab) {\n          this._updateIndicator(this._selectedTab);\n          this._selectedTab._tabLabel._updateTabScroll();\n        }\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    this._tabsSubscription.unsubscribe();\n    if (this._tabResizeSub) {\n      this._tabResizeSub.unsubscribe();\n    }\n  }\n\n  private _findIndex(selectedIndex: number, index: string | number) {\n    if (!this.tabsList) {\n      return selectedIndex;\n    }\n    const indexOfLastTab = this.tabsList.length - 1;\n    const currentIndex = typeof index === 'number' ? index : selectedIndex;\n    return currentIndex < 0 ? 0 : currentIndex > indexOfLastTab ? indexOfLastTab : currentIndex;\n  }\n\n  _updateIndicator(currentTab: LyTab, beforeTab?: LyTab): void {\n    if (currentTab) {\n      if (beforeTab) {\n        beforeTab._renderer.removeAttribute(beforeTab._tabIndicator.nativeElement, 'class');\n      }\n      const el = currentTab._el.nativeElement as HTMLElement;\n      const rects = el.getBoundingClientRect();\n\n      if (this.headerPlacement === XPosition.after || this.headerPlacement === XPosition.before) {\n        this.renderer.setStyle(this.tabsIndicator.nativeElement, 'height', `${rects.height}px`);\n        this.renderer.setStyle(this.tabsIndicator.nativeElement, 'top', `${el.offsetTop}px`);\n        this.renderer.removeStyle(this.tabsIndicator.nativeElement, 'width');\n        this.renderer.removeStyle(this.tabsIndicator.nativeElement, 'left');\n      } else {\n        this.renderer.setStyle(this.tabsIndicator.nativeElement, 'width', `${rects.width}px`);\n        this.renderer.setStyle(this.tabsIndicator.nativeElement, 'left', `${el.offsetLeft}px`);\n        this.renderer.removeStyle(this.tabsIndicator.nativeElement, 'height');\n        this.renderer.removeStyle(this.tabsIndicator.nativeElement, 'top');\n      }\n    }\n  }\n\n  private _updateStylesOfSelectedTab() {\n    const index = this._selectedIndex;\n    const placement = this.headerPlacement;\n    this._selectedIndexClass = this._theme.addStyle(`lyTabs.selectedIndex:${index}+${placement}`, (theme: ThemeVariables) => {\n      let sign = 1;\n      const position = this._getFlexDirection(placement) === 'column' ? 'Y' : 'X';\n      if (theme.direction === Dir.ltr || position === 'Y') {\n        sign = -1;\n      }\n      return {\n        transform: `translate${position}(${index * 100 * sign}%)`\n      };\n    }, this.tabContents.nativeElement, this._selectedIndexClass, STYLE_PRIORITY);\n    this.renderer.addClass(this.tabContents.nativeElement, this._selectedIndexClass);\n  }\n\n  _markForCheck() {\n    this.cd.markForCheck();\n  }\n\n  loadTemplate(tab: LyTab, index: number): TemplateRef<LyTabContent> | null {\n    tab.index = index;\n    if (this.selectedIndex === tab.index) {\n      // set 0 if is null\n      this._selectedTab = tab;\n      Promise.resolve(null).then(() => {\n        if (Platform.isBrowser) {\n          this._updateIndicator(tab);\n        } else {\n          // for server\n          const selectedBeforeTab = this._selectedBeforeTab;\n          if (selectedBeforeTab) {\n            this.renderer.removeClass(selectedBeforeTab._tabIndicator.nativeElement, this.classes.tabsIndicatorForServer);\n            this.renderer.removeClass(selectedBeforeTab._tabIndicator.nativeElement, this._colorClass);\n          }\n          this.renderer.addClass(this._selectedTab!._tabIndicator.nativeElement, this.classes.tabsIndicatorForServer);\n          this.renderer.addClass(this._selectedTab!._tabIndicator.nativeElement, this._colorClass);\n        }\n      });\n    }\n    tab._tabLabel._updateTabState();\n    if (this.selectedIndex === tab.index) {\n      return tab._templateRefLazy || tab._templateRef;\n    } else {\n      return null;\n    }\n  }\n\n  private _getFlexDirection(val: LyTabsHeaderPlacement) {\n    let flexDirection: string;\n    if (val === YPosition.above || val === YPosition.below) {\n      flexDirection = 'row';\n    } else {\n      flexDirection = 'column';\n    }\n    return flexDirection;\n  }\n}\n\n@Component({\n  selector: 'ly-tab',\n  templateUrl: './tab.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n})\nexport class LyTab implements OnInit {\n  /** Current tab index */\n  index: number;\n  _isBrowser = Platform.isBrowser;\n  @ContentChild(LyTabContent, { read: TemplateRef, static: true }) _templateRefLazy: TemplateRef<LyTabContent>;\n  @ViewChild('_templateNgContent', { static: true }) _templateRef: TemplateRef<any>;\n  @ViewChild('tabIndicator', { static: false }) _tabIndicator: ElementRef;\n  @ContentChild(forwardRef(() => LyTabLabel), { static: true }) _tabLabel: LyTabLabel & { };\n\n  constructor(\n    private _tabs: LyTabs,\n    public _renderer: Renderer2,\n    public _el: ElementRef\n  ) { }\n\n  ngOnInit() {\n    this._renderer.addClass(this._el.nativeElement, this._tabs.classes.tab);\n  }\n}\n\n@Component({\n  selector: 'button[ly-tab-label], a[ly-tab-label]',\n  templateUrl: 'tab-label.html',\n  inputs: [\n    'bg',\n    'color',\n    'raised',\n    'disabled',\n    'outlined',\n    'elevation',\n    'shadowColor',\n    'disableRipple'\n  ]\n})\nexport class LyTabLabel extends LyButton implements OnInit, AfterViewInit {\n  private _activeTabStyle: boolean;\n  private _active: boolean;\n  _isBrowser = Platform.isBrowser;\n  @Input()\n  get active() {\n    return this._active;\n  }\n  set active(val: boolean) {\n    const newVal = toBoolean(val);\n    if (newVal && val !== this.active) {\n      Promise.resolve(null).then(() => this._tabs.selectedIndex = this._tab.index);\n    }\n  }\n\n  @ViewChild('rippleContainer', { static: false }) _rippleContainer: ElementRef;\n  @HostListener('click') _onClickTab() {\n    if (!this.disabled) {\n      this._tabs.selectedIndex = this._tab.index;\n    }\n  }\n\n\n  constructor(\n    _el: ElementRef,\n    _renderer: Renderer2,\n    _theme: LyTheme2,\n    _ngZone: NgZone,\n    _rippleService: LyRippleService,\n    _focusState: LyFocusState,\n    @Optional() private _tab: LyTab,\n    @Optional() private _tabs: LyTabs\n  ) {\n    super(_el, _renderer, _theme, _ngZone, _rippleService, _focusState);\n  }\n\n  ngOnInit() {\n    this._renderer.addClass(this._el.nativeElement, this._tabs.classes.label);\n    // set default disable ripple\n    if (this.disableRipple == null) {\n      this.disableRipple = DEFAULT_DISABLE_RIPPLE;\n    }\n  }\n\n  _updateTabState() {\n    // update styles for active tab\n    if (this._tabs._selectedIndex === this._tab.index) {\n      if (!this._activeTabStyle) {\n        this._activeTabStyle = true;\n        this._renderer.addClass(this._el.nativeElement, this._tabs.classes.tabLabelActive);\n        this._updateTabScroll();\n      }\n    } else if (this._activeTabStyle) {\n      this._activeTabStyle = false;\n      this._renderer.removeClass(this._el.nativeElement, this._tabs.classes.tabLabelActive);\n    }\n  }\n\n  _updateTabScroll() {\n    if (Platform.isBrowser && this._tabs.scrollable) {\n      const tab = this._tab._el.nativeElement as HTMLElement;\n      const tabContainer = this._tabs.tabsRef.nativeElement as HTMLElement;\n      if (tabContainer.scrollWidth !== tabContainer.offsetWidth) {\n        const dir = this._theme.variables.direction;\n        const max = tabContainer.scrollWidth - tabContainer.offsetWidth;\n        const offsetBefore = dir === Dir.rtl\n        ? max + tab.offsetLeft\n        : tab.offsetLeft;\n        const l = offsetBefore + tab.offsetWidth / 2 - tabContainer.offsetWidth / 2;\n        const newVal = l >= max ? max : l <= 0 ? 0 : l;\n        scrollWithAnimation(this._tabs.tabsRef.nativeElement, newVal, 350, 'x');\n      }\n    }\n  }\n\n  ngAfterViewInit() { }\n}\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgTranscludeModule, LyCommonModule, LyThemeModule } from '@alyle/ui';\nimport { LyTabs, LyTabLabel, LyTab } from './tabs';\nimport { LyTabContent } from './tab-content.directive';\n\n@NgModule({\n  imports: [LyThemeModule, CommonModule, LyCommonModule, NgTranscludeModule],\n  exports: [LyCommonModule, LyTabs, LyTab, LyTabLabel, LyTabContent],\n  declarations: [LyTabs, LyTab, LyTabLabel, LyTabContent]\n})\nexport class LyTabsModule { }\n"],"names":["tslib_1.__decorate","tslib_1.__param"],"mappings":"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"}