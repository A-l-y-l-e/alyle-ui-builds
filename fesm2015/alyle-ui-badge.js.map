{"version":3,"file":"alyle-ui-badge.js.map","sources":["ng://@alyle/ui/badge/badge.ts","ng://@alyle/ui/badge/badge.module.ts"],"sourcesContent":["import { Directive, Input, ElementRef, Optional, Renderer2, OnInit } from '@angular/core';\nimport { ThemeVariables, LyCommon, LyTheme2 } from '@alyle/ui';\n\nconst STYLE_PRIORITY = -2;\nconst DEFAULT_POSITION = 'startTop';\nconst DEFAULT_BG = 'primary';\nconst DEFAULT_POSITION_VALUE = {\n  end: '-11px',\n  top: '-11px'\n};\nconst styles = (theme: ThemeVariables) => ({\n  root: {\n    position: 'absolute',\n    display: 'flex',\n    width: '22px',\n    height: '22px',\n    borderRadius: '100%',\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n    pointerEvents: 'none',\n    zIndex: 1,\n    fontSize: theme.pxToRem(12),\n    fontFamily: theme.typography.fontFamily,\n    justifyContent: 'center',\n    alignItems: 'center',\n    ...theme.badge.root\n  },\n  relative: {\n    position: 'relative'\n  }\n});\n@Directive({\n  selector: 'ly-badge, [lyBadge]'\n})\nexport class LyBadge implements OnInit {\n  /**\n   * Styles\n   * @ignore\n   */\n  classes = this._theme.addStyleSheet(styles, STYLE_PRIORITY);\n  private _content: string | number;\n  private _position: string;\n  private _positionClass: string;\n  private _elContainer: any;\n  private _badgeElementRef: any;\n  private _bgClass: string;\n\n  /** The content for the badge */\n  @Input('lyBadge')\n  set content(val: string | number) {\n    if (val !== this.content) {\n      this._content = val;\n      this._createBadge();\n    }\n  }\n  get content(): string | number {\n    return this._content;\n  }\n\n  /** The position for the badge */\n  @Input('lyBadgePosition')\n  set position(val: string) {\n    if (val !== this.position) {\n      this._position = val;\n      this._positionClass = this._theme.addStyle(`ly-badge.position:${val}`, (theme: ThemeVariables) => {\n        const sty = theme.badge.position && theme.badge.position[val] || val === DEFAULT_POSITION ? DEFAULT_POSITION_VALUE : null;\n        if (sty) {\n          return sty;\n        } else {\n          throw new Error(`LyBadge.position \\`${val}\\` not found in \\`ThemeVariables\\``);\n        }\n      },\n      this._badgeElementRef, this._positionClass, STYLE_PRIORITY);\n    }\n\n  }\n  get position() {\n    return this._position;\n  }\n\n  /** The color of the badge  */\n  @Input('lyBadgeBg')\n  get bg() {\n    return this._bg;\n  }\n  set bg(val: string) {\n    if (val !== this.bg) {\n      this._bg = val;\n      this._bgClass = this._theme.addStyle(`ly-badge.bg:${val}`, (theme: ThemeVariables) => ({\n        backgroundColor: theme.colorOf(val),\n        color: theme.colorOf(`${val}:contrast`)\n      }),\n      this._badgeElementRef, this._bgClass, STYLE_PRIORITY);\n    }\n  }\n  private _bg: string;\n\n  constructor(\n    private _el: ElementRef,\n    private _theme: LyTheme2,\n    private _renderer: Renderer2,\n    @Optional() _common: LyCommon\n  ) {\n    this._badgeElementRef = this._el.nativeElement;\n    if (_common) {\n      _common.setAutoContrast();\n    }\n  }\n\n  ngOnInit() {\n\n    /** Add root styles */\n    this._renderer.addClass(this._badgeElementRef, this.classes.root);\n\n    /** Set default position */\n    if (!this.position) {\n      this.position = DEFAULT_POSITION;\n    }\n\n    /** Set default bg */\n    if (this.content && !this.bg) {\n      this.bg = DEFAULT_BG;\n    }\n  }\n\n  private _createBadge() {\n    if (!this._elContainer) {\n      const container = this._elContainer = this._renderer.createElement('div');\n      this._renderer.appendChild(this._el.nativeElement, container);\n      this._badgeElementRef = container;\n\n      /** Add position relative */\n      this._renderer.addClass(this._el.nativeElement, this.classes.relative);\n    }\n    this._elContainer.textContent = `${this.content}`;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LyCommonModule } from '@alyle/ui';\nimport { LyBadge } from './badge';\n\n@NgModule({\n  imports: [CommonModule, LyCommonModule],\n  exports: [LyBadge, LyCommonModule],\n  declarations: [LyBadge]\n})\nexport class LyBadgeModule { }\n"],"names":[],"mappings":"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"}
